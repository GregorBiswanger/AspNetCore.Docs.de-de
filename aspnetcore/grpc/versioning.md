---
title: Versionierung von GrpC-Diensten
author: jamesnk
description: Erfahren Sie, wie Sie GrpC-Dienste in Version
monikerRange: '>= aspnetcore-3.0'
ms.author: jamesnk
ms.date: 01/09/2020
uid: grpc/versioning
ms.openlocfilehash: 9bd76009ba28a1abef25a98686afea6753d4a8f4
ms.sourcegitcommit: 7dfe6cc8408ac6a4549c29ca57b0c67ec4baa8de
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/09/2020
ms.locfileid: "75828515"
---
# <a name="versioning-grpc-services"></a><span data-ttu-id="ccd14-103">Versionierung von GrpC-Diensten</span><span class="sxs-lookup"><span data-stu-id="ccd14-103">Versioning gRPC services</span></span>

<span data-ttu-id="ccd14-104">Von [James Newton-King](https://twitter.com/jamesnk)</span><span class="sxs-lookup"><span data-stu-id="ccd14-104">By [James Newton-King](https://twitter.com/jamesnk)</span></span>

<span data-ttu-id="ccd14-105">Neue Features, die einer app hinzugefügt werden, können für Clients bereitgestellte GrpC-Dienste erfordern, was manchmal auf unerwartete und unterbrechende Weise der Fall ist.</span><span class="sxs-lookup"><span data-stu-id="ccd14-105">New features added to an app can require gRPC services provided to clients to change, sometimes in unexpected and breaking ways.</span></span> <span data-ttu-id="ccd14-106">Wenn sich die GrpC-Dienste ändern:</span><span class="sxs-lookup"><span data-stu-id="ccd14-106">When gRPC services change:</span></span>

* <span data-ttu-id="ccd14-107">Beachten Sie, welche Auswirkungen Änderungen auf Clients haben.</span><span class="sxs-lookup"><span data-stu-id="ccd14-107">Consideration should be given on how changes impact clients.</span></span>
* <span data-ttu-id="ccd14-108">Eine Versions Verwaltungs Strategie zur Unterstützung von Änderungen sollte implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-108">A versioning strategy to support changes should be implemented.</span></span>

## <a name="backwards-compatibility"></a><span data-ttu-id="ccd14-109">Abwärtskompatibilität</span><span class="sxs-lookup"><span data-stu-id="ccd14-109">Backwards compatibility</span></span>

<span data-ttu-id="ccd14-110">Das GrpC-Protokoll dient zur Unterstützung von Diensten, die sich im Laufe der Zeit ändern.</span><span class="sxs-lookup"><span data-stu-id="ccd14-110">The gRPC protocol is designed to support services that change over time.</span></span> <span data-ttu-id="ccd14-111">Im Allgemeinen sind Ergänzungen zu den GrpC-Diensten und-Methoden nicht unterbrechend.</span><span class="sxs-lookup"><span data-stu-id="ccd14-111">Generally, additions to gRPC services and methods are non-breaking.</span></span> <span data-ttu-id="ccd14-112">Durch nicht unterbrechende Änderungen können vorhandene Clients weiterhin ohne Änderungen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="ccd14-112">Non-breaking changes allow existing clients to continue working without changes.</span></span> <span data-ttu-id="ccd14-113">Das ändern oder Löschen von GrpC-Diensten sind wichtige Änderungen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-113">Changing or deleting gRPC services are breaking changes.</span></span> <span data-ttu-id="ccd14-114">Wenn die GrpC-Dienste wichtige Änderungen aufweisen, müssen Clients, die diesen Dienst verwenden, aktualisiert und erneut bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-114">When gRPC services have breaking changes, clients using that service have to be updated and redeployed.</span></span>

<span data-ttu-id="ccd14-115">Das vornehmen von nicht wichtigen Änderungen an einem Dienst hat eine Reihe von Vorteilen:</span><span class="sxs-lookup"><span data-stu-id="ccd14-115">Making non-breaking changes to a service has a number of benefits:</span></span>

* <span data-ttu-id="ccd14-116">Vorhandene Clients werden weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="ccd14-116">Existing clients continue to run.</span></span>
* <span data-ttu-id="ccd14-117">Vermeidet die Arbeit bei der Benachrichtigung von Clients über wichtige Änderungen und deren Aktualisierung.</span><span class="sxs-lookup"><span data-stu-id="ccd14-117">Avoids work involved with notifying clients of breaking changes, and updating them.</span></span>
* <span data-ttu-id="ccd14-118">Es muss nur eine Version des Dienstanbieter dokumentiert und gewartet werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-118">Only one version of the service needs to be documented and maintained.</span></span>

### <a name="non-breaking-changes"></a><span data-ttu-id="ccd14-119">Geringfügige Änderungen</span><span class="sxs-lookup"><span data-stu-id="ccd14-119">Non-breaking changes</span></span>

<span data-ttu-id="ccd14-120">Diese Änderungen sind nicht unterbrechend auf der GrpC-Protokollebene und der .net-Binär Ebene.</span><span class="sxs-lookup"><span data-stu-id="ccd14-120">These changes are non-breaking at a gRPC protocol level and .NET binary level.</span></span>

* <span data-ttu-id="ccd14-121">**Hinzufügen eines neuen Dienstanbieter**</span><span class="sxs-lookup"><span data-stu-id="ccd14-121">**Adding a new service**</span></span>
* <span data-ttu-id="ccd14-122">**Hinzufügen einer neuen Methode zu einem Dienst**</span><span class="sxs-lookup"><span data-stu-id="ccd14-122">**Adding a new method to a service**</span></span>
* <span data-ttu-id="ccd14-123">**Hinzufügen eines Felds zu einer Anforderungs Nachricht** : Felder, die einer Anforderungs Nachricht hinzugefügt werden, werden auf dem Server mit dem [Standardwert](https://developers.google.com/protocol-buffers/docs/proto3#default) deserialisiert, wenn Sie nicht festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="ccd14-123">**Adding a field to a request message** - Fields added to a request message are deserialized with the [default value](https://developers.google.com/protocol-buffers/docs/proto3#default) on the server when not set.</span></span> <span data-ttu-id="ccd14-124">Um nicht Breaking Change werden zu können, muss der Dienst erfolgreich sein, wenn das neue Feld nicht von älteren Clients festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="ccd14-124">To be a non-breaking change, the service must succeed when the new field isn't set by older clients.</span></span>
* <span data-ttu-id="ccd14-125">**Hinzufügen eines Felds zu einer Antwortnachricht** : Felder, die einer Antwortnachricht hinzugefügt werden, werden in die Auflistung [unbekannter Felder](https://developers.google.com/protocol-buffers/docs/proto3#unknowns) der Nachricht auf dem Client deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-125">**Adding a field to a response message** - Fields added to a response message are deserialized into the message's [unknown fields](https://developers.google.com/protocol-buffers/docs/proto3#unknowns) collection on the client.</span></span>
* <span data-ttu-id="ccd14-126">Das **Hinzufügen eines Werts zu** enumerationsenumerationen wird als numerischer Wert serialisiert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-126">**Adding a value to an enum** - Enums are serialized as a numeric value.</span></span> <span data-ttu-id="ccd14-127">Neue Enumerationswerte werden auf dem Client auf den-Enumerationswert ohne Enumerationsnamen deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-127">New enum values are deserialized on the client to the enum value without an enum name.</span></span> <span data-ttu-id="ccd14-128">Ältere Clients müssen beim Empfang des neuen Enumerationswerts ordnungsgemäß ausgeführt werden, damit Sie nicht Breaking Change werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-128">To be a non-breaking change, older clients must run correctly when receiving the new enum value.</span></span>

### <a name="binary-breaking-changes"></a><span data-ttu-id="ccd14-129">Binäre wichtige Änderungen</span><span class="sxs-lookup"><span data-stu-id="ccd14-129">Binary breaking changes</span></span>

<span data-ttu-id="ccd14-130">Die folgenden Änderungen sind auf der GrpC-Protokollebene nicht unterbrechend, aber der Client muss aktualisiert werden, wenn er auf den neuesten *. proto* -Vertrag oder die Client .NET-Assembly aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="ccd14-130">The following changes are non-breaking at a gRPC protocol level, but the client needs to be updated if it upgrades to the latest *.proto* contract or client .NET assembly.</span></span> <span data-ttu-id="ccd14-131">Die binäre Kompatibilität ist wichtig, wenn Sie beabsichtigen, eine GrpC-Bibliothek in nuget zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-131">Binary compatibility is important if you plan to publish a gRPC library to NuGet.</span></span>

* <span data-ttu-id="ccd14-132">Das **Entfernen von Feldwerten** aus einem entfernten Feld wird in die [unbekannten Felder](https://developers.google.com/protocol-buffers/docs/proto3#unknowns)der Nachricht deserialisiert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-132">**Removing a field** - Values from a removed field are deserialized to a message's [unknown fields](https://developers.google.com/protocol-buffers/docs/proto3#unknowns).</span></span> <span data-ttu-id="ccd14-133">Dabei handelt es sich nicht um ein GrpC-Protokoll Breaking Change, aber der Client muss aktualisiert werden, wenn ein Upgrade auf den letzten Vertrag durchführt.</span><span class="sxs-lookup"><span data-stu-id="ccd14-133">This isn't a gRPC protocol breaking change, but the client needs to be updated if it upgrades to the latest contract.</span></span> <span data-ttu-id="ccd14-134">Es ist wichtig, dass eine entfernte Feldnummer in Zukunft nicht versehentlich wieder verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ccd14-134">It's important that a removed field number isn't accidentally reused in the future.</span></span> <span data-ttu-id="ccd14-135">Um sicherzustellen, dass dies nicht der Fall ist, geben Sie mit dem [reservierten](https://developers.google.com/protocol-buffers/docs/proto3#reserved) Schlüsselwort von protobuf gelöschte Feldnummern und-Namen an.</span><span class="sxs-lookup"><span data-stu-id="ccd14-135">To ensure this doesn't happen, specify deleted field numbers and names on the message using Protobuf's [reserved](https://developers.google.com/protocol-buffers/docs/proto3#reserved) keyword.</span></span>
* <span data-ttu-id="ccd14-136">Das **Umbenennen eines Nachrichten** Nachrichten namens wird in der Regel nicht im Netzwerk gesendet, sodass dies kein GrpC-Protokoll Breaking Change ist.</span><span class="sxs-lookup"><span data-stu-id="ccd14-136">**Renaming a message** - Message names aren't typically sent on the network, so this isn't a gRPC protocol breaking change.</span></span> <span data-ttu-id="ccd14-137">Wenn ein Upgrade auf den letzten Vertrag durchführt, muss der Client aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-137">The client will need to be updated if it upgrades to the latest contract.</span></span> <span data-ttu-id="ccd14-138">Eine Situation, in der Nachrichten Namen im Netzwerk gesendet **werden** , besteht aus [beliebigen](https://developers.google.com/protocol-buffers/docs/proto3#any) Feldern, wenn der Nachrichten Name verwendet wird, um den Nachrichtentyp zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ccd14-138">One situation where message names **are** sent on the network is with [Any](https://developers.google.com/protocol-buffers/docs/proto3#any) fields, when the message name is used to identify the message type.</span></span>
* <span data-ttu-id="ccd14-139">Wenn Sie **csharp_namespace** ändernde `csharp_namespace` ändern, ändert sich der Namespace generierter .NET-Typen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-139">**Changing csharp_namespace** - Changing `csharp_namespace` will change the namespace of generated .NET types.</span></span> <span data-ttu-id="ccd14-140">Dabei handelt es sich nicht um ein GrpC-Protokoll Breaking Change, aber der Client muss aktualisiert werden, wenn ein Upgrade auf den letzten Vertrag durchführt.</span><span class="sxs-lookup"><span data-stu-id="ccd14-140">This isn't a gRPC protocol breaking change, but the client needs to be updated if it upgrades to the latest contract.</span></span>

### <a name="protocol-breaking-changes"></a><span data-ttu-id="ccd14-141">Protokoll brechende Änderungen</span><span class="sxs-lookup"><span data-stu-id="ccd14-141">Protocol breaking changes</span></span>

<span data-ttu-id="ccd14-142">Die folgenden Elemente sind Protokoll-und binäre wichtige Änderungen:</span><span class="sxs-lookup"><span data-stu-id="ccd14-142">The following items are protocol and binary breaking changes:</span></span>

* <span data-ttu-id="ccd14-143">**Umbenennen eines Felds** mit protobuf-Inhalt werden die Feldnamen nur im generierten Code verwendet.</span><span class="sxs-lookup"><span data-stu-id="ccd14-143">**Renaming a field** - With Protobuf content, the field names are only used in generated code.</span></span> <span data-ttu-id="ccd14-144">Die Feldzahl wird verwendet, um Felder im Netzwerk zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ccd14-144">The field number is used to identify fields on the network.</span></span> <span data-ttu-id="ccd14-145">Das Umbenennen eines Felds ist kein Protokoll Breaking Change für protobuf.</span><span class="sxs-lookup"><span data-stu-id="ccd14-145">Renaming a field isn't a protocol breaking change for Protobuf.</span></span> <span data-ttu-id="ccd14-146">Wenn ein Server jedoch JSON-Inhalte verwendet, ist das Umbenennen eines Felds eine Breaking Change.</span><span class="sxs-lookup"><span data-stu-id="ccd14-146">However, if a server is using JSON content then renaming a field is a breaking change.</span></span>
* <span data-ttu-id="ccd14-147">**Ändern eines Feld Datentyps** : das Ändern des Datentyps eines Felds in einen nicht [kompatiblen Typ](https://developers.google.com/protocol-buffers/docs/proto3#updating) führt beim Deserialisieren der Nachricht zu Fehlern.</span><span class="sxs-lookup"><span data-stu-id="ccd14-147">**Changing a field data type** - Changing a field's data type to an [incompatible type](https://developers.google.com/protocol-buffers/docs/proto3#updating) will cause errors when deserializing the message.</span></span> <span data-ttu-id="ccd14-148">Auch wenn der neue Datentyp kompatibel ist, ist es wahrscheinlich, dass der Client aktualisiert werden muss, um den neuen Typ zu unterstützen, wenn er auf den letzten Vertrag aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="ccd14-148">Even if the new data type is compatible, it's likely the client needs to be updated to support the new type if it upgrades to the latest contract.</span></span>
* <span data-ttu-id="ccd14-149">**Ändern einer Feldzahl** : bei protobuf-Nutzlasten wird die Feldzahl verwendet, um Felder im Netzwerk zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ccd14-149">**Changing a field number** - With Protobuf payloads, the field number is used to identify fields on the network.</span></span>
* <span data-ttu-id="ccd14-150">**Umbenennen eines Pakets, eines dienstangangs oder einer Methode** : GrpC verwendet den Paketnamen, den Dienstnamen und den Methodennamen, um die URL zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-150">**Renaming a package, service or method** - gRPC uses the package name, service name, and method name to build the URL.</span></span> <span data-ttu-id="ccd14-151">Der Client erhält einen *nicht implementierten* Status vom Server.</span><span class="sxs-lookup"><span data-stu-id="ccd14-151">The client gets an *UNIMPLEMENTED* status from the server.</span></span>
* <span data-ttu-id="ccd14-152">**Entfernen eines Dienstes oder einer Methode** : der Client erhält einen *nicht implementierten* Status vom Server, wenn die entfernte Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ccd14-152">**Removing a service or method** - The client gets an *UNIMPLEMENTED* status from the server when calling the removed method.</span></span>

### <a name="behavior-breaking-changes"></a><span data-ttu-id="ccd14-153">Wichtige Verhaltensänderungen</span><span class="sxs-lookup"><span data-stu-id="ccd14-153">Behavior breaking changes</span></span>

<span data-ttu-id="ccd14-154">Wenn Sie nicht unterbrechende Änderungen vornehmen, müssen Sie auch überprüfen, ob ältere Clients weiterhin mit dem neuen Dienst Verhalten arbeiten können.</span><span class="sxs-lookup"><span data-stu-id="ccd14-154">When making non-breaking changes, you must also consider whether older clients can continue working with the new service behavior.</span></span> <span data-ttu-id="ccd14-155">Beispiel: Hinzufügen eines neuen Felds zu einer Anforderungs Nachricht:</span><span class="sxs-lookup"><span data-stu-id="ccd14-155">For example, adding a new field to a request message:</span></span>

* <span data-ttu-id="ccd14-156">Ist kein Protokoll Breaking Change.</span><span class="sxs-lookup"><span data-stu-id="ccd14-156">Isn't a protocol breaking change.</span></span>
* <span data-ttu-id="ccd14-157">Wenn Sie einen Fehlerstatus auf dem Server zurückgeben, wenn das neue Feld nicht festgelegt ist, ist es ein Breaking Change für alte Clients.</span><span class="sxs-lookup"><span data-stu-id="ccd14-157">Returning an error status on the server if the new field isn't set makes it a breaking change for old clients.</span></span>

<span data-ttu-id="ccd14-158">Die Verhaltens Kompatibilität wird durch Ihren app-spezifischen Code festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ccd14-158">Behavior compatibility is determined by your app-specific code.</span></span>

## <a name="version-number-services"></a><span data-ttu-id="ccd14-159">Versionsnummern Dienste</span><span class="sxs-lookup"><span data-stu-id="ccd14-159">Version number services</span></span>

<span data-ttu-id="ccd14-160">Dienste sollten eine Abwärtskompatibilität mit alten Clients anstreben.</span><span class="sxs-lookup"><span data-stu-id="ccd14-160">Services should strive to remain backwards compatible with old clients.</span></span> <span data-ttu-id="ccd14-161">Letztendlich können Änderungen an Ihrer APP zu wichtigen Änderungen erforderlich sein.</span><span class="sxs-lookup"><span data-stu-id="ccd14-161">Eventually changes to your app may require breaking changes.</span></span> <span data-ttu-id="ccd14-162">Das Unterbrechen von alten Clients und das Erzwingen der Aktualisierung zusammen mit Ihrem Dienst sind keine guten Benutzer Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="ccd14-162">Breaking old clients and forcing them to be updated along with your service isn't a good user experience.</span></span> <span data-ttu-id="ccd14-163">Eine Möglichkeit, die Abwärtskompatibilität zu gewährleisten, während wichtige Änderungen vorgenommen werden, besteht in der Veröffentlichung mehrerer Versionen eines Dienstanbieter.</span><span class="sxs-lookup"><span data-stu-id="ccd14-163">A way to maintain backwards compatibility while making breaking changes is to publish multiple versions of a service.</span></span>

<span data-ttu-id="ccd14-164">GrpC unterstützt einen optionalen [paketspezifizierer](https://developers.google.com/protocol-buffers/docs/proto3#packages) , der ähnlich wie ein .NET-Namespace funktioniert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-164">gRPC supports an optional [package](https://developers.google.com/protocol-buffers/docs/proto3#packages) specifier, which functions much like a .NET namespace.</span></span> <span data-ttu-id="ccd14-165">Tatsächlich wird der `package` als .NET-Namespace für generierte .NET-Typen verwendet, wenn `option csharp_namespace` nicht in der *. proto* -Datei festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="ccd14-165">In fact, the `package` will be used as the .NET namespace for generated .NET types if `option csharp_namespace` is not set in the *.proto* file.</span></span> <span data-ttu-id="ccd14-166">Das Paket kann verwendet werden, um eine Versionsnummer für den Dienst und seine Nachrichten anzugeben:</span><span class="sxs-lookup"><span data-stu-id="ccd14-166">The package can be used to specify a version number for your service and its messages:</span></span>

[!code-protobuf[](versioning/sample/greet.v1.proto?highlight=3)]

<span data-ttu-id="ccd14-167">Der Paketname wird mit dem Dienstnamen kombiniert, um eine Dienst Adresse zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ccd14-167">The package name is combined with the service name to identify a service address.</span></span> <span data-ttu-id="ccd14-168">Eine Dienst Adresse ermöglicht, dass mehrere Versionen eines Dienstanbieter nebeneinander gehostet werden:</span><span class="sxs-lookup"><span data-stu-id="ccd14-168">A service address allows multiple versions of a service to be hosted side-by-side:</span></span>

* `greet.v1.Greeter`
* `greet.v2.Greeter`

<span data-ttu-id="ccd14-169">Implementierungen des versionierten Dienstanbieter werden in *Startup.cs*registriert:</span><span class="sxs-lookup"><span data-stu-id="ccd14-169">Implementations of the versioned service are registered in *Startup.cs*:</span></span>

```csharp
app.UseEndpoints(endpoints =>
{
    // Implements greet.v1.Greeter
    endpoints.MapGrpcService<GreeterServiceV1>();

    // Implements greet.v2.Greeter
    endpoints.MapGrpcService<GreeterServiceV2>();
});
```

<span data-ttu-id="ccd14-170">Wenn Sie eine Versionsnummer in den Paketnamen einschließen, haben Sie die Möglichkeit, eine *v2* -Version Ihres Dienes mit wichtigen Änderungen zu veröffentlichen, während ältere Clients, die die *v1* -Version anrufen, weiterhin unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ccd14-170">Including a version number in the package name gives you the opportunity to publish a *v2* version of your service with breaking changes, while continuing to support older clients who call the *v1* version.</span></span> <span data-ttu-id="ccd14-171">Nachdem die Clients die Verwendung des *v2* -Diensts aktualisiert haben, können Sie die alte Version entfernen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-171">Once clients have updated to use the *v2* service, you can choose to remove the old version.</span></span> <span data-ttu-id="ccd14-172">Beim Planen der Veröffentlichung mehrerer Versionen eines Dienstanbieter:</span><span class="sxs-lookup"><span data-stu-id="ccd14-172">When planning to publish multiple versions of a service:</span></span>

* <span data-ttu-id="ccd14-173">Vermeiden Sie bei angemessener Änderung wichtige Änderungen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-173">Avoid breaking changes if reasonable.</span></span>
* <span data-ttu-id="ccd14-174">Aktualisieren Sie die Versionsnummer nicht, wenn Sie keine wichtigen Änderungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-174">Don't update the version number unless making breaking changes.</span></span>
* <span data-ttu-id="ccd14-175">Aktualisieren Sie die Versionsnummer, wenn Sie wichtige Änderungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-175">Do update the version number when you make breaking changes.</span></span>

<span data-ttu-id="ccd14-176">Durch das Veröffentlichen mehrerer Versionen eines dienstanvers wird dieses dupliziert.</span><span class="sxs-lookup"><span data-stu-id="ccd14-176">Publishing multiple versions of a service duplicates it.</span></span> <span data-ttu-id="ccd14-177">Um die Duplizierung zu reduzieren, erwägen Sie, die Geschäftslogik von den Dienst Implementierungen an einen zentralisierten Speicherort zu verschieben, der von den alten und neuen Implementierungen verwendet werden kann:</span><span class="sxs-lookup"><span data-stu-id="ccd14-177">To reduce duplication, consider moving business logic from the service implementations to a centralized location that can be reused by the old and new implementations:</span></span>

[!code-csharp[](versioning/sample/GreeterServiceV1.cs?highlight=10,19)]

<span data-ttu-id="ccd14-178">Dienste und Nachrichten, die mit verschiedenen Paketnamen generiert werden, sind **unterschiedliche .NET-Typen**</span><span class="sxs-lookup"><span data-stu-id="ccd14-178">Services and messages generated with different package names are **different .NET types**.</span></span> <span data-ttu-id="ccd14-179">Das Verschieben von Geschäftslogik an einen zentralisierten Speicherort erfordert die Zuordnung von Nachrichten zu allgemeinen Typen.</span><span class="sxs-lookup"><span data-stu-id="ccd14-179">Moving business logic to a centralized location requires mapping messages to common types.</span></span>
