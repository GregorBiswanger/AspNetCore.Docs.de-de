---
title: 'title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:'
author: rick-anderson
description: "'Blazor'"
monikerRange: '>= aspnetcore-2.1'
ms.author: riande
ms.custom: mvc
ms.date: 01/13/2020
no-loc:
- Blazor
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: host-and-deploy/web-farm
ms.openlocfilehash: 37a50fa2939eb31e66925fa907212d54577bd20b
ms.sourcegitcommit: 58722eb309767e462bdbf3082bd38737a4ef168f
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/27/2020
ms.locfileid: "84106571"
---
# <a name="host-aspnet-core-in-a-web-farm"></a><span data-ttu-id="25846-103">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-103">'Identity'</span></span>

<span data-ttu-id="25846-104">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-104">'Let's Encrypt'</span></span>

<span data-ttu-id="25846-105">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-105">'Razor'</span></span> <span data-ttu-id="25846-106">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-106">'SignalR' uid:</span></span> <span data-ttu-id="25846-107">Hosten von ASP.NET Core in einer Webfarm</span><span class="sxs-lookup"><span data-stu-id="25846-107">Host ASP.NET Core in a web farm</span></span>

* <span data-ttu-id="25846-108">Von [Chris Ross](https://github.com/Tratcher)</span><span class="sxs-lookup"><span data-stu-id="25846-108">By [Chris Ross](https://github.com/Tratcher)</span></span>
* <span data-ttu-id="25846-109">Eine *Webfarm* ist eine Gruppe von mindestens zwei Webservern (oder *Knoten*), die mehrere Instanzen einer App hostet.</span><span class="sxs-lookup"><span data-stu-id="25846-109">A *web farm* is a group of two or more web servers (or *nodes*) that host multiple instances of an app.</span></span> <span data-ttu-id="25846-110">Wenn eine Webfarm Benutzeranforderungen empfängt, verteilt ein *Lastenausgleichsmodul* die Anforderungen auf die Knoten der Webfarm.</span><span class="sxs-lookup"><span data-stu-id="25846-110">When requests from users arrive to a web farm, a *load balancer* distributes the requests to the web farm's nodes.</span></span>
* <span data-ttu-id="25846-111">Webfarmen verbessern:</span><span class="sxs-lookup"><span data-stu-id="25846-111">Web farms improve:</span></span> <span data-ttu-id="25846-112">**Zuverlässigkeit/Verfügbarkeit:** Wenn bei mindestens einem Knoten ein Fehler auftritt, kann der Lastenausgleich Anforderungen zur weiteren Verarbeitung an andere funktionierende Knoten weiterleiten.</span><span class="sxs-lookup"><span data-stu-id="25846-112">**Reliability/availability**: When one or more nodes fail, the load balancer can route requests to other functioning nodes to continue processing requests.</span></span>
* <span data-ttu-id="25846-113">**Kapazität/Leistung:** Mehrere Knoten können mehr Anforderungen verarbeiten als ein einzelner Server.</span><span class="sxs-lookup"><span data-stu-id="25846-113">**Capacity/performance**: Multiple nodes can process more requests than a single server.</span></span> <span data-ttu-id="25846-114">Das Lastenausgleichsmodul verteilt den Workload, indem Anforderungen auf die Knoten verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="25846-114">The load balancer balances the workload by distributing requests to the nodes.</span></span>

<span data-ttu-id="25846-115">**Skalierbarkeit:** Wenn mehr oder weniger Kapazität benötigt wird, kann die Anzahl der aktiven Knoten entsprechend der Arbeitsauslastung erhöht oder verringert werden.</span><span class="sxs-lookup"><span data-stu-id="25846-115">**Scalability**: When more or less capacity is required, the number of active nodes can be increased or decreased to match the workload.</span></span>

## <a name="general-configuration"></a><span data-ttu-id="25846-116">Webfarmtechnologien wie [Azure App Service](https://azure.microsoft.com/services/app-service/) können Knoten automatisch auf Systemadministratoranforderungen hin hinzufügen oder entfernen bzw. diese Vorgänge komplett ohne manuelles Eingreifen ausführen.</span><span class="sxs-lookup"><span data-stu-id="25846-116">Web farm platform technologies, such as [Azure App Service](https://azure.microsoft.com/services/app-service/), can automatically add or remove nodes at the request of the system administrator or automatically without human intervention.</span></span>

<xref:host-and-deploy/index>  
<span data-ttu-id="25846-117">**Wartbarkeit**: Knoten einer Webfarm können auf einer Reihe von gemeinsamen Diensten basieren, wodurch die Systemverwaltung vereinfacht wird.</span><span class="sxs-lookup"><span data-stu-id="25846-117">**Maintainability**: Nodes of a web farm can rely on a set of shared services, which results in easier system management.</span></span> <span data-ttu-id="25846-118">Beispielsweise können die Knoten einer Webfarm auf einem einzigen Datenbankserver und einer gemeinsamen Netzwerkadresse für statische Ressourcen wie Images und herunterladbare Dateien basieren.</span><span class="sxs-lookup"><span data-stu-id="25846-118">For example, the nodes of a web farm can rely upon a single database server and a common network location for static resources, such as images and downloadable files.</span></span> <span data-ttu-id="25846-119">Dieses Thema beschreibt die Konfiguration und Abhängigkeiten für ASP.NET Core-Apps, die in einer Webfarm gehostet werden und auf freigegebenen Ressourcen basieren.</span><span class="sxs-lookup"><span data-stu-id="25846-119">This topic describes configuration and dependencies for ASP.NET core apps hosted in a web farm that rely upon shared resources.</span></span> <span data-ttu-id="25846-120">Allgemeine Konfiguration</span><span class="sxs-lookup"><span data-stu-id="25846-120">General configuration</span></span>

<xref:host-and-deploy/proxy-load-balancer>  
<span data-ttu-id="25846-121">Erfahren Sie, wie Sie Hostingumgebungen einrichten und ASP.NET Core-Apps bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="25846-121">Learn how to set up hosting environments and deploy ASP.NET Core apps.</span></span>

<xref:host-and-deploy/azure-apps/index>  
<span data-ttu-id="25846-122">Konfigurieren Sie einen Prozess-Manager auf jedem Knoten der Webfarm, um App-Starts und -Neustarts zu automatisieren.</span><span class="sxs-lookup"><span data-stu-id="25846-122">Configure a process manager on each node of the web farm to automate app starts and restarts.</span></span> <span data-ttu-id="25846-123">Jeder Knoten benötigt die ASP.NET Core-Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="25846-123">Each node requires the ASP.NET Core runtime.</span></span>

## <a name="app-data"></a><span data-ttu-id="25846-124">Weitere Informationen finden Sie in der Dokumentation [Hosten und Bereitstellen von ASP.NET Core](xref:host-and-deploy/index).</span><span class="sxs-lookup"><span data-stu-id="25846-124">For more information, see the topics in the [Host and deploy](xref:host-and-deploy/index) area of the documentation.</span></span>

<span data-ttu-id="25846-125">Informationen zur Konfiguration von hinter Proxyservern und Lastenausgleichsmodulen gehosteten Apps, wobei wichtige Anforderungsinformationen häufig verdeckt werden</span><span class="sxs-lookup"><span data-stu-id="25846-125">Learn about configuration for apps hosted behind proxy servers and load balancers, which often obscure important request information.</span></span> <span data-ttu-id="25846-126">[Azure App Service](https://azure.microsoft.com/services/app-service/) ist ein [Microsoft Cloud Computing-Plattformdienst](https://azure.microsoft.com/) zum Hosten von Web-Apps. Dazu gehört auch ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="25846-126">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a [Microsoft cloud computing platform service](https://azure.microsoft.com/) for hosting web apps, including ASP.NET Core.</span></span> <span data-ttu-id="25846-127">App Service ist eine vollständig verwaltete Plattform, die automatisches Skalieren, Lastenausgleich, Patchen und Continuous Deployment bietet.</span><span class="sxs-lookup"><span data-stu-id="25846-127">App Service is a fully managed platform that provides automatic scaling, load balancing, patching, and continuous deployment.</span></span>

## <a name="required-configuration"></a><span data-ttu-id="25846-128">App-Daten</span><span class="sxs-lookup"><span data-stu-id="25846-128">App data</span></span>

<span data-ttu-id="25846-129">Wenn eine App auf mehrere Instanzen skaliert wird, muss der App-Status möglicherweise über Knoten hinweg freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="25846-129">When an app is scaled to multiple instances, there might be app state that requires sharing across nodes.</span></span>

### <a name="data-protection"></a><span data-ttu-id="25846-130">Im Falle eines Übergangsstatus sollten Sie [IDistributedCache](/dotnet/api/microsoft.extensions.caching.distributed.idistributedcache) freigeben.</span><span class="sxs-lookup"><span data-stu-id="25846-130">If the state is transient, consider sharing an [IDistributedCache](/dotnet/api/microsoft.extensions.caching.distributed.idistributedcache).</span></span>

<span data-ttu-id="25846-131">Wenn der freigegebene Status Persistenz erfordert, speichern Sie ihn in einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="25846-131">If the shared state requires persistence, consider storing the shared state in a database.</span></span> <span data-ttu-id="25846-132">Erforderliche Konfiguration</span><span class="sxs-lookup"><span data-stu-id="25846-132">Required configuration</span></span> <span data-ttu-id="25846-133">Schutz von Daten und Zwischenspeichern benötigen eine in einer Webfarm bereitgestellte App-Konfiguration.</span><span class="sxs-lookup"><span data-stu-id="25846-133">Data Protection and Caching require configuration for apps deployed to a web farm.</span></span> <span data-ttu-id="25846-134">Schutz von Daten</span><span class="sxs-lookup"><span data-stu-id="25846-134">Data Protection</span></span> <span data-ttu-id="25846-135">Der [ASP.NET Core-Datenschutz](xref:security/data-protection/introduction) wird von Apps verwendet, um Daten zu schützen.</span><span class="sxs-lookup"><span data-stu-id="25846-135">The [ASP.NET Core Data Protection system](xref:security/data-protection/introduction) is used by apps to protect data.</span></span> <span data-ttu-id="25846-136">Der Schutz von Daten basiert auf einem Satz kryptografischer Schlüssel in einer *Schlüsselsammlung*.</span><span class="sxs-lookup"><span data-stu-id="25846-136">Data Protection relies upon a set of cryptographic keys stored in a *key ring*.</span></span> <span data-ttu-id="25846-137">Wenn das System zum Schutz von Daten initialisiert wird, werden [Standardeinstellungen](xref:security/data-protection/configuration/default-settings) angewendet, die die Schlüsselsammlung lokal speichern.</span><span class="sxs-lookup"><span data-stu-id="25846-137">When the Data Protection system is initialized, it applies [default settings](xref:security/data-protection/configuration/default-settings) that store the key ring locally.</span></span> <span data-ttu-id="25846-138">In der Standardkonfiguration wird eine eindeutige Schlüsselsammlung auf jedem Knoten der Webfarm gespeichert.</span><span class="sxs-lookup"><span data-stu-id="25846-138">Under the default configuration, a unique key ring is stored on each node of the web farm.</span></span>

### <a name="caching"></a><span data-ttu-id="25846-139">Folglich kann kein Webfarmknoten Daten entschlüsseln, die von einer App auf einem anderen Knoten verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="25846-139">Consequently, each web farm node can't decrypt data that's encrypted by an app on any other node.</span></span>

<span data-ttu-id="25846-140">Die Standardkonfiguration eignet sich in der Regel nicht für das Hosten von Apps in einer Webfarm.</span><span class="sxs-lookup"><span data-stu-id="25846-140">The default configuration isn't generally appropriate for hosting apps in a web farm.</span></span> <span data-ttu-id="25846-141">Eine Alternative zur Implementierung einer freigegebenen Schlüsselsammlung besteht darin, Benutzeranforderungen immer an denselben Knoten weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="25846-141">An alternative to implementing a shared key ring is to always route user requests to the same node.</span></span> <span data-ttu-id="25846-142">Weitere Informationen zur Systemkonfiguration zum Schutz von Daten für Webfarmbereitstellungen finden Sie unter <xref:security/data-protection/configuration/overview>.</span><span class="sxs-lookup"><span data-stu-id="25846-142">For more information on Data Protection system configuration for web farm deployments, see <xref:security/data-protection/configuration/overview>.</span></span>

## <a name="dependent-components"></a><span data-ttu-id="25846-143">Zwischenspeicherung</span><span class="sxs-lookup"><span data-stu-id="25846-143">Caching</span></span>

<span data-ttu-id="25846-144">In einer Webfarmumgebung muss der Zwischenspeichermechanismus zwischengespeicherte Elemente über die Webfarmknoten hinweg freigeben.</span><span class="sxs-lookup"><span data-stu-id="25846-144">In a web farm environment, the caching mechanism must share cached items across the web farm's nodes.</span></span>

| <span data-ttu-id="25846-145">Das Zwischenspeichern muss auf einem Redis Cache, einer freigegebenen SQL Server-Datenbank oder einer benutzerdefinierten Zwischenspeicherimplementierung basieren, die zwischengespeicherte Elemente über die Webfarm hinweg freigibt.</span><span class="sxs-lookup"><span data-stu-id="25846-145">Caching must either rely upon a common Redis cache, a shared SQL Server database, or a custom caching implementation that shares cached items across the web farm.</span></span> | <span data-ttu-id="25846-146">Weitere Informationen finden Sie unter <xref:performance/caching/distributed>.</span><span class="sxs-lookup"><span data-stu-id="25846-146">For more information, see <xref:performance/caching/distributed>.</span></span> |
| -------- | ------------------- |
| <span data-ttu-id="25846-147">Abhängige Komponenten</span><span class="sxs-lookup"><span data-stu-id="25846-147">Dependent components</span></span> | <span data-ttu-id="25846-148">Die folgenden Szenarien erfordern keine zusätzliche Konfiguration, hängen jedoch von Technologien ab, die eine Webfarmkonfiguration benötigen.</span><span class="sxs-lookup"><span data-stu-id="25846-148">The following scenarios don't require additional configuration, but they depend on technologies that require configuration for web farms.</span></span><br><br><span data-ttu-id="25846-149">Szenario</span><span class="sxs-lookup"><span data-stu-id="25846-149">Scenario</span></span> |
| Identity | <span data-ttu-id="25846-150">Abhängig von&hellip;</span><span class="sxs-lookup"><span data-stu-id="25846-150">Depends on &hellip;</span></span><br><br><span data-ttu-id="25846-151">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-151">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span> |
| <span data-ttu-id="25846-152">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-152">'Blazor'</span></span> | <span data-ttu-id="25846-153">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-153">'Identity'</span></span><br><br><span data-ttu-id="25846-154">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-154">'Let's Encrypt'</span></span> |
| <span data-ttu-id="25846-155">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-155">'Razor'</span></span> | <span data-ttu-id="25846-156">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-156">'SignalR' uid:</span></span><br><br><span data-ttu-id="25846-157">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-157">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span> |
| <span data-ttu-id="25846-158">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-158">'Blazor'</span></span> | <span data-ttu-id="25846-159">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-159">'Identity'</span></span><br><br><span data-ttu-id="25846-160">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-160">'Let's Encrypt'</span></span> |

## <a name="troubleshoot"></a><span data-ttu-id="25846-161">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-161">'Razor'</span></span>

### <a name="data-protection-and-caching"></a><span data-ttu-id="25846-162">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-162">'SignalR' uid:</span></span>

<span data-ttu-id="25846-163">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-163">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span> <span data-ttu-id="25846-164">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-164">'Blazor'</span></span>

<span data-ttu-id="25846-165">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-165">'Identity'</span></span> <span data-ttu-id="25846-166">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-166">'Let's Encrypt'</span></span> <span data-ttu-id="25846-167">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-167">'Razor'</span></span> <span data-ttu-id="25846-168">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-168">'SignalR' uid:</span></span>

<span data-ttu-id="25846-169">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-169">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>

* <span data-ttu-id="25846-170">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-170">'Blazor'</span></span> <span data-ttu-id="25846-171">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-171">'Identity'</span></span>
* <span data-ttu-id="25846-172">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-172">'Let's Encrypt'</span></span>
* <span data-ttu-id="25846-173">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-173">'Razor'</span></span>
* <span data-ttu-id="25846-174">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-174">'SignalR' uid:</span></span>
* <span data-ttu-id="25846-175">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-175">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
* <span data-ttu-id="25846-176">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-176">'Blazor'</span></span>

<span data-ttu-id="25846-177">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-177">'Identity'</span></span> <span data-ttu-id="25846-178">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="25846-178">'Let's Encrypt'</span></span>

## <a name="obtain-data-from-apps"></a><span data-ttu-id="25846-179">'Razor'</span><span class="sxs-lookup"><span data-stu-id="25846-179">'Razor'</span></span>

<span data-ttu-id="25846-180">'SignalR' uid:</span><span class="sxs-lookup"><span data-stu-id="25846-180">'SignalR' uid:</span></span> <span data-ttu-id="25846-181">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span><span class="sxs-lookup"><span data-stu-id="25846-181">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>

## <a name="additional-resources"></a><span data-ttu-id="25846-182">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="25846-182">'Blazor'</span></span>

* <span data-ttu-id="25846-183">'Identity'</span><span class="sxs-lookup"><span data-stu-id="25846-183">'Identity'</span></span>
* <xref:host-and-deploy/proxy-load-balancer>
 