---
title: Globalisierung und Lokalisierung in ASP.NET Core
author: rick-anderson
description: Erfahren Sie, wie ASP.NET Core Dienste und Middleware für das Lokalisieren von Inhalten in verschiedene Sprachen und Kulturen anbietet.
ms.author: riande
ms.date: 11/30/2019
no-loc:
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: fundamentals/localization
ms.openlocfilehash: d5be01c67f455a2706a654574ef9f5e273551e70
ms.sourcegitcommit: f09407d128634d200c893bfb1c163e87fa47a161
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 08/26/2020
ms.locfileid: "88865448"
---
# <a name="globalization-and-localization-in-aspnet-core"></a><span data-ttu-id="0987a-103">Globalisierung und Lokalisierung in ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="0987a-103">Globalization and localization in ASP.NET Core</span></span>

::: moniker range=">= aspnetcore-3.0 < aspnetcore-5.0"

<span data-ttu-id="0987a-104">Von [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), und [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span><span class="sxs-lookup"><span data-stu-id="0987a-104">By [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), and [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span></span>

<span data-ttu-id="0987a-105">Eine mehrsprachige Website ermöglicht es, eine größere Zielgruppe zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-105">A multilingual website allows the site to reach a wider audience.</span></span> <span data-ttu-id="0987a-106">ASP.NET Core bietet Dienste und Middleware zur Lokalisierung in verschiedene Sprachen und Kulturen.</span><span class="sxs-lookup"><span data-stu-id="0987a-106">ASP.NET Core provides services and middleware for localizing into different languages and cultures.</span></span>

<span data-ttu-id="0987a-107">Die Internationalisierung umfasst die[Globalisierung](/dotnet/api/system.globalization) und die [Lokalisierung](/dotnet/standard/globalization-localization/localization).</span><span class="sxs-lookup"><span data-stu-id="0987a-107">Internationalization involves [Globalization](/dotnet/api/system.globalization) and [Localization](/dotnet/standard/globalization-localization/localization).</span></span> <span data-ttu-id="0987a-108">Globalisierung bezeichnet das Entwerfen von Anwendungen, die verschiedene Kulturen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0987a-108">Globalization is the process of designing apps that support different cultures.</span></span> <span data-ttu-id="0987a-109">Durch die Globalisierung wird die Unterstützung von Eingabe, Anzeige und Ausgabe mehrerer definierter Sprachskripts hinzugefügt, die zu bestimmten geografischen Bereichen gehören.</span><span class="sxs-lookup"><span data-stu-id="0987a-109">Globalization adds support for input, display, and output of a defined set of language scripts that relate to specific geographic areas.</span></span>

<span data-ttu-id="0987a-110">Durch die Lokalisierung wird eine globalisierte App, die bereits auf Lokalisierbarkeit vorbereitet wurde, auf eine bestimmte Kultur bzw. ein bestimmtes Gebietsschema angepasst.</span><span class="sxs-lookup"><span data-stu-id="0987a-110">Localization is the process of adapting a globalized app, which you have already processed for localizability, to a particular culture/locale.</span></span> <span data-ttu-id="0987a-111">Weitere Informationen finden Sie unter **Begriffe für die Globalisierung und Lokalisierung** am Ende dieses Dokuments.</span><span class="sxs-lookup"><span data-stu-id="0987a-111">For more information see **Globalization and localization terms** near the end of this document.</span></span>

<span data-ttu-id="0987a-112">Die Lokalisierung von Apps umfasst die folgenden Aufgaben:</span><span class="sxs-lookup"><span data-stu-id="0987a-112">App localization involves the following:</span></span>

1. <span data-ttu-id="0987a-113">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-113">Make the app's content localizable</span></span>
1. <span data-ttu-id="0987a-114">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-114">Provide localized resources for the languages and cultures you support</span></span>
1. <span data-ttu-id="0987a-115">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-115">Implement a strategy to select the language/culture for each request</span></span>

<span data-ttu-id="0987a-116">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/3.x/Localization) ([Vorgehensweise zum Herunterladen](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="0987a-116">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/3.x/Localization) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="make-the-apps-content-localizable"></a><span data-ttu-id="0987a-117">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-117">Make the app's content localizable</span></span>

<span data-ttu-id="0987a-118"><xref:Microsoft.Extensions.Localization.IStringLocalizer> und <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> wurden zur Förderung der Produktivität bei der Entwicklung von lokalisierten Apps entwickelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-118"><xref:Microsoft.Extensions.Localization.IStringLocalizer> and <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> were architected to improve productivity when developing localized apps.</span></span> <span data-ttu-id="0987a-119">`IStringLocalizer` verwendet <xref:System.Resources.ResourceManager> und <xref:System.Resources.ResourceReader>, um kulturspezifische Ressourcen zur Laufzeit bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-119">`IStringLocalizer` uses the <xref:System.Resources.ResourceManager> and <xref:System.Resources.ResourceReader> to provide culture-specific resources at run time.</span></span> <span data-ttu-id="0987a-120">Die Schnittstelle besitzt einen Indexer und `IEnumerable` für die Rückgabe von lokalisierten Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-120">The interface has an indexer and an `IEnumerable` for returning localized strings.</span></span> <span data-ttu-id="0987a-121">`IStringLocalizer` erfordert nicht, dass die Zeichenfolgen der Standardsprache in einer Ressourcendatei gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-121">`IStringLocalizer` doesn't require storing the default language strings in a resource file.</span></span> <span data-ttu-id="0987a-122">Sie können eine App entwickeln, die für die Lokalisierung ausgelegt ist, und müssen in den frühen Entwicklungsphasen keine Ressourcendateien erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-122">You can develop an app targeted for localization and not need to create resource files early in development.</span></span> <span data-ttu-id="0987a-123">Im folgenden Codebeispiel wird dargestellt, wie die Zeichenfolge „About Title“ für die Lokalisierung umschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-123">The code below shows how to wrap the string "About Title" for localization.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/AboutController.cs)]

<span data-ttu-id="0987a-124">Im vorangehenden Codebeispiel stammt die Implementierung von `IStringLocalizer<T>` aus [Dependency Injection](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="0987a-124">In the preceding code, the `IStringLocalizer<T>` implementation comes from [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="0987a-125">Wenn kein lokalisierter Wert von „About Title“ gefunden wird, wird der Indexerschlüssel zurückgegeben, d.h. die Zeichenfolge „About Title“.</span><span class="sxs-lookup"><span data-stu-id="0987a-125">If the localized value of "About Title" isn't found, then the indexer key is returned, that is, the string "About Title".</span></span> <span data-ttu-id="0987a-126">Sie können die Literalzeichenfolgen der App in der Standardsprache beibehalten und diese in der Lokalisierung umschließen, damit Sie sich auf die Entwicklung der App konzentrieren können.</span><span class="sxs-lookup"><span data-stu-id="0987a-126">You can leave the default language literal strings in the app and wrap them in the localizer, so that you can focus on developing the app.</span></span> <span data-ttu-id="0987a-127">Entwickeln Sie Ihre App mit Ihrer Standardsprache, und bereiten Sie sie auf die Lokalisierung vor, ohne zuerst eine Standardressourcendatei zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-127">You develop your app with your default language and prepare it for the localization step without first creating a default resource file.</span></span> <span data-ttu-id="0987a-128">Alternativ können Sie das herkömmliche Verfahren verwenden und einen Schlüssel zum Abrufen der Zeichenfolge in der Standardsprache angeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-128">Alternatively, you can use the traditional approach and provide a key to retrieve the default language string.</span></span> <span data-ttu-id="0987a-129">Der neue Workflow, der keine Standardsprache in der *RESX*-Datei verwendet und die Literalzeichenfolgen einfach umschließt, kann für viele Entwickler den Aufwand beim Lokalisieren einer App reduzieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-129">For many developers the new workflow of not having a default language *.resx* file and simply wrapping the string literals can reduce the overhead of localizing an app.</span></span> <span data-ttu-id="0987a-130">Andere Entwickler bevorzugen weiterhin den herkömmlichen Workflow, weil es dabei einfacher ist, mit längeren Literalzeichenfolgen zu arbeiten und lokalisierte Zeichenfolgen zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-130">Other developers will prefer the traditional work flow as it can make it easier to work with longer string literals and make it easier to update localized strings.</span></span>

<span data-ttu-id="0987a-131">Verwenden Sie die Implementierung von `IHtmlLocalizer<T>` für Ressourcen, die HTML enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-131">Use the `IHtmlLocalizer<T>` implementation for resources that contain HTML.</span></span> <span data-ttu-id="0987a-132">Mit `IHtmlLocalizer` werden Argumente HTML-codiert, die in der Ressourcenzeichenfolge formatiert sind. Die Ressourcenzeichenfolgen werden jedoch nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-132">`IHtmlLocalizer` HTML encodes arguments that are formatted in the resource string, but doesn't HTML encode the resource string itself.</span></span> <span data-ttu-id="0987a-133">Im folgenden Beispiel wird hervorgehoben, dass nur der Wert des Parameters `name` HTML-codiert ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-133">In the sample highlighted below, only the value of `name` parameter is HTML encoded.</span></span>

[!code-csharp[](~/fundamentals/localization/sample/3.x/Localization/Controllers/BookController.cs?highlight=3,5,20&start=1&end=24)]

> [!NOTE]
> <span data-ttu-id="0987a-134">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-134">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-135">Auf der untersten Ebene können Sie `IStringLocalizerFactory` aus [Dependency Injection](dependency-injection.md) abrufen:</span><span class="sxs-lookup"><span data-stu-id="0987a-135">At the lowest level, you can get `IStringLocalizerFactory` out of [Dependency Injection](dependency-injection.md):</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/TestController.cs?start=9&end=26&highlight=7-13)]

<span data-ttu-id="0987a-136">Im obigen Codebeispiel werden beide factory.Create-Methoden veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-136">The code above demonstrates each of the two factory create methods.</span></span>

<span data-ttu-id="0987a-137">Sie können Ihre lokalisierten Zeichenfolgen in Steuerelemente und Bereiche aufteilen oder nur einen Container verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-137">You can partition your localized strings by controller, area, or have just one container.</span></span> <span data-ttu-id="0987a-138">In der Beispiel-App wird eine Dummyklasse namens `SharedResource` für freigegebene Ressourcen verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-138">In the sample app, a dummy class named `SharedResource` is used for shared resources.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Resources/SharedResource.cs)]

<span data-ttu-id="0987a-139">Einige Entwickler verwenden die Klasse `Startup`, damit globale oder freigegebene Zeichenfolgen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-139">Some developers use the `Startup` class to contain global or shared strings.</span></span> <span data-ttu-id="0987a-140">Im folgenden Beispiel werden die Lokalisierer `InfoController` und `SharedResource` verwendet:</span><span class="sxs-lookup"><span data-stu-id="0987a-140">In the sample below, the `InfoController` and the `SharedResource` localizers are used:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/InfoController.cs?range=9-26)]

## <a name="view-localization"></a><span data-ttu-id="0987a-141">Lokalisierung der Ansicht</span><span class="sxs-lookup"><span data-stu-id="0987a-141">View localization</span></span>

<span data-ttu-id="0987a-142">Der Dienst `IViewLocalizer` gibt lokalisierte Zeichenfolgen für eine [Ansicht](xref:mvc/views/overview) an.</span><span class="sxs-lookup"><span data-stu-id="0987a-142">The `IViewLocalizer` service provides localized strings for a [view](xref:mvc/views/overview).</span></span> <span data-ttu-id="0987a-143">Die Klasse `ViewLocalizer` implementiert diese Schnittstelle und sucht den Speicherort der Ressource über den Dateipfad der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-143">The `ViewLocalizer` class implements this interface and finds the resource location from the view file path.</span></span> <span data-ttu-id="0987a-144">Im folgenden Codebeispiel wird die Verwendung der Standardimplementierung von `IViewLocalizer` veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="0987a-144">The following code shows how to use the default implementation of `IViewLocalizer`:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Home/About.cshtml)]

<span data-ttu-id="0987a-145">Die Standardimplementierung von `IViewLocalizer` sucht die Ressourcendatei über den Dateinamen der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-145">The default implementation of `IViewLocalizer` finds the resource file based on the view's file name.</span></span> <span data-ttu-id="0987a-146">Es gibt keine Option zur Nutzung einer globalen freigegebenen Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-146">There's no option to use a global shared resource file.</span></span> <span data-ttu-id="0987a-147">`ViewLocalizer` implementiert den Lokalisierer mithilfe von `IHtmlLocalizer`, damit Razor die lokalisierte Zeichenfolge nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-147">`ViewLocalizer` implements the localizer using `IHtmlLocalizer`, so Razor doesn't HTML encode the localized string.</span></span> <span data-ttu-id="0987a-148">Sie können Ressourcenzeichenfolgen parametrisieren, und `IViewLocalizer` codiert die Parameter mit HTML, aber nicht die Ressourcenzeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-148">You can parameterize resource strings and `IViewLocalizer` will HTML encode the parameters, but not the resource string.</span></span> <span data-ttu-id="0987a-149">Sehen Sie sich das folgende Razor-Markup an:</span><span class="sxs-lookup"><span data-stu-id="0987a-149">Consider the following Razor markup:</span></span>

```cshtml
@Localizer["<i>Hello</i> <b>{0}!</b>", UserManager.GetUserName(User)]
```

<span data-ttu-id="0987a-150">Eine französische Ressourcendatei könnte Folgendes beinhalten:</span><span class="sxs-lookup"><span data-stu-id="0987a-150">A French resource file could contain the following:</span></span>

| <span data-ttu-id="0987a-151">Key</span><span class="sxs-lookup"><span data-stu-id="0987a-151">Key</span></span> | <span data-ttu-id="0987a-152">Wert</span><span class="sxs-lookup"><span data-stu-id="0987a-152">Value</span></span> |
| --- | ----- |
| `<i>Hello</i> <b>{0}!</b>` | `<i>Bonjour</i> <b>{0} !</b>` |

<span data-ttu-id="0987a-153">Die gerenderte Ansicht würde das HTML-Markup der Ressourcendatei enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-153">The rendered view would contain the HTML markup from the resource file.</span></span>

> [!NOTE]
> <span data-ttu-id="0987a-154">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-154">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-155">Fügen Sie `IHtmlLocalizer<T>` ein, um eine freigegebene Ressourcendatei in einer Ansicht zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="0987a-155">To use a shared resource file in a view, inject `IHtmlLocalizer<T>`:</span></span>

[!code-cshtml[](~/fundamentals/localization/sample/3.x/Localization/Views/Test/About.cshtml?highlight=5,12)]

## <a name="dataannotations-localization"></a><span data-ttu-id="0987a-156">Lokalisierung von DataAnnotations</span><span class="sxs-lookup"><span data-stu-id="0987a-156">DataAnnotations localization</span></span>

<span data-ttu-id="0987a-157">Fehlermeldungen über DataAnnotations werden mit `IStringLocalizer<T>` lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-157">DataAnnotations error messages are localized with `IStringLocalizer<T>`.</span></span> <span data-ttu-id="0987a-158">Durch Verwendung der Option `ResourcesPath = "Resources"` können die Fehlermeldungen in `RegisterViewModel` unter einem der folgenden Pfade gespeichert werden:</span><span class="sxs-lookup"><span data-stu-id="0987a-158">Using the option `ResourcesPath = "Resources"`, the error messages in `RegisterViewModel` can be stored in either of the following paths:</span></span>

* <span data-ttu-id="0987a-159">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-159">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span></span>
* <span data-ttu-id="0987a-160">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-160">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span></span>

[!code-csharp[](localization/sample/3.x/Localization/ViewModels/Account/RegisterViewModel.cs?start=9&end=26)]

<span data-ttu-id="0987a-161">In ASP.NET Core MVC 1.1.0 und höher werden Attribute lokalisiert, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-161">In ASP.NET Core MVC 1.1.0 and higher, non-validation attributes are localized.</span></span> <span data-ttu-id="0987a-162">ASP.NET Core MVC 1.0 sucht **nicht** nach lokalisierten Zeichenfolgen für Attribute, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-162">ASP.NET Core MVC 1.0 does **not** look up localized strings for non-validation attributes.</span></span>

<a name="one-resource-string-multiple-classes"></a>

### <a name="using-one-resource-string-for-multiple-classes"></a><span data-ttu-id="0987a-163">Verwenden einer Ressourcenzeichenfolge für mehrere Klassen</span><span class="sxs-lookup"><span data-stu-id="0987a-163">Using one resource string for multiple classes</span></span>

<span data-ttu-id="0987a-164">Das folgende Codebeispiel zeigt, wie eine Ressourcenzeichenfolge für Validierungsattribute mit mehreren Klassen verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="0987a-164">The following code shows how to use one resource string for validation attributes with multiple classes:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddDataAnnotationsLocalization(options => {
            options.DataAnnotationLocalizerProvider = (type, factory) =>
                factory.Create(typeof(SharedResource));
        });
}
```

<span data-ttu-id="0987a-165">Im obigen Codebeispiel bezeichnet `SharedResource` die Klasse, die der RESX-Datei entspricht, in der Ihre Validierungsmeldungen gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-165">In the preceding code, `SharedResource` is the class corresponding to the resx where your validation messages are stored.</span></span> <span data-ttu-id="0987a-166">DataAnnotations verwendet bei diesem Ansatz nur `SharedResource` anstelle der Ressource für jede Klasse.</span><span class="sxs-lookup"><span data-stu-id="0987a-166">With this approach, DataAnnotations will only use `SharedResource`, rather than the resource for each class.</span></span>

## <a name="provide-localized-resources-for-the-languages-and-cultures-you-support"></a><span data-ttu-id="0987a-167">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-167">Provide localized resources for the languages and cultures you support</span></span>

### <a name="supportedcultures-and-supporteduicultures"></a><span data-ttu-id="0987a-168">SupportedCultures und SupportedUICultures</span><span class="sxs-lookup"><span data-stu-id="0987a-168">SupportedCultures and SupportedUICultures</span></span>

<span data-ttu-id="0987a-169">ASP.NET Core ermöglicht Ihnen, zwei Werte für die Kultur anzugeben: `SupportedCultures` und `SupportedUICultures`.</span><span class="sxs-lookup"><span data-stu-id="0987a-169">ASP.NET Core allows you to specify two culture values, `SupportedCultures` and `SupportedUICultures`.</span></span> <span data-ttu-id="0987a-170">Das Objekt [CultureInfo](/dotnet/api/system.globalization.cultureinfo) für `SupportedCultures` bestimmt die Ergebnisse von kulturabhängigen Funktionen, wie z.B. das Format von Datumswerten, Uhrzeiten, Zahlen und Währungen.</span><span class="sxs-lookup"><span data-stu-id="0987a-170">The [CultureInfo](/dotnet/api/system.globalization.cultureinfo) object for `SupportedCultures` determines the results of culture-dependent functions, such as date, time, number, and currency formatting.</span></span> <span data-ttu-id="0987a-171">`SupportedCultures` bestimmt auch die Sortierreihenfolge von Texten, Groß-/Kleinschreibungskonventionen und Zeichenfolgenvergleichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-171">`SupportedCultures` also determines the sorting order of text, casing conventions, and string comparisons.</span></span> <span data-ttu-id="0987a-172">Weitere Informationen darüber, wie der Server die Kultur abruft, finden Sie unter [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture).</span><span class="sxs-lookup"><span data-stu-id="0987a-172">See [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) for more info on how the server gets the Culture.</span></span> <span data-ttu-id="0987a-173">`SupportedUICultures` bestimmt, welche übersetzten Zeichenfolgen (aus den *RESX*-Dateien) von [ResourceManager](/dotnet/api/system.resources.resourcemanager) abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-173">The `SupportedUICultures` determines which translated strings (from *.resx* files) are looked up by the [ResourceManager](/dotnet/api/system.resources.resourcemanager).</span></span> <span data-ttu-id="0987a-174">Die `ResourceManager`-Klasse sucht nach kulturspezifischen Zeichenfolgen, die durch `CurrentUICulture` bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-174">The `ResourceManager` simply looks up culture-specific strings that's determined by `CurrentUICulture`.</span></span> <span data-ttu-id="0987a-175">Jeder Thread in .NET enthält die Objekte `CurrentCulture` und `CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-175">Every thread in .NET has `CurrentCulture` and `CurrentUICulture` objects.</span></span> <span data-ttu-id="0987a-176">ASP.NET Core überprüft diese Werte beim Rendern von kulturspezifischen Funktionen.</span><span class="sxs-lookup"><span data-stu-id="0987a-176">ASP.NET Core inspects these values when rendering culture-dependent functions.</span></span> <span data-ttu-id="0987a-177">Wenn die Kultur des aktuellen Threads zum Beispiel auf „en-US“ (Englisch, USA) festgelegt ist, gibt `DateTime.Now.ToLongDateString()` „Thursday, February 18, 2016“ aus, wenn `CurrentCulture` jedoch auf „es-ES“ (Spanisch, Spanien) festgelegt ist, wird „jueves, 18 de febrero de 2016“ ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-177">For example, if the current thread's culture is set to "en-US" (English, United States), `DateTime.Now.ToLongDateString()` displays "Thursday, February 18, 2016", but if `CurrentCulture` is set to "es-ES" (Spanish, Spain) the output will be "jueves, 18 de febrero de 2016".</span></span>

## <a name="resource-files"></a><span data-ttu-id="0987a-178">Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-178">Resource files</span></span>

<span data-ttu-id="0987a-179">Eine Ressourcendatei ist ein nützlicher Mechanismus für das Trennen von lokalisierbaren Zeichenfolgen von Code.</span><span class="sxs-lookup"><span data-stu-id="0987a-179">A resource file is a useful mechanism for separating localizable strings from code.</span></span> <span data-ttu-id="0987a-180">Übersetzte Zeichenfolgen für die Sprache, die nicht die Standardsprache darstellt, werden in *RESX*-Ressourcendateien isoliert.</span><span class="sxs-lookup"><span data-stu-id="0987a-180">Translated strings for the non-default language are isolated in *.resx* resource files.</span></span> <span data-ttu-id="0987a-181">Möglicherweise möchten Sie z.B. eine spanische Ressourcendatei namens *Welcome.es.resx* erstellen, die übersetzte Zeichenfolgen enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-181">For example, you might want to create Spanish resource file named *Welcome.es.resx* containing translated strings.</span></span> <span data-ttu-id="0987a-182">„es“ ist der Sprachcode für Spanisch.</span><span class="sxs-lookup"><span data-stu-id="0987a-182">"es" is the language code for Spanish.</span></span> <span data-ttu-id="0987a-183">Erstellen dieser Ressourcendatei in Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="0987a-183">To create this resource file in Visual Studio:</span></span>

1. <span data-ttu-id="0987a-184">Führen Sie im **Projektmappen-Explorer** einen Rechtsklick auf den Ordner aus, der die Ressourcendatei enthalten soll, und klicken Sie dann auf **Hinzufügen** > **Neues Element**.</span><span class="sxs-lookup"><span data-stu-id="0987a-184">In **Solution Explorer**, right click on the folder which will contain the resource file > **Add** > **New Item**.</span></span>

   ![Geschachteltes Kontextmenü: Im Projektmappen-Explorer ist ein Kontextmenü für Ressourcen geöffnet.](localization/_static/newi.png)

1. <span data-ttu-id="0987a-187">Geben Sie „resource“ (Ressource) im Feld **Search installed templates** (Installierte Vorlagen durchsuchen) ein, und benennen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="0987a-187">In the **Search installed templates** box, enter "resource" and name the file.</span></span>

   ![Dialogfeld „Neues Element hinzufügen“](localization/_static/res.png)

1. <span data-ttu-id="0987a-189">Geben Sie den Schlüsselwert (native Zeichenfolge) in der Spalte **Name** und die übersetzte Zeichenfolge in der Spalte **Wert** ein.</span><span class="sxs-lookup"><span data-stu-id="0987a-189">Enter the key value (native string) in the **Name** column and the translated string in the **Value** column.</span></span>

   ![Welcome.es.resx-Datei (die Willkommensressourcendatei für Spanisch) mit dem Wort „Hello“ in der Spalte „Name“ und dem Wort „Hola“ (Hallo in Spanisch) in der Spalte „Wert“](localization/_static/hola.png)

   <span data-ttu-id="0987a-191">Die Datei *Welcome.es.resx* wird in Visual Studio angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0987a-191">Visual Studio shows the *Welcome.es.resx* file.</span></span>

   ![Die Ressourcendatei „Welcome Spanish (es)“ im Projektmappen-Explorer](localization/_static/se.png)

## <a name="resource-file-naming"></a><span data-ttu-id="0987a-193">Benennung von Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-193">Resource file naming</span></span>

<span data-ttu-id="0987a-194">Ressourcen werden nach dem vollständigen Typnamen ihrer Klasse, abzüglich des Assemblynamens, benannt.</span><span class="sxs-lookup"><span data-stu-id="0987a-194">Resources are named for the full type name of their class minus the assembly name.</span></span> <span data-ttu-id="0987a-195">Eine französische Ressourcendatei, deren Hauptassembly für die Klasse `LocalizationWebsite.Web.Startup``LocalizationWebsite.Web.dll` ist, würde zum Beispiel den Namen *Startup.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-195">For example, a French resource in a project whose main assembly is `LocalizationWebsite.Web.dll` for the class `LocalizationWebsite.Web.Startup` would be named *Startup.fr.resx*.</span></span> <span data-ttu-id="0987a-196">Eine Ressource für die Klasse `LocalizationWebsite.Web.Controllers.HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-196">A resource for the class `LocalizationWebsite.Web.Controllers.HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-197">Wenn der Namespace Ihrer Zielklasse nicht dem Assemblynamen entspricht, benötigen Sie den vollständigen Typnamen.</span><span class="sxs-lookup"><span data-stu-id="0987a-197">If your targeted class's namespace isn't the same as the assembly name you will need the full type name.</span></span> <span data-ttu-id="0987a-198">Eine Ressource für den Typ `ExtraNamespace.Tools` im Beispielprojekt würde z.B. den Namen *ExtraNamespace.Tools.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-198">For example, in the sample project a resource for the type `ExtraNamespace.Tools` would be named *ExtraNamespace.Tools.fr.resx*.</span></span>

<span data-ttu-id="0987a-199">Im Beispielprojekt legt die Methode `ConfigureServices` die `ResourcesPath`-Eigenschaft auf „Resources“ fest. Der relative Projektpfad für den Controller „Home“ der französischen Ressourcendatei ist also *Resources/Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-199">In the sample project, the `ConfigureServices` method sets the `ResourcesPath` to "Resources", so the project relative path for the home controller's French resource file is *Resources/Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-200">Alternativ können Sie Ordner zum Organisieren von Ressourcendateien verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-200">Alternatively, you can use folders to organize resource files.</span></span> <span data-ttu-id="0987a-201">Für den Controller „Home“ wäre der Pfad *Resources/Controllers/HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-201">For the home controller, the path would be *Resources/Controllers/HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-202">Wenn Sie die Option `ResourcesPath` nicht verwenden, würde sich die *RESX*-Datei im Basisprojektverzeichnis befinden.</span><span class="sxs-lookup"><span data-stu-id="0987a-202">If you don't use the `ResourcesPath` option, the *.resx* file would go in the project base directory.</span></span> <span data-ttu-id="0987a-203">Die Ressourcendatei für `HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-203">The resource file for `HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-204">Ob Sie die Benennungskonventionen mit Punkten oder wie Pfade verwenden, hängt davon ab, wie Sie Ihre Ressourcendateien organisieren möchten.</span><span class="sxs-lookup"><span data-stu-id="0987a-204">The choice of using the dot or path naming convention depends on how you want to organize your resource files.</span></span>

| <span data-ttu-id="0987a-205">Ressourcenname</span><span class="sxs-lookup"><span data-stu-id="0987a-205">Resource name</span></span> | <span data-ttu-id="0987a-206">Punkt- oder Pfadbenennung</span><span class="sxs-lookup"><span data-stu-id="0987a-206">Dot or path naming</span></span> |
| ------------   | ------------- |
| <span data-ttu-id="0987a-207">Resources/Controllers.HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-207">Resources/Controllers.HomeController.fr.resx</span></span> | <span data-ttu-id="0987a-208">Punkt</span><span class="sxs-lookup"><span data-stu-id="0987a-208">Dot</span></span>  |
| <span data-ttu-id="0987a-209">Resources/Controllers/HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-209">Resources/Controllers/HomeController.fr.resx</span></span>  | <span data-ttu-id="0987a-210">Pfad</span><span class="sxs-lookup"><span data-stu-id="0987a-210">Path</span></span> |

<span data-ttu-id="0987a-211">Ressourcendateien, die `@inject IViewLocalizer` in Razor-Ansichten verwenden, folgen einem ähnlichen Muster.</span><span class="sxs-lookup"><span data-stu-id="0987a-211">Resource files using `@inject IViewLocalizer` in Razor views follow a similar pattern.</span></span> <span data-ttu-id="0987a-212">Die Ressourcendatei für eine Ansicht kann mit der Punkt- oder Pfadbenennung benannt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-212">The resource file for a view can be named using either dot naming or path naming.</span></span> <span data-ttu-id="0987a-213">Ressourcendateien der Razor-Ansicht imitieren den Pfad ihrer zugehörigen Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-213">Razor view resource files mimic the path of their associated view file.</span></span> <span data-ttu-id="0987a-214">Wenn `ResourcesPath` zum Beispiel auf „Resources“ festgelegt wird, ist die französische Ressourcendatei, die der Ansicht *Views/Home/About.cshtml* zugeordnet ist, eine der folgenden zwei:</span><span class="sxs-lookup"><span data-stu-id="0987a-214">Assuming we set the `ResourcesPath` to "Resources", the French resource file associated with the *Views/Home/About.cshtml* view could be either of the following:</span></span>

* <span data-ttu-id="0987a-215">Resources/Views/Home/About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-215">Resources/Views/Home/About.fr.resx</span></span>

* <span data-ttu-id="0987a-216">Resources/Views.Home.About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-216">Resources/Views.Home.About.fr.resx</span></span>

<span data-ttu-id="0987a-217">Wenn Sie nicht die Option `ResourcesPath` verwenden, befindet sich die *RESX*-Datei für eine Ansicht im selben Ordner wie die Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-217">If you don't use the `ResourcesPath` option, the *.resx* file for a view would be located in the same folder as the view.</span></span>

### <a name="rootnamespaceattribute"></a><span data-ttu-id="0987a-218">RootNamespaceAttribute</span><span class="sxs-lookup"><span data-stu-id="0987a-218">RootNamespaceAttribute</span></span> 

<span data-ttu-id="0987a-219">Das [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1)-Attribut stellt den Stammnamespace einer Assembly bereit, wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="0987a-219">The [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1) attribute provides the root namespace of an assembly when the root namespace of an assembly is different than the assembly name.</span></span> 

> [!WARNING]
> <span data-ttu-id="0987a-220">Dies kann vorkommen, wenn der Name eines Projekts kein gültiger .NET-Bezeichner ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-220">This can occur when a project's name is not a valid .NET identifier.</span></span> <span data-ttu-id="0987a-221">Beispielsweise verwendet `my-project-name.csproj` den Stammnamespace `my_project_name` und den Assemblynamen `my-project-name`, der zu diesem Fehler führt.</span><span class="sxs-lookup"><span data-stu-id="0987a-221">For instance `my-project-name.csproj` will use the root namespace `my_project_name` and the assembly name `my-project-name` leading to this error.</span></span> 

<span data-ttu-id="0987a-222">Wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet, dann geschieht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="0987a-222">If the root namespace of an assembly is different than the assembly name:</span></span>

* <span data-ttu-id="0987a-223">Die Lokalisierung funktioniert standardmäßig nicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-223">Localization does not work by default.</span></span>
* <span data-ttu-id="0987a-224">Die Lokalisierung schlägt aufgrund der Art und Weise, wie nach Ressourcen innerhalb der Assembly gesucht wird, fehl.</span><span class="sxs-lookup"><span data-stu-id="0987a-224">Localization fails due to the way resources are searched for within the assembly.</span></span> <span data-ttu-id="0987a-225">`RootNamespace` ist ein Buildzeitwert, der für den ausgeführten Prozess nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-225">`RootNamespace` is a build-time value which is not available to the executing process.</span></span> 

<span data-ttu-id="0987a-226">Wenn sich `RootNamespace` vom `AssemblyName` unterscheidet, schließen Sie Folgendes in *AssemblyInfo.cs* ein (mit den durch die aktuellen Werte ersetzten Parameterwerten):</span><span class="sxs-lookup"><span data-stu-id="0987a-226">If the `RootNamespace` is different from the `AssemblyName`, include the following in *AssemblyInfo.cs* (with parameter values replaced with the actual values):</span></span>

```csharp
using System.Reflection;
using Microsoft.Extensions.Localization;

[assembly: ResourceLocation("Resource Folder Name")]
[assembly: RootNamespace("App Root Namespace")]
```

<span data-ttu-id="0987a-227">Der vorangehende Code ermöglicht die erfolgreiche Auflösung von RESX-Dateien.</span><span class="sxs-lookup"><span data-stu-id="0987a-227">The preceding code enables the successful resolution of resx files.</span></span>

## <a name="culture-fallback-behavior"></a><span data-ttu-id="0987a-228">Kulturfallbackverhalten</span><span class="sxs-lookup"><span data-stu-id="0987a-228">Culture fallback behavior</span></span>

<span data-ttu-id="0987a-229">Bei der Suche nach einer Ressource initiiert die Lokalisierung „Kulturfallbackverhalten“.</span><span class="sxs-lookup"><span data-stu-id="0987a-229">When searching for a resource, localization engages in "culture fallback".</span></span> <span data-ttu-id="0987a-230">Wenn die angeforderte Kultur nicht gefunden wird, setzt sie diese Kultur auf die übergeordnete Kultur zurück.</span><span class="sxs-lookup"><span data-stu-id="0987a-230">Starting from the requested culture, if not found, it reverts to the parent culture of that culture.</span></span> <span data-ttu-id="0987a-231">Die Eigenschaft [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) stellt übrigens die übergeordnete Kultur dar.</span><span class="sxs-lookup"><span data-stu-id="0987a-231">As an aside, the [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) property represents the parent culture.</span></span> <span data-ttu-id="0987a-232">Das bedeutet in der Regel (aber nicht immer), dass der nationale Bezeichner aus der ISO entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-232">This usually (but not always) means removing the national signifier from the ISO.</span></span> <span data-ttu-id="0987a-233">Beispielsweise ist der in Mexiko gesprochene spanische Sprache „es-MX“.</span><span class="sxs-lookup"><span data-stu-id="0987a-233">For example, the dialect of Spanish spoken in Mexico is "es-MX".</span></span> <span data-ttu-id="0987a-234">„es“&mdash;Spanisch ist das übergeordnete Element und bezieht sich nicht auf ein einzelnes Land.</span><span class="sxs-lookup"><span data-stu-id="0987a-234">It has the parent "es"&mdash;Spanish non-specific to any country.</span></span>

<span data-ttu-id="0987a-235">Nehmen Sie an, dass Ihre Website eine Anforderung für eine Willkommensressource mit der Kultur „fr-CA“ erhält.</span><span class="sxs-lookup"><span data-stu-id="0987a-235">Imagine your site receives a request for a "Welcome" resource using culture "fr-CA".</span></span> <span data-ttu-id="0987a-236">Das Lokalisierungssystem sucht der Reihenfolge nach nach der folgenden Ressource und wählt die erste Übereinstimmung aus:</span><span class="sxs-lookup"><span data-stu-id="0987a-236">The localization system looks for the following resources, in order, and selects the first match:</span></span>

* <span data-ttu-id="0987a-237">*Welcome.fr-CA.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-237">*Welcome.fr-CA.resx*</span></span>
* <span data-ttu-id="0987a-238">*Welcome.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-238">*Welcome.fr.resx*</span></span>
* <span data-ttu-id="0987a-239">*Welcome.resx* (wenn `NeutralResourcesLanguage` „fr-CA“ ist)</span><span class="sxs-lookup"><span data-stu-id="0987a-239">*Welcome.resx* (if the `NeutralResourcesLanguage` is "fr-CA")</span></span>

<span data-ttu-id="0987a-240">Wenn Sie beispielsweise den Kulturkennzeichner „.fr“ entfernen und die Kultur auf „Französisch“ festgelegt ist, wird die Standardressourcendatei gelesen, und Zeichenfolgen werden lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-240">As an example, if you remove the ".fr" culture designator and you have the culture set to French, the default resource file is read and strings are localized.</span></span> <span data-ttu-id="0987a-241">Der Ressourcen-Manager kennzeichnet eine Standard- oder Fallbackressource, wenn keine Entsprechung für die angeforderte Kultur gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-241">The Resource manager designates a default or fallback resource for when nothing meets your requested culture.</span></span> <span data-ttu-id="0987a-242">Wenn Sie nur den Schlüssel zurückgeben möchten, während eine Ressource für die angefragte Kultur fehlt, darf keine Standardressourcendatei festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="0987a-242">If you want to just return the key when missing a resource for the requested culture you must not have a default resource file.</span></span>

### <a name="generate-resource-files-with-visual-studio"></a><span data-ttu-id="0987a-243">Erstellen von Ressourcendateien mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0987a-243">Generate resource files with Visual Studio</span></span>

<span data-ttu-id="0987a-244">Wenn Sie eine Ressourcendatei in Visual Studio erstellen, ohne eine Kultur im Dateinamen (z.B. *Welcome.resx*) festzulegen, erstellt Visual Studio eine C#-Klasse mit einer Eigenschaft für jede Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="0987a-244">If you create a resource file in Visual Studio without a culture in the file name (for example, *Welcome.resx*), Visual Studio will create a C# class with a property for each string.</span></span> <span data-ttu-id="0987a-245">Das ist in der Regel nicht das, was Sie mit ASP.NET Core erreichen wollen.</span><span class="sxs-lookup"><span data-stu-id="0987a-245">That's usually not what you want with ASP.NET Core.</span></span> <span data-ttu-id="0987a-246">In der Regel gibt es keine Standard-*RESX*-Ressourcendatei (eine *RESX*-Datei ohne den Kulturnamen).</span><span class="sxs-lookup"><span data-stu-id="0987a-246">You typically don't have a default *.resx* resource file (a *.resx* file without the culture name).</span></span> <span data-ttu-id="0987a-247">Es wird empfohlen, dass Sie eine *RESX*-Datei mit einem Kulturnamen erstellen (z.B. *Welcome.fr.resx*).</span><span class="sxs-lookup"><span data-stu-id="0987a-247">We suggest you create the *.resx* file with a culture name (for example *Welcome.fr.resx*).</span></span> <span data-ttu-id="0987a-248">Wenn Sie eine *RESX*-Datei mit einem Kulturnamen erstellen, erstellt Visual Studio keine Klassendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-248">When you create a *.resx* file with a culture name, Visual Studio won't generate the class file.</span></span>

### <a name="add-other-cultures"></a><span data-ttu-id="0987a-249">Hinzufügen von anderen Kulturen</span><span class="sxs-lookup"><span data-stu-id="0987a-249">Add other cultures</span></span>

<span data-ttu-id="0987a-250">Jede Kombination von Sprache und Kultur (mit Ausnahme der Standardsprache) erfordert eine eindeutige Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-250">Each language and culture combination (other than the default language) requires a unique resource file.</span></span> <span data-ttu-id="0987a-251">Sie erstellen Ressourcendateien für verschiedene Kulturen und Gebietsschemas, indem Sie neue Ressourcendateien erstellen, in denen ISO-Sprachcodes im Dateinamen enthalten sind (z.B. **en-us** **fr-ca**, und **en-gb**).</span><span class="sxs-lookup"><span data-stu-id="0987a-251">You create resource files for different cultures and locales by creating new resource files in which the ISO language codes are part of the file name (for example, **en-us**, **fr-ca**, and **en-gb**).</span></span> <span data-ttu-id="0987a-252">Diese ISO-Codes werden zwischen dem Dateinamen und der Erweiterung *.resx* platziert, z.B. *Welcome.es-MX.resx* (Spanisch/Mexiko).</span><span class="sxs-lookup"><span data-stu-id="0987a-252">These ISO codes are placed between the file name and the *.resx* file extension, as in *Welcome.es-MX.resx* (Spanish/Mexico).</span></span>

## <a name="implement-a-strategy-to-select-the-languageculture-for-each-request"></a><span data-ttu-id="0987a-253">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-253">Implement a strategy to select the language/culture for each request</span></span>

### <a name="configure-localization"></a><span data-ttu-id="0987a-254">Konfigurieren der Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-254">Configure localization</span></span>

<span data-ttu-id="0987a-255">Die Lokalisierung wird über die Methode `Startup.ConfigureServices` konfiguriert:</span><span class="sxs-lookup"><span data-stu-id="0987a-255">Localization is configured in the `Startup.ConfigureServices` method:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet1)]

* <span data-ttu-id="0987a-256">`AddLocalization` fügt die Lokalisierungsdienste dem Dienstcontainer hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-256">`AddLocalization` adds the localization services to the services container.</span></span> <span data-ttu-id="0987a-257">Im obigen Codebeispiel wird der Ressourcenpfad auf „Resources“ festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-257">The code above also sets the resources path to "Resources".</span></span>

* <span data-ttu-id="0987a-258">`AddViewLocalization` fügt Unterstützung für lokalisierte Ansichtsdateien hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-258">`AddViewLocalization` adds support for localized view files.</span></span> <span data-ttu-id="0987a-259">In diesem Beispiel basiert die Lokalisierung der Ansicht auf dem Suffix der Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-259">In this sample view localization is based on the view file suffix.</span></span> <span data-ttu-id="0987a-260">Zum Beispiel „fr“ in der Datei *Index.fr.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0987a-260">For example "fr" in the *Index.fr.cshtml* file.</span></span>

* <span data-ttu-id="0987a-261">`AddDataAnnotationsLocalization` fügt Unterstützung für lokalisierte `DataAnnotations`-Validierungsmeldungen durch Abstraktionen von `IStringLocalizer` hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-261">`AddDataAnnotationsLocalization` adds support for localized `DataAnnotations` validation messages through `IStringLocalizer` abstractions.</span></span>

### <a name="localization-middleware"></a><span data-ttu-id="0987a-262">Lokalisierungsmiddleware</span><span class="sxs-lookup"><span data-stu-id="0987a-262">Localization middleware</span></span>

<span data-ttu-id="0987a-263">Die aktuell angefragte Kultur wird in der [Middleware](xref:fundamentals/middleware/index) für die Lokalisierung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-263">The current culture on a request is set in the localization [Middleware](xref:fundamentals/middleware/index).</span></span> <span data-ttu-id="0987a-264">Die Middleware für die Lokalisierung wird in der `Startup.Configure`-Methode aktiviert.</span><span class="sxs-lookup"><span data-stu-id="0987a-264">The localization middleware is enabled in the `Startup.Configure` method.</span></span> <span data-ttu-id="0987a-265">Die Lokalisierungsmiddleware muss vor Middleware konfiguriert werden, die möglicherweise die Anforderungskultur prüft (z.B. `app.UseMvcWithDefaultRoute()`).</span><span class="sxs-lookup"><span data-stu-id="0987a-265">The localization middleware must be configured before any middleware which might check the request culture (for example, `app.UseMvcWithDefaultRoute()`).</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet2)]

[!INCLUDE[about the series](~/includes/code-comments-loc.md)]

<span data-ttu-id="0987a-266">`UseRequestLocalization` initialisiert ein `RequestLocalizationOptions`-Objekt.</span><span class="sxs-lookup"><span data-stu-id="0987a-266">`UseRequestLocalization` initializes a `RequestLocalizationOptions` object.</span></span> <span data-ttu-id="0987a-267">Bei jeder Anforderung wird die Liste von `RequestCultureProvider` in `RequestLocalizationOptions` aufgelistet und der erste Anbieter, der erfolgreich die Anforderungskultur bestimmen kann, wird verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-267">On every request the list of `RequestCultureProvider` in the `RequestLocalizationOptions` is enumerated and the first provider that can successfully determine the request culture is used.</span></span> <span data-ttu-id="0987a-268">Die Standardanbieter stammen aus der Klasse `RequestLocalizationOptions`:</span><span class="sxs-lookup"><span data-stu-id="0987a-268">The default providers come from the `RequestLocalizationOptions` class:</span></span>

1. `QueryStringRequestCultureProvider`
1. `CookieRequestCultureProvider`
1. `AcceptLanguageHeaderRequestCultureProvider`

<span data-ttu-id="0987a-269">Die Reihenfolge der Standardliste fängt bei den spezifischsten Anbietern an und endet mit den allgemeinsten.</span><span class="sxs-lookup"><span data-stu-id="0987a-269">The default list goes from most specific to least specific.</span></span> <span data-ttu-id="0987a-270">Im Verlauf des Artikels erfahren Sie, wie Sie die Reihenfolge ändern und einen benutzerdefinierten Kulturanbieter hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-270">Later in the article we'll see how you can change the order and even add a custom culture provider.</span></span> <span data-ttu-id="0987a-271">Wenn kein Anbieter die Anforderungskultur bestimmen kann, wird `DefaultRequestCulture` verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-271">If none of the providers can determine the request culture, the `DefaultRequestCulture` is used.</span></span>

### <a name="querystringrequestcultureprovider"></a><span data-ttu-id="0987a-272">QueryStringRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-272">QueryStringRequestCultureProvider</span></span>

<span data-ttu-id="0987a-273">Einige Apps verwenden eine Abfragezeichenfolge, um die <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1> festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0987a-273">Some apps will use a query string to set the <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1>.</span></span> <span data-ttu-id="0987a-274">Bei Apps, die die Ansätze cookie oder Accept-Language-Header verwenden, ist das Hinzufügen einer Abfragezeichenfolge zur URL für das Debuggen und Testen von Code nützlich.</span><span class="sxs-lookup"><span data-stu-id="0987a-274">For apps that use the cookie or Accept-Language header approach, adding a query string to the URL is useful for debugging and testing code.</span></span> <span data-ttu-id="0987a-275">Standardmäßig ist `QueryStringRequestCultureProvider` als erster Lokalisierungsanbieter in der Liste `RequestCultureProvider` registriert.</span><span class="sxs-lookup"><span data-stu-id="0987a-275">By default, the `QueryStringRequestCultureProvider` is registered as the first localization provider in the `RequestCultureProvider` list.</span></span> <span data-ttu-id="0987a-276">Sie übergeben die Abfragezeichenfolge-Parameter `culture` und `ui-culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-276">You pass the query string parameters `culture` and `ui-culture`.</span></span> <span data-ttu-id="0987a-277">Im folgenden Beispiel ist die spezifische Kultur (Sprache und Region) auf Spanisch/Mexiko festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-277">The following example sets the specific culture (language and region) to Spanish/Mexico:</span></span>

   `http://localhost:5000/?culture=es-MX&ui-culture=es-MX`

<span data-ttu-id="0987a-278">Wenn Sie nur eine der beiden Abfragezeichenfolgen (`culture` oder `ui-culture`) übergeben, setzt der Anbieter für Abfragezeichenfolgen beide Werte entsprechend der übergebenen Abfrage fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-278">If you only pass in one of the two (`culture` or `ui-culture`), the query string provider will set both values using the one you passed in.</span></span> <span data-ttu-id="0987a-279">Wenn beispielsweise nur die Kultur festgelegt wird, werden sowohl `Culture` als auch `UICulture` wie folgt festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-279">For example, setting just the culture will set both the `Culture` and the `UICulture`:</span></span>

```
http://localhost:5000/?culture=es-MX
```

### <a name="no-loccookierequestcultureprovider"></a><span data-ttu-id="0987a-280">CookieRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-280">CookieRequestCultureProvider</span></span>

<span data-ttu-id="0987a-281">Produktions-Apps bieten oft einen Mechanismus zum Festlegen der Kultur mithilfe des ASP.NET Core-Kulturcookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-281">Production apps will often provide a mechanism to set the culture with the ASP.NET Core culture cookie.</span></span> <span data-ttu-id="0987a-282">Verwenden Sie die Methode `MakeCookieValue` zum Erstellen eines cookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-282">Use the `MakeCookieValue` method to create a cookie.</span></span>

<span data-ttu-id="0987a-283">`CookieRequestCultureProvider` `DefaultCookieName` gibt den Standardcookienamen zurück, mit dem ermittelt wird, welche Kulturinformationen der Benutzer bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="0987a-283">The `CookieRequestCultureProvider` `DefaultCookieName` returns the default cookie name used to track the user's preferred culture information.</span></span> <span data-ttu-id="0987a-284">Der Standardcookiename lautet `.AspNetCore.Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-284">The default cookie name is `.AspNetCore.Culture`.</span></span>

<span data-ttu-id="0987a-285">Das cookieformat ist `c=%LANGCODE%|uic=%LANGCODE%`, wobei `c` für `Culture` steht und `uic` für `UICulture`, zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="0987a-285">The cookie format is `c=%LANGCODE%|uic=%LANGCODE%`, where `c` is `Culture` and `uic` is `UICulture`, for example:</span></span>

```
c=en-UK|uic=en-US
```

<span data-ttu-id="0987a-286">Wenn Sie nur eine Kulturinformation und eine Benutzeroberflächenkultur angeben, wird die angegebene Kultur sowohl für die Kulturinformation als auch die Benutzeroberflächenkultur verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-286">If you only specify one of culture info and UI culture, the specified culture will be used for both culture info and UI culture.</span></span>

### <a name="the-accept-language-http-header"></a><span data-ttu-id="0987a-287">Der Accept-Language-HTTP-Header</span><span class="sxs-lookup"><span data-stu-id="0987a-287">The Accept-Language HTTP header</span></span>

<span data-ttu-id="0987a-288">Der [Accept-Language-Header](https://www.w3.org/International/questions/qa-accept-lang-locales) ist in den meisten Browsern konfigurierbar und war ursprünglich dafür gedacht, die Sprache des Benutzers anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-288">The [Accept-Language header](https://www.w3.org/International/questions/qa-accept-lang-locales) is settable in most browsers and was originally intended to specify the user's language.</span></span> <span data-ttu-id="0987a-289">Diese Einstellung gibt an, was im Browser zum Senden festgelegt ist oder vom zugrunde liegenden Betriebssystem geerbt wurde.</span><span class="sxs-lookup"><span data-stu-id="0987a-289">This setting indicates what the browser has been set to send or has inherited from the underlying operating system.</span></span> <span data-ttu-id="0987a-290">Der Accept-Language-HTTP-Header einer Browseranfrage ist keine unfehlbare Methode zum Erkennen der bevorzugten Sprache des Benutzers (siehe [Setting language preferences in a browser (Festlegen der bevorzugten Sprache in einem Browser)](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span><span class="sxs-lookup"><span data-stu-id="0987a-290">The Accept-Language HTTP header from a browser request isn't an infallible way to detect the user's preferred language (see [Setting language preferences in a browser](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span></span> <span data-ttu-id="0987a-291">In einer Produktions-App sollten Benutzer die Möglichkeit haben, ihre bevorzugte Kultur anzupassen.</span><span class="sxs-lookup"><span data-stu-id="0987a-291">A production app should include a way for a user to customize their choice of culture.</span></span>

### <a name="set-the-accept-language-http-header-in-ie"></a><span data-ttu-id="0987a-292">Festlegen des Accept-Language-HTTP-Headers in Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="0987a-292">Set the Accept-Language HTTP header in IE</span></span>

1. <span data-ttu-id="0987a-293">Klicken Sie auf das Zahnradsymbol und dann auf **Internetoptionen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-293">From the gear icon, tap **Internet Options**.</span></span>

1. <span data-ttu-id="0987a-294">Klicken Sie auf **Sprachen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-294">Tap **Languages**.</span></span>

   ![Internetoptionen](localization/_static/lang.png)

1. <span data-ttu-id="0987a-296">Klicken Sie auf **Spracheinstellungen festlegen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-296">Tap **Set Language Preferences**.</span></span>

1. <span data-ttu-id="0987a-297">Klicken Sie auf **Sprache hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-297">Tap **Add a language**.</span></span>

1. <span data-ttu-id="0987a-298">Fügen Sie die Sprache hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-298">Add the language.</span></span>

1. <span data-ttu-id="0987a-299">Klicken Sie auf die Sprache und dann auf **Nach oben**.</span><span class="sxs-lookup"><span data-stu-id="0987a-299">Tap the language, then tap **Move Up**.</span></span>

### <a name="use-a-custom-provider"></a><span data-ttu-id="0987a-300">Verwenden eines benutzerdefinierten Anbieters</span><span class="sxs-lookup"><span data-stu-id="0987a-300">Use a custom provider</span></span>

<span data-ttu-id="0987a-301">Angenommen, Sie möchten Ihren Kunden das Speichern ihrer Sprache und Kultur in Ihren Datenbanken ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-301">Suppose you want to let your customers store their language and culture in your databases.</span></span> <span data-ttu-id="0987a-302">In diesem Fall können Sie einen Anbieter codieren, der diese Werte für den Benutzer abruft.</span><span class="sxs-lookup"><span data-stu-id="0987a-302">You could write a provider to look up these values for the user.</span></span> <span data-ttu-id="0987a-303">Im folgenden Codebeispiel wird veranschaulicht, wie Sie einen benutzerdefinierten Anbieter hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="0987a-303">The following code shows how to add a custom provider:</span></span>

```csharp
private const string enUSCulture = "en-US";

services.Configure<RequestLocalizationOptions>(options =>
{
    var supportedCultures = new[]
    {
        new CultureInfo(enUSCulture),
        new CultureInfo("fr")
    };

    options.DefaultRequestCulture = new RequestCulture(culture: enUSCulture, uiCulture: enUSCulture);
    options.SupportedCultures = supportedCultures;
    options.SupportedUICultures = supportedCultures;

    options.AddInitialRequestCultureProvider(new CustomRequestCultureProvider(async context =>
    {
        // My custom request culture logic
        return new ProviderCultureResult("en");
    }));
});
```

<span data-ttu-id="0987a-304">Verwenden Sie `RequestLocalizationOptions`, um Lokalisierungsanbieter hinzuzufügen oder zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="0987a-304">Use `RequestLocalizationOptions` to add or remove localization providers.</span></span>

### <a name="set-the-culture-programmatically"></a><span data-ttu-id="0987a-305">Programmgesteuertes Festlegen der Kultur</span><span class="sxs-lookup"><span data-stu-id="0987a-305">Set the culture programmatically</span></span>

<span data-ttu-id="0987a-306">Das Beispielprojekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält eine Benutzeroberfläche zum Festlegen von `Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-306">This sample **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) contains UI to set the `Culture`.</span></span> <span data-ttu-id="0987a-307">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* ermöglicht Ihnen das Auswählen der Kultur aus der Liste von unterstützten Kulturen:</span><span class="sxs-lookup"><span data-stu-id="0987a-307">The *Views/Shared/_SelectLanguagePartial.cshtml* file allows you to select the culture from the list of supported cultures:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_SelectLanguagePartial.cshtml)]

<span data-ttu-id="0987a-308">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* wird dem Abschnitt `footer` der Layoutdatei hinzugefügt, damit sie für alle Ansichten verfügbar ist:</span><span class="sxs-lookup"><span data-stu-id="0987a-308">The *Views/Shared/_SelectLanguagePartial.cshtml* file is added to the `footer` section of the layout file so it will be available to all views:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_Layout.cshtml?range=43-56&highlight=10)]

<span data-ttu-id="0987a-309">Die Methode `SetLanguage` legt das Kulturcookie fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-309">The `SetLanguage` method sets the culture cookie.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/HomeController.cs?range=57-67)]

<span data-ttu-id="0987a-310">Sie können *_SelectLanguagePartial.cshtml* dem Beispielcode für dieses Projekt nicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-310">You can't plug in the *_SelectLanguagePartial.cshtml* to sample code for this project.</span></span> <span data-ttu-id="0987a-311">Das Projekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält Code, der `RequestLocalizationOptions` durch den Container von [Dependency Injection](dependency-injection.md) an eineRazor-Teilansicht übermittelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-311">The **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) has code to flow the `RequestLocalizationOptions` to a Razor partial through the [Dependency Injection](dependency-injection.md) container.</span></span>

## <a name="model-binding-route-data-and-query-strings"></a><span data-ttu-id="0987a-312">Routendaten und Abfragezeichenfolgen für die Modellbindung</span><span class="sxs-lookup"><span data-stu-id="0987a-312">Model binding route data and query strings</span></span>

<span data-ttu-id="0987a-313">Weitere Informationen finden Sie unter [Globalisierungsverhalten der Routendaten und Abfragezeichenfolgen für die Modellbindung](xref:mvc/models/model-binding#glob).</span><span class="sxs-lookup"><span data-stu-id="0987a-313">See [Globalization behavior of model binding route data and query strings](xref:mvc/models/model-binding#glob).</span></span>

## <a name="globalization-and-localization-terms"></a><span data-ttu-id="0987a-314">Begriffe für die Globalisierung und Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-314">Globalization and localization terms</span></span>

<span data-ttu-id="0987a-315">Der Lokalisierungsprozess für Ihre App erfordert ein grundlegendes Verständnis von relevanten Zeichensätzen, die häufig in der modernen Softwareentwicklung verwendet werden, und von den Problemen, die mit ihnen zusammenhängen.</span><span class="sxs-lookup"><span data-stu-id="0987a-315">The process of localizing your app also requires a basic understanding of relevant character sets commonly used in modern software development and an understanding of the issues associated with them.</span></span> <span data-ttu-id="0987a-316">Obwohl alle Computer Text als Zahlen (Codes) speichern, speichern verschiedene Systeme denselben Text mit anderen Zahlen.</span><span class="sxs-lookup"><span data-stu-id="0987a-316">Although all computers store text as numbers (codes), different systems store the same text using different numbers.</span></span> <span data-ttu-id="0987a-317">Der Lokalisierungsprozess bezieht sich auf das Übersetzen der Benutzeroberfläche (UI) der App für eine spezifische Kultur bzw. ein bestimmtes Gebietsschema.</span><span class="sxs-lookup"><span data-stu-id="0987a-317">The localization process refers to translating the app user interface (UI) for a specific culture/locale.</span></span>

<span data-ttu-id="0987a-318">[Lokalisierbarkeit](/dotnet/standard/globalization-localization/localizability-review) ist ein Zwischenschritt zum Überprüfen, ob eine globalisierte App bereit für die Lokalisierung ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-318">[Localizability](/dotnet/standard/globalization-localization/localizability-review) is an intermediate process for verifying that a globalized app is ready for localization.</span></span>

<span data-ttu-id="0987a-319">Das Format [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) für den Kulturnamen ist `<languagecode2>-<country/regioncode2>`, wobei `<languagecode2>` der Sprachcode und `<country/regioncode2>` der Unterkulturcode.</span><span class="sxs-lookup"><span data-stu-id="0987a-319">The [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format for the culture name is `<languagecode2>-<country/regioncode2>`, where `<languagecode2>` is the language code and `<country/regioncode2>` is the subculture code.</span></span> <span data-ttu-id="0987a-320">Zum Beispiel steht `es-CL` für Spanisch (Chile), `en-US` für Englisch (USA) und `en-AU` für Englisch (Australien).</span><span class="sxs-lookup"><span data-stu-id="0987a-320">For example, `es-CL` for Spanish (Chile), `en-US` for English (United States), and `en-AU` for English (Australia).</span></span> <span data-ttu-id="0987a-321">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) ist eine Kombination der ISO 639, bei der zwei Kleinbuchstaben den Kulturcode beschreiben, der einer Sprache zugeordnet ist, und der ISO 3166, bei der zwei Großbuchstaben den Unterkulturcode beschreiben, der einem Land oder einer Region zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-321">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) is a combination of an ISO 639 two-letter lowercase culture code associated with a language and an ISO 3166 two-letter uppercase subculture code associated with a country or region.</span></span> <span data-ttu-id="0987a-322">Siehe <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span><span class="sxs-lookup"><span data-stu-id="0987a-322">See <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span></span>

<span data-ttu-id="0987a-323">Die Internationalisierung (Internationalization) wird oft mit „I18N“ abgekürzt.</span><span class="sxs-lookup"><span data-stu-id="0987a-323">Internationalization is often abbreviated to "I18N".</span></span> <span data-ttu-id="0987a-324">Diese Abkürzung verwendet den ersten und den letzten Buchstaben und die Anzahl der dazwischen liegenden Buchstaben, 18 steht also für die Menge der Buchstaben zwischen dem ersten „I“ und dem letzten „N“.</span><span class="sxs-lookup"><span data-stu-id="0987a-324">The abbreviation takes the first and last letters and the number of letters between them, so 18 stands for the number of letters between the first "I" and the last "N".</span></span> <span data-ttu-id="0987a-325">Das gleiche gilt für Globalisierung (Globalization, G11N) und Lokalisierung (Localization, L10N).</span><span class="sxs-lookup"><span data-stu-id="0987a-325">The same applies to Globalization (G11N), and Localization (L10N).</span></span>

<span data-ttu-id="0987a-326">Begriffe:</span><span class="sxs-lookup"><span data-stu-id="0987a-326">Terms:</span></span>

* <span data-ttu-id="0987a-327">Globalisierung (G11N): Der Prozess, durch den eine App mehrere Sprachen und Regionen unterstützen soll.</span><span class="sxs-lookup"><span data-stu-id="0987a-327">Globalization (G11N): The process of making an app support different languages and regions.</span></span>
* <span data-ttu-id="0987a-328">Lokalisierung (L10N): Der Prozess, durch den eine App auf eine Sprache und Region angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-328">Localization (L10N): The process of customizing an app for a given language and region.</span></span>
* <span data-ttu-id="0987a-329">Internationalisierung (I18N): Beschreibt sowohl Globalisierung als auch Lokalisierung.</span><span class="sxs-lookup"><span data-stu-id="0987a-329">Internationalization (I18N): Describes both globalization and localization.</span></span>
* <span data-ttu-id="0987a-330">Kultur: Beschreibt eine Sprache und optional auch eine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-330">Culture: It's a language and, optionally, a region.</span></span>
* <span data-ttu-id="0987a-331">Neutrale Kultur: Eine Kultur, die eine bestimmte Sprache beschreibt, aber keine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-331">Neutral culture: A culture that has a specified language, but not a region.</span></span> <span data-ttu-id="0987a-332">(Zum Beispiel „en“, „es“)</span><span class="sxs-lookup"><span data-stu-id="0987a-332">(for example "en", "es")</span></span>
* <span data-ttu-id="0987a-333">Spezifische Kultur: Eine Kultur, die eine bestimmte Sprache und Region beschreibt.</span><span class="sxs-lookup"><span data-stu-id="0987a-333">Specific culture: A culture that has a specified language and region.</span></span> <span data-ttu-id="0987a-334">(Zum Beispiel „en-US“, „en-GB“, „es-CL“)</span><span class="sxs-lookup"><span data-stu-id="0987a-334">(for example "en-US", "en-GB", "es-CL")</span></span>
* <span data-ttu-id="0987a-335">Übergeordnete Kultur: Eine neutrale Kultur, die eine spezifische Kultur enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-335">Parent culture: The neutral culture that contains a specific culture.</span></span> <span data-ttu-id="0987a-336">(„en“ ist z.B. die übergeordnete Kultur von „en-US“ und „en-GB“)</span><span class="sxs-lookup"><span data-stu-id="0987a-336">(for example, "en" is the parent culture of "en-US" and "en-GB")</span></span>
* <span data-ttu-id="0987a-337">Gebietsschema: Ein Gebietsschema ist identisch mit einer Kultur.</span><span class="sxs-lookup"><span data-stu-id="0987a-337">Locale: A locale is the same as a culture.</span></span>

[!INCLUDE[](~/includes/localization/currency.md)]

[!INCLUDE[](~/includes/localization/unsupported-culture-log-level.md)]

## <a name="additional-resources"></a><span data-ttu-id="0987a-338">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="0987a-338">Additional resources</span></span>

* <xref:fundamentals/troubleshoot-aspnet-core-localization>
* <span data-ttu-id="0987a-339">[Localization.StarterWeb-Projekt](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) wird im Artikel verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-339">[Localization.StarterWeb project](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) used in the article.</span></span>
* [<span data-ttu-id="0987a-340">Globalisieren und Lokalisieren von .NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="0987a-340">Globalizing and localizing .NET applications</span></span>](/dotnet/standard/globalization-localization/index)
* [<span data-ttu-id="0987a-341">Ressourcen in RESX-Dateien</span><span class="sxs-lookup"><span data-stu-id="0987a-341">Resources in .resx Files</span></span>](/dotnet/framework/resources/working-with-resx-files-programmatically)
* [<span data-ttu-id="0987a-342">Microsoft Multilingual App Toolkit</span><span class="sxs-lookup"><span data-stu-id="0987a-342">Microsoft Multilingual App Toolkit</span></span>](https://marketplace.visualstudio.com/items?itemName=MultilingualAppToolkit.MultilingualAppToolkit-18308)
* [<span data-ttu-id="0987a-343">Lokalisierung und Generics</span><span class="sxs-lookup"><span data-stu-id="0987a-343">Localization & Generics</span></span>](http://hishambinateya.com/localization-and-generics)

::: moniker-end

::: moniker range="< aspnetcore-3.0"

<span data-ttu-id="0987a-344">Von [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), und [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span><span class="sxs-lookup"><span data-stu-id="0987a-344">By [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), and [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span></span>

<span data-ttu-id="0987a-345">Eine mehrsprachige Website ermöglicht es, eine größere Zielgruppe zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-345">A multilingual website allows the site to reach a wider audience.</span></span> <span data-ttu-id="0987a-346">ASP.NET Core bietet Dienste und Middleware zur Lokalisierung in verschiedene Sprachen und Kulturen.</span><span class="sxs-lookup"><span data-stu-id="0987a-346">ASP.NET Core provides services and middleware for localizing into different languages and cultures.</span></span>

<span data-ttu-id="0987a-347">Die Internationalisierung umfasst die[Globalisierung](/dotnet/api/system.globalization) und die [Lokalisierung](/dotnet/standard/globalization-localization/localization).</span><span class="sxs-lookup"><span data-stu-id="0987a-347">Internationalization involves [Globalization](/dotnet/api/system.globalization) and [Localization](/dotnet/standard/globalization-localization/localization).</span></span> <span data-ttu-id="0987a-348">Globalisierung bezeichnet das Entwerfen von Anwendungen, die verschiedene Kulturen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0987a-348">Globalization is the process of designing apps that support different cultures.</span></span> <span data-ttu-id="0987a-349">Durch die Globalisierung wird die Unterstützung von Eingabe, Anzeige und Ausgabe mehrerer definierter Sprachskripts hinzugefügt, die zu bestimmten geografischen Bereichen gehören.</span><span class="sxs-lookup"><span data-stu-id="0987a-349">Globalization adds support for input, display, and output of a defined set of language scripts that relate to specific geographic areas.</span></span>

<span data-ttu-id="0987a-350">Durch die Lokalisierung wird eine globalisierte App, die bereits auf Lokalisierbarkeit vorbereitet wurde, auf eine bestimmte Kultur bzw. ein bestimmtes Gebietsschema angepasst.</span><span class="sxs-lookup"><span data-stu-id="0987a-350">Localization is the process of adapting a globalized app, which you have already processed for localizability, to a particular culture/locale.</span></span> <span data-ttu-id="0987a-351">Weitere Informationen finden Sie unter **Begriffe für die Globalisierung und Lokalisierung** am Ende dieses Dokuments.</span><span class="sxs-lookup"><span data-stu-id="0987a-351">For more information see **Globalization and localization terms** near the end of this document.</span></span>

<span data-ttu-id="0987a-352">Die Lokalisierung von Apps umfasst die folgenden Aufgaben:</span><span class="sxs-lookup"><span data-stu-id="0987a-352">App localization involves the following:</span></span>

1. <span data-ttu-id="0987a-353">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-353">Make the app's content localizable</span></span>
1. <span data-ttu-id="0987a-354">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-354">Provide localized resources for the languages and cultures you support</span></span>
1. <span data-ttu-id="0987a-355">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-355">Implement a strategy to select the language/culture for each request</span></span>

<span data-ttu-id="0987a-356">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/Localization) ([Vorgehensweise zum Herunterladen](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="0987a-356">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/Localization) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="make-the-apps-content-localizable"></a><span data-ttu-id="0987a-357">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-357">Make the app's content localizable</span></span>

<span data-ttu-id="0987a-358"><xref:Microsoft.Extensions.Localization.IStringLocalizer> und <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> wurden zur Förderung der Produktivität bei der Entwicklung von lokalisierten Apps entwickelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-358"><xref:Microsoft.Extensions.Localization.IStringLocalizer> and <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> were architected to improve productivity when developing localized apps.</span></span> <span data-ttu-id="0987a-359">`IStringLocalizer` verwendet <xref:System.Resources.ResourceManager> und <xref:System.Resources.ResourceReader>, um kulturspezifische Ressourcen zur Laufzeit bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-359">`IStringLocalizer` uses the <xref:System.Resources.ResourceManager> and <xref:System.Resources.ResourceReader> to provide culture-specific resources at run time.</span></span> <span data-ttu-id="0987a-360">Die Schnittstelle besitzt einen Indexer und `IEnumerable` für die Rückgabe von lokalisierten Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-360">The interface has an indexer and an `IEnumerable` for returning localized strings.</span></span> <span data-ttu-id="0987a-361">`IStringLocalizer` erfordert nicht, dass die Zeichenfolgen der Standardsprache in einer Ressourcendatei gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-361">`IStringLocalizer` doesn't require storing the default language strings in a resource file.</span></span> <span data-ttu-id="0987a-362">Sie können eine App entwickeln, die für die Lokalisierung ausgelegt ist, und müssen in den frühen Entwicklungsphasen keine Ressourcendateien erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-362">You can develop an app targeted for localization and not need to create resource files early in development.</span></span> <span data-ttu-id="0987a-363">Im folgenden Codebeispiel wird dargestellt, wie die Zeichenfolge „About Title“ für die Lokalisierung umschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-363">The code below shows how to wrap the string "About Title" for localization.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/AboutController.cs)]

<span data-ttu-id="0987a-364">Im vorangehenden Codebeispiel stammt die Implementierung von `IStringLocalizer<T>` aus [Dependency Injection](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="0987a-364">In the preceding code, the `IStringLocalizer<T>` implementation comes from [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="0987a-365">Wenn kein lokalisierter Wert von „About Title“ gefunden wird, wird der Indexerschlüssel zurückgegeben, d.h. die Zeichenfolge „About Title“.</span><span class="sxs-lookup"><span data-stu-id="0987a-365">If the localized value of "About Title" isn't found, then the indexer key is returned, that is, the string "About Title".</span></span> <span data-ttu-id="0987a-366">Sie können die Literalzeichenfolgen der App in der Standardsprache beibehalten und diese in der Lokalisierung umschließen, damit Sie sich auf die Entwicklung der App konzentrieren können.</span><span class="sxs-lookup"><span data-stu-id="0987a-366">You can leave the default language literal strings in the app and wrap them in the localizer, so that you can focus on developing the app.</span></span> <span data-ttu-id="0987a-367">Entwickeln Sie Ihre App mit Ihrer Standardsprache, und bereiten Sie sie auf die Lokalisierung vor, ohne zuerst eine Standardressourcendatei zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-367">You develop your app with your default language and prepare it for the localization step without first creating a default resource file.</span></span> <span data-ttu-id="0987a-368">Alternativ können Sie das herkömmliche Verfahren verwenden und einen Schlüssel zum Abrufen der Zeichenfolge in der Standardsprache angeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-368">Alternatively, you can use the traditional approach and provide a key to retrieve the default language string.</span></span> <span data-ttu-id="0987a-369">Der neue Workflow, der keine Standardsprache in der *RESX*-Datei verwendet und die Literalzeichenfolgen einfach umschließt, kann für viele Entwickler den Aufwand beim Lokalisieren einer App reduzieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-369">For many developers the new workflow of not having a default language *.resx* file and simply wrapping the string literals can reduce the overhead of localizing an app.</span></span> <span data-ttu-id="0987a-370">Andere Entwickler bevorzugen weiterhin den herkömmlichen Workflow, weil es dabei einfacher ist, mit längeren Literalzeichenfolgen zu arbeiten und lokalisierte Zeichenfolgen zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-370">Other developers will prefer the traditional work flow as it can make it easier to work with longer string literals and make it easier to update localized strings.</span></span>

<span data-ttu-id="0987a-371">Verwenden Sie die Implementierung von `IHtmlLocalizer<T>` für Ressourcen, die HTML enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-371">Use the `IHtmlLocalizer<T>` implementation for resources that contain HTML.</span></span> <span data-ttu-id="0987a-372">Mit `IHtmlLocalizer` werden Argumente HTML-codiert, die in der Ressourcenzeichenfolge formatiert sind. Die Ressourcenzeichenfolgen werden jedoch nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-372">`IHtmlLocalizer` HTML encodes arguments that are formatted in the resource string, but doesn't HTML encode the resource string itself.</span></span> <span data-ttu-id="0987a-373">Im folgenden Beispiel wird hervorgehoben, dass nur der Wert des Parameters `name` HTML-codiert ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-373">In the sample highlighted below, only the value of `name` parameter is HTML encoded.</span></span>

[!code-csharp[](~/fundamentals/localization/sample/3.x/Localization/Controllers/BookController.cs?highlight=3,5,20&start=1&end=24)]

> [!NOTE]
> <span data-ttu-id="0987a-374">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-374">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-375">Auf der untersten Ebene können Sie `IStringLocalizerFactory` aus [Dependency Injection](dependency-injection.md) abrufen:</span><span class="sxs-lookup"><span data-stu-id="0987a-375">At the lowest level, you can get `IStringLocalizerFactory` out of [Dependency Injection](dependency-injection.md):</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/TestController.cs?start=9&end=26&highlight=7-13)]

<span data-ttu-id="0987a-376">Im obigen Codebeispiel werden beide factory.Create-Methoden veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-376">The code above demonstrates each of the two factory create methods.</span></span>

<span data-ttu-id="0987a-377">Sie können Ihre lokalisierten Zeichenfolgen in Steuerelemente und Bereiche aufteilen oder nur einen Container verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-377">You can partition your localized strings by controller, area, or have just one container.</span></span> <span data-ttu-id="0987a-378">In der Beispiel-App wird eine Dummyklasse namens `SharedResource` für freigegebene Ressourcen verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-378">In the sample app, a dummy class named `SharedResource` is used for shared resources.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Resources/SharedResource.cs)]

<span data-ttu-id="0987a-379">Einige Entwickler verwenden die Klasse `Startup`, damit globale oder freigegebene Zeichenfolgen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-379">Some developers use the `Startup` class to contain global or shared strings.</span></span> <span data-ttu-id="0987a-380">Im folgenden Beispiel werden die Lokalisierer `InfoController` und `SharedResource` verwendet:</span><span class="sxs-lookup"><span data-stu-id="0987a-380">In the sample below, the `InfoController` and the `SharedResource` localizers are used:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/InfoController.cs?range=9-26)]

## <a name="view-localization"></a><span data-ttu-id="0987a-381">Lokalisierung der Ansicht</span><span class="sxs-lookup"><span data-stu-id="0987a-381">View localization</span></span>

<span data-ttu-id="0987a-382">Der Dienst `IViewLocalizer` gibt lokalisierte Zeichenfolgen für eine [Ansicht](xref:mvc/views/overview) an.</span><span class="sxs-lookup"><span data-stu-id="0987a-382">The `IViewLocalizer` service provides localized strings for a [view](xref:mvc/views/overview).</span></span> <span data-ttu-id="0987a-383">Die Klasse `ViewLocalizer` implementiert diese Schnittstelle und sucht den Speicherort der Ressource über den Dateipfad der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-383">The `ViewLocalizer` class implements this interface and finds the resource location from the view file path.</span></span> <span data-ttu-id="0987a-384">Im folgenden Codebeispiel wird die Verwendung der Standardimplementierung von `IViewLocalizer` veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="0987a-384">The following code shows how to use the default implementation of `IViewLocalizer`:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Home/About.cshtml)]

<span data-ttu-id="0987a-385">Die Standardimplementierung von `IViewLocalizer` sucht die Ressourcendatei über den Dateinamen der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-385">The default implementation of `IViewLocalizer` finds the resource file based on the view's file name.</span></span> <span data-ttu-id="0987a-386">Es gibt keine Option zur Nutzung einer globalen freigegebenen Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-386">There's no option to use a global shared resource file.</span></span> <span data-ttu-id="0987a-387">`ViewLocalizer` implementiert den Lokalisierer mithilfe von `IHtmlLocalizer`, damit Razor die lokalisierte Zeichenfolge nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-387">`ViewLocalizer` implements the localizer using `IHtmlLocalizer`, so Razor doesn't HTML encode the localized string.</span></span> <span data-ttu-id="0987a-388">Sie können Ressourcenzeichenfolgen parametrisieren, und `IViewLocalizer` codiert die Parameter mit HTML, aber nicht die Ressourcenzeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-388">You can parameterize resource strings and `IViewLocalizer` will HTML encode the parameters, but not the resource string.</span></span> <span data-ttu-id="0987a-389">Sehen Sie sich das folgende Razor-Markup an:</span><span class="sxs-lookup"><span data-stu-id="0987a-389">Consider the following Razor markup:</span></span>

```cshtml
@Localizer["<i>Hello</i> <b>{0}!</b>", UserManager.GetUserName(User)]
```

<span data-ttu-id="0987a-390">Eine französische Ressourcendatei könnte Folgendes beinhalten:</span><span class="sxs-lookup"><span data-stu-id="0987a-390">A French resource file could contain the following:</span></span>

| <span data-ttu-id="0987a-391">Key</span><span class="sxs-lookup"><span data-stu-id="0987a-391">Key</span></span> | <span data-ttu-id="0987a-392">Wert</span><span class="sxs-lookup"><span data-stu-id="0987a-392">Value</span></span> |
| --- | ----- |
| `<i>Hello</i> <b>{0}!</b>` | `<i>Bonjour</i> <b>{0} !</b>` |

<span data-ttu-id="0987a-393">Die gerenderte Ansicht würde das HTML-Markup der Ressourcendatei enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-393">The rendered view would contain the HTML markup from the resource file.</span></span>

> [!NOTE]
> <span data-ttu-id="0987a-394">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-394">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-395">Fügen Sie `IHtmlLocalizer<T>` ein, um eine freigegebene Ressourcendatei in einer Ansicht zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="0987a-395">To use a shared resource file in a view, inject `IHtmlLocalizer<T>`:</span></span>

[!code-cshtml[](~/fundamentals/localization/sample/3.x/Localization/Views/Test/About.cshtml?highlight=5,12)]

## <a name="dataannotations-localization"></a><span data-ttu-id="0987a-396">Lokalisierung von DataAnnotations</span><span class="sxs-lookup"><span data-stu-id="0987a-396">DataAnnotations localization</span></span>

<span data-ttu-id="0987a-397">Fehlermeldungen über DataAnnotations werden mit `IStringLocalizer<T>` lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-397">DataAnnotations error messages are localized with `IStringLocalizer<T>`.</span></span> <span data-ttu-id="0987a-398">Durch Verwendung der Option `ResourcesPath = "Resources"` können die Fehlermeldungen in `RegisterViewModel` unter einem der folgenden Pfade gespeichert werden:</span><span class="sxs-lookup"><span data-stu-id="0987a-398">Using the option `ResourcesPath = "Resources"`, the error messages in `RegisterViewModel` can be stored in either of the following paths:</span></span>

* <span data-ttu-id="0987a-399">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-399">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span></span>
* <span data-ttu-id="0987a-400">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-400">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span></span>

[!code-csharp[](localization/sample/3.x/Localization/ViewModels/Account/RegisterViewModel.cs?start=9&end=26)]

<span data-ttu-id="0987a-401">In ASP.NET Core MVC 1.1.0 und höher werden Attribute lokalisiert, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-401">In ASP.NET Core MVC 1.1.0 and higher, non-validation attributes are localized.</span></span> <span data-ttu-id="0987a-402">ASP.NET Core MVC 1.0 sucht **nicht** nach lokalisierten Zeichenfolgen für Attribute, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-402">ASP.NET Core MVC 1.0 does **not** look up localized strings for non-validation attributes.</span></span>

<a name="one-resource-string-multiple-classes"></a>

### <a name="using-one-resource-string-for-multiple-classes"></a><span data-ttu-id="0987a-403">Verwenden einer Ressourcenzeichenfolge für mehrere Klassen</span><span class="sxs-lookup"><span data-stu-id="0987a-403">Using one resource string for multiple classes</span></span>

<span data-ttu-id="0987a-404">Das folgende Codebeispiel zeigt, wie eine Ressourcenzeichenfolge für Validierungsattribute mit mehreren Klassen verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="0987a-404">The following code shows how to use one resource string for validation attributes with multiple classes:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddDataAnnotationsLocalization(options => {
            options.DataAnnotationLocalizerProvider = (type, factory) =>
                factory.Create(typeof(SharedResource));
        });
}
```

<span data-ttu-id="0987a-405">Im obigen Codebeispiel bezeichnet `SharedResource` die Klasse, die der RESX-Datei entspricht, in der Ihre Validierungsmeldungen gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-405">In the preceding code, `SharedResource` is the class corresponding to the resx where your validation messages are stored.</span></span> <span data-ttu-id="0987a-406">DataAnnotations verwendet bei diesem Ansatz nur `SharedResource` anstelle der Ressource für jede Klasse.</span><span class="sxs-lookup"><span data-stu-id="0987a-406">With this approach, DataAnnotations will only use `SharedResource`, rather than the resource for each class.</span></span>

## <a name="provide-localized-resources-for-the-languages-and-cultures-you-support"></a><span data-ttu-id="0987a-407">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-407">Provide localized resources for the languages and cultures you support</span></span>

### <a name="supportedcultures-and-supporteduicultures"></a><span data-ttu-id="0987a-408">SupportedCultures und SupportedUICultures</span><span class="sxs-lookup"><span data-stu-id="0987a-408">SupportedCultures and SupportedUICultures</span></span>

<span data-ttu-id="0987a-409">ASP.NET Core ermöglicht Ihnen, zwei Werte für die Kultur anzugeben: `SupportedCultures` und `SupportedUICultures`.</span><span class="sxs-lookup"><span data-stu-id="0987a-409">ASP.NET Core allows you to specify two culture values, `SupportedCultures` and `SupportedUICultures`.</span></span> <span data-ttu-id="0987a-410">Das Objekt [CultureInfo](/dotnet/api/system.globalization.cultureinfo) für `SupportedCultures` bestimmt die Ergebnisse von kulturabhängigen Funktionen, wie z.B. das Format von Datumswerten, Uhrzeiten, Zahlen und Währungen.</span><span class="sxs-lookup"><span data-stu-id="0987a-410">The [CultureInfo](/dotnet/api/system.globalization.cultureinfo) object for `SupportedCultures` determines the results of culture-dependent functions, such as date, time, number, and currency formatting.</span></span> <span data-ttu-id="0987a-411">`SupportedCultures` bestimmt auch die Sortierreihenfolge von Texten, Groß-/Kleinschreibungskonventionen und Zeichenfolgenvergleichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-411">`SupportedCultures` also determines the sorting order of text, casing conventions, and string comparisons.</span></span> <span data-ttu-id="0987a-412">Weitere Informationen darüber, wie der Server die Kultur abruft, finden Sie unter [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture).</span><span class="sxs-lookup"><span data-stu-id="0987a-412">See [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) for more info on how the server gets the Culture.</span></span> <span data-ttu-id="0987a-413">`SupportedUICultures` bestimmt, welche übersetzten Zeichenfolgen (aus den *RESX*-Dateien) von [ResourceManager](/dotnet/api/system.resources.resourcemanager) abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-413">The `SupportedUICultures` determines which translated strings (from *.resx* files) are looked up by the [ResourceManager](/dotnet/api/system.resources.resourcemanager).</span></span> <span data-ttu-id="0987a-414">Die `ResourceManager`-Klasse sucht nach kulturspezifischen Zeichenfolgen, die durch `CurrentUICulture` bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-414">The `ResourceManager` simply looks up culture-specific strings that's determined by `CurrentUICulture`.</span></span> <span data-ttu-id="0987a-415">Jeder Thread in .NET enthält die Objekte `CurrentCulture` und `CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-415">Every thread in .NET has `CurrentCulture` and `CurrentUICulture` objects.</span></span> <span data-ttu-id="0987a-416">ASP.NET Core überprüft diese Werte beim Rendern von kulturspezifischen Funktionen.</span><span class="sxs-lookup"><span data-stu-id="0987a-416">ASP.NET Core inspects these values when rendering culture-dependent functions.</span></span> <span data-ttu-id="0987a-417">Wenn die Kultur des aktuellen Threads zum Beispiel auf „en-US“ (Englisch, USA) festgelegt ist, gibt `DateTime.Now.ToLongDateString()` „Thursday, February 18, 2016“ aus, wenn `CurrentCulture` jedoch auf „es-ES“ (Spanisch, Spanien) festgelegt ist, wird „jueves, 18 de febrero de 2016“ ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-417">For example, if the current thread's culture is set to "en-US" (English, United States), `DateTime.Now.ToLongDateString()` displays "Thursday, February 18, 2016", but if `CurrentCulture` is set to "es-ES" (Spanish, Spain) the output will be "jueves, 18 de febrero de 2016".</span></span>

## <a name="resource-files"></a><span data-ttu-id="0987a-418">Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-418">Resource files</span></span>

<span data-ttu-id="0987a-419">Eine Ressourcendatei ist ein nützlicher Mechanismus für das Trennen von lokalisierbaren Zeichenfolgen von Code.</span><span class="sxs-lookup"><span data-stu-id="0987a-419">A resource file is a useful mechanism for separating localizable strings from code.</span></span> <span data-ttu-id="0987a-420">Übersetzte Zeichenfolgen für die Sprache, die nicht die Standardsprache darstellt, werden in *RESX*-Ressourcendateien isoliert.</span><span class="sxs-lookup"><span data-stu-id="0987a-420">Translated strings for the non-default language are isolated in *.resx* resource files.</span></span> <span data-ttu-id="0987a-421">Möglicherweise möchten Sie z.B. eine spanische Ressourcendatei namens *Welcome.es.resx* erstellen, die übersetzte Zeichenfolgen enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-421">For example, you might want to create Spanish resource file named *Welcome.es.resx* containing translated strings.</span></span> <span data-ttu-id="0987a-422">„es“ ist der Sprachcode für Spanisch.</span><span class="sxs-lookup"><span data-stu-id="0987a-422">"es" is the language code for Spanish.</span></span> <span data-ttu-id="0987a-423">Erstellen dieser Ressourcendatei in Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="0987a-423">To create this resource file in Visual Studio:</span></span>

1. <span data-ttu-id="0987a-424">Führen Sie im **Projektmappen-Explorer** einen Rechtsklick auf den Ordner aus, der die Ressourcendatei enthalten soll, und klicken Sie dann auf **Hinzufügen** > **Neues Element**.</span><span class="sxs-lookup"><span data-stu-id="0987a-424">In **Solution Explorer**, right click on the folder which will contain the resource file > **Add** > **New Item**.</span></span>

   ![Geschachteltes Kontextmenü: Im Projektmappen-Explorer ist ein Kontextmenü für Ressourcen geöffnet.](localization/_static/newi.png)

1. <span data-ttu-id="0987a-427">Geben Sie „resource“ (Ressource) im Feld **Search installed templates** (Installierte Vorlagen durchsuchen) ein, und benennen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="0987a-427">In the **Search installed templates** box, enter "resource" and name the file.</span></span>

   ![Dialogfeld „Neues Element hinzufügen“](localization/_static/res.png)

1. <span data-ttu-id="0987a-429">Geben Sie den Schlüsselwert (native Zeichenfolge) in der Spalte **Name** und die übersetzte Zeichenfolge in der Spalte **Wert** ein.</span><span class="sxs-lookup"><span data-stu-id="0987a-429">Enter the key value (native string) in the **Name** column and the translated string in the **Value** column.</span></span>

   ![Welcome.es.resx-Datei (die Willkommensressourcendatei für Spanisch) mit dem Wort „Hello“ in der Spalte „Name“ und dem Wort „Hola“ (Hallo in Spanisch) in der Spalte „Wert“](localization/_static/hola.png)

   <span data-ttu-id="0987a-431">Die Datei *Welcome.es.resx* wird in Visual Studio angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0987a-431">Visual Studio shows the *Welcome.es.resx* file.</span></span>

   ![Die Ressourcendatei „Welcome Spanish (es)“ im Projektmappen-Explorer](localization/_static/se.png)

## <a name="resource-file-naming"></a><span data-ttu-id="0987a-433">Benennung von Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-433">Resource file naming</span></span>

<span data-ttu-id="0987a-434">Ressourcen werden nach dem vollständigen Typnamen ihrer Klasse, abzüglich des Assemblynamens, benannt.</span><span class="sxs-lookup"><span data-stu-id="0987a-434">Resources are named for the full type name of their class minus the assembly name.</span></span> <span data-ttu-id="0987a-435">Eine französische Ressourcendatei, deren Hauptassembly für die Klasse `LocalizationWebsite.Web.Startup``LocalizationWebsite.Web.dll` ist, würde zum Beispiel den Namen *Startup.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-435">For example, a French resource in a project whose main assembly is `LocalizationWebsite.Web.dll` for the class `LocalizationWebsite.Web.Startup` would be named *Startup.fr.resx*.</span></span> <span data-ttu-id="0987a-436">Eine Ressource für die Klasse `LocalizationWebsite.Web.Controllers.HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-436">A resource for the class `LocalizationWebsite.Web.Controllers.HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-437">Wenn der Namespace Ihrer Zielklasse nicht dem Assemblynamen entspricht, benötigen Sie den vollständigen Typnamen.</span><span class="sxs-lookup"><span data-stu-id="0987a-437">If your targeted class's namespace isn't the same as the assembly name you will need the full type name.</span></span> <span data-ttu-id="0987a-438">Eine Ressource für den Typ `ExtraNamespace.Tools` im Beispielprojekt würde z.B. den Namen *ExtraNamespace.Tools.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-438">For example, in the sample project a resource for the type `ExtraNamespace.Tools` would be named *ExtraNamespace.Tools.fr.resx*.</span></span>

<span data-ttu-id="0987a-439">Im Beispielprojekt legt die Methode `ConfigureServices` die `ResourcesPath`-Eigenschaft auf „Resources“ fest. Der relative Projektpfad für den Controller „Home“ der französischen Ressourcendatei ist also *Resources/Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-439">In the sample project, the `ConfigureServices` method sets the `ResourcesPath` to "Resources", so the project relative path for the home controller's French resource file is *Resources/Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-440">Alternativ können Sie Ordner zum Organisieren von Ressourcendateien verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-440">Alternatively, you can use folders to organize resource files.</span></span> <span data-ttu-id="0987a-441">Für den Controller „Home“ wäre der Pfad *Resources/Controllers/HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-441">For the home controller, the path would be *Resources/Controllers/HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-442">Wenn Sie die Option `ResourcesPath` nicht verwenden, würde sich die *RESX*-Datei im Basisprojektverzeichnis befinden.</span><span class="sxs-lookup"><span data-stu-id="0987a-442">If you don't use the `ResourcesPath` option, the *.resx* file would go in the project base directory.</span></span> <span data-ttu-id="0987a-443">Die Ressourcendatei für `HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-443">The resource file for `HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-444">Ob Sie die Benennungskonventionen mit Punkten oder wie Pfade verwenden, hängt davon ab, wie Sie Ihre Ressourcendateien organisieren möchten.</span><span class="sxs-lookup"><span data-stu-id="0987a-444">The choice of using the dot or path naming convention depends on how you want to organize your resource files.</span></span>

| <span data-ttu-id="0987a-445">Ressourcenname</span><span class="sxs-lookup"><span data-stu-id="0987a-445">Resource name</span></span> | <span data-ttu-id="0987a-446">Punkt- oder Pfadbenennung</span><span class="sxs-lookup"><span data-stu-id="0987a-446">Dot or path naming</span></span> |
| ------------   | ------------- |
| <span data-ttu-id="0987a-447">Resources/Controllers.HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-447">Resources/Controllers.HomeController.fr.resx</span></span> | <span data-ttu-id="0987a-448">Punkt</span><span class="sxs-lookup"><span data-stu-id="0987a-448">Dot</span></span>  |
| <span data-ttu-id="0987a-449">Resources/Controllers/HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-449">Resources/Controllers/HomeController.fr.resx</span></span>  | <span data-ttu-id="0987a-450">Pfad</span><span class="sxs-lookup"><span data-stu-id="0987a-450">Path</span></span> |

<span data-ttu-id="0987a-451">Ressourcendateien, die `@inject IViewLocalizer` in Razor-Ansichten verwenden, folgen einem ähnlichen Muster.</span><span class="sxs-lookup"><span data-stu-id="0987a-451">Resource files using `@inject IViewLocalizer` in Razor views follow a similar pattern.</span></span> <span data-ttu-id="0987a-452">Die Ressourcendatei für eine Ansicht kann mit der Punkt- oder Pfadbenennung benannt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-452">The resource file for a view can be named using either dot naming or path naming.</span></span> <span data-ttu-id="0987a-453">Ressourcendateien der Razor-Ansicht imitieren den Pfad ihrer zugehörigen Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-453">Razor view resource files mimic the path of their associated view file.</span></span> <span data-ttu-id="0987a-454">Wenn `ResourcesPath` zum Beispiel auf „Resources“ festgelegt wird, ist die französische Ressourcendatei, die der Ansicht *Views/Home/About.cshtml* zugeordnet ist, eine der folgenden zwei:</span><span class="sxs-lookup"><span data-stu-id="0987a-454">Assuming we set the `ResourcesPath` to "Resources", the French resource file associated with the *Views/Home/About.cshtml* view could be either of the following:</span></span>

* <span data-ttu-id="0987a-455">Resources/Views/Home/About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-455">Resources/Views/Home/About.fr.resx</span></span>

* <span data-ttu-id="0987a-456">Resources/Views.Home.About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-456">Resources/Views.Home.About.fr.resx</span></span>

<span data-ttu-id="0987a-457">Wenn Sie nicht die Option `ResourcesPath` verwenden, befindet sich die *RESX*-Datei für eine Ansicht im selben Ordner wie die Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-457">If you don't use the `ResourcesPath` option, the *.resx* file for a view would be located in the same folder as the view.</span></span>

### <a name="rootnamespaceattribute"></a><span data-ttu-id="0987a-458">RootNamespaceAttribute</span><span class="sxs-lookup"><span data-stu-id="0987a-458">RootNamespaceAttribute</span></span> 

<span data-ttu-id="0987a-459">Das [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1)-Attribut stellt den Stammnamespace einer Assembly bereit, wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="0987a-459">The [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1) attribute provides the root namespace of an assembly when the root namespace of an assembly is different than the assembly name.</span></span> 

> [!WARNING]
> <span data-ttu-id="0987a-460">Dies kann vorkommen, wenn der Name eines Projekts kein gültiger .NET-Bezeichner ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-460">This can occur when a project's name is not a valid .NET identifier.</span></span> <span data-ttu-id="0987a-461">Beispielsweise verwendet `my-project-name.csproj` den Stammnamespace `my_project_name` und den Assemblynamen `my-project-name`, der zu diesem Fehler führt.</span><span class="sxs-lookup"><span data-stu-id="0987a-461">For instance `my-project-name.csproj` will use the root namespace `my_project_name` and the assembly name `my-project-name` leading to this error.</span></span> 

<span data-ttu-id="0987a-462">Wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet, dann geschieht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="0987a-462">If the root namespace of an assembly is different than the assembly name:</span></span>

* <span data-ttu-id="0987a-463">Die Lokalisierung funktioniert standardmäßig nicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-463">Localization does not work by default.</span></span>
* <span data-ttu-id="0987a-464">Die Lokalisierung schlägt aufgrund der Art und Weise, wie nach Ressourcen innerhalb der Assembly gesucht wird, fehl.</span><span class="sxs-lookup"><span data-stu-id="0987a-464">Localization fails due to the way resources are searched for within the assembly.</span></span> <span data-ttu-id="0987a-465">`RootNamespace` ist ein Buildzeitwert, der für den ausgeführten Prozess nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-465">`RootNamespace` is a build-time value which is not available to the executing process.</span></span> 

<span data-ttu-id="0987a-466">Wenn sich `RootNamespace` vom `AssemblyName` unterscheidet, schließen Sie Folgendes in *AssemblyInfo.cs* ein (mit den durch die aktuellen Werte ersetzten Parameterwerten):</span><span class="sxs-lookup"><span data-stu-id="0987a-466">If the `RootNamespace` is different from the `AssemblyName`, include the following in *AssemblyInfo.cs* (with parameter values replaced with the actual values):</span></span>

```csharp
using System.Reflection;
using Microsoft.Extensions.Localization;

[assembly: ResourceLocation("Resource Folder Name")]
[assembly: RootNamespace("App Root Namespace")]
```

<span data-ttu-id="0987a-467">Der vorangehende Code ermöglicht die erfolgreiche Auflösung von RESX-Dateien.</span><span class="sxs-lookup"><span data-stu-id="0987a-467">The preceding code enables the successful resolution of resx files.</span></span>

## <a name="culture-fallback-behavior"></a><span data-ttu-id="0987a-468">Kulturfallbackverhalten</span><span class="sxs-lookup"><span data-stu-id="0987a-468">Culture fallback behavior</span></span>

<span data-ttu-id="0987a-469">Bei der Suche nach einer Ressource initiiert die Lokalisierung „Kulturfallbackverhalten“.</span><span class="sxs-lookup"><span data-stu-id="0987a-469">When searching for a resource, localization engages in "culture fallback".</span></span> <span data-ttu-id="0987a-470">Wenn die angeforderte Kultur nicht gefunden wird, setzt sie diese Kultur auf die übergeordnete Kultur zurück.</span><span class="sxs-lookup"><span data-stu-id="0987a-470">Starting from the requested culture, if not found, it reverts to the parent culture of that culture.</span></span> <span data-ttu-id="0987a-471">Die Eigenschaft [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) stellt übrigens die übergeordnete Kultur dar.</span><span class="sxs-lookup"><span data-stu-id="0987a-471">As an aside, the [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) property represents the parent culture.</span></span> <span data-ttu-id="0987a-472">Das bedeutet in der Regel (aber nicht immer), dass der nationale Bezeichner aus der ISO entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-472">This usually (but not always) means removing the national signifier from the ISO.</span></span> <span data-ttu-id="0987a-473">Beispielsweise ist der in Mexiko gesprochene spanische Sprache „es-MX“.</span><span class="sxs-lookup"><span data-stu-id="0987a-473">For example, the dialect of Spanish spoken in Mexico is "es-MX".</span></span> <span data-ttu-id="0987a-474">„es“&mdash;Spanisch ist das übergeordnete Element und bezieht sich nicht auf ein einzelnes Land.</span><span class="sxs-lookup"><span data-stu-id="0987a-474">It has the parent "es"&mdash;Spanish non-specific to any country.</span></span>

<span data-ttu-id="0987a-475">Nehmen Sie an, dass Ihre Website eine Anforderung für eine Willkommensressource mit der Kultur „fr-CA“ erhält.</span><span class="sxs-lookup"><span data-stu-id="0987a-475">Imagine your site receives a request for a "Welcome" resource using culture "fr-CA".</span></span> <span data-ttu-id="0987a-476">Das Lokalisierungssystem sucht der Reihenfolge nach nach der folgenden Ressource und wählt die erste Übereinstimmung aus:</span><span class="sxs-lookup"><span data-stu-id="0987a-476">The localization system looks for the following resources, in order, and selects the first match:</span></span>

* <span data-ttu-id="0987a-477">*Welcome.fr-CA.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-477">*Welcome.fr-CA.resx*</span></span>
* <span data-ttu-id="0987a-478">*Welcome.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-478">*Welcome.fr.resx*</span></span>
* <span data-ttu-id="0987a-479">*Welcome.resx* (wenn `NeutralResourcesLanguage` „fr-CA“ ist)</span><span class="sxs-lookup"><span data-stu-id="0987a-479">*Welcome.resx* (if the `NeutralResourcesLanguage` is "fr-CA")</span></span>

<span data-ttu-id="0987a-480">Wenn Sie beispielsweise den Kulturkennzeichner „.fr“ entfernen und die Kultur auf „Französisch“ festgelegt ist, wird die Standardressourcendatei gelesen, und Zeichenfolgen werden lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-480">As an example, if you remove the ".fr" culture designator and you have the culture set to French, the default resource file is read and strings are localized.</span></span> <span data-ttu-id="0987a-481">Der Ressourcen-Manager kennzeichnet eine Standard- oder Fallbackressource, wenn keine Entsprechung für die angeforderte Kultur gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-481">The Resource manager designates a default or fallback resource for when nothing meets your requested culture.</span></span> <span data-ttu-id="0987a-482">Wenn Sie nur den Schlüssel zurückgeben möchten, während eine Ressource für die angefragte Kultur fehlt, darf keine Standardressourcendatei festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="0987a-482">If you want to just return the key when missing a resource for the requested culture you must not have a default resource file.</span></span>

### <a name="generate-resource-files-with-visual-studio"></a><span data-ttu-id="0987a-483">Erstellen von Ressourcendateien mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0987a-483">Generate resource files with Visual Studio</span></span>

<span data-ttu-id="0987a-484">Wenn Sie eine Ressourcendatei in Visual Studio erstellen, ohne eine Kultur im Dateinamen (z.B. *Welcome.resx*) festzulegen, erstellt Visual Studio eine C#-Klasse mit einer Eigenschaft für jede Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="0987a-484">If you create a resource file in Visual Studio without a culture in the file name (for example, *Welcome.resx*), Visual Studio will create a C# class with a property for each string.</span></span> <span data-ttu-id="0987a-485">Das ist in der Regel nicht das, was Sie mit ASP.NET Core erreichen wollen.</span><span class="sxs-lookup"><span data-stu-id="0987a-485">That's usually not what you want with ASP.NET Core.</span></span> <span data-ttu-id="0987a-486">In der Regel gibt es keine Standard-*RESX*-Ressourcendatei (eine *RESX*-Datei ohne den Kulturnamen).</span><span class="sxs-lookup"><span data-stu-id="0987a-486">You typically don't have a default *.resx* resource file (a *.resx* file without the culture name).</span></span> <span data-ttu-id="0987a-487">Es wird empfohlen, dass Sie eine *RESX*-Datei mit einem Kulturnamen erstellen (z.B. *Welcome.fr.resx*).</span><span class="sxs-lookup"><span data-stu-id="0987a-487">We suggest you create the *.resx* file with a culture name (for example *Welcome.fr.resx*).</span></span> <span data-ttu-id="0987a-488">Wenn Sie eine *RESX*-Datei mit einem Kulturnamen erstellen, erstellt Visual Studio keine Klassendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-488">When you create a *.resx* file with a culture name, Visual Studio won't generate the class file.</span></span>

### <a name="add-other-cultures"></a><span data-ttu-id="0987a-489">Hinzufügen von anderen Kulturen</span><span class="sxs-lookup"><span data-stu-id="0987a-489">Add other cultures</span></span>

<span data-ttu-id="0987a-490">Jede Kombination von Sprache und Kultur (mit Ausnahme der Standardsprache) erfordert eine eindeutige Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-490">Each language and culture combination (other than the default language) requires a unique resource file.</span></span> <span data-ttu-id="0987a-491">Sie erstellen Ressourcendateien für verschiedene Kulturen und Gebietsschemas, indem Sie neue Ressourcendateien erstellen, in denen ISO-Sprachcodes im Dateinamen enthalten sind (z.B. **en-us** **fr-ca**, und **en-gb**).</span><span class="sxs-lookup"><span data-stu-id="0987a-491">You create resource files for different cultures and locales by creating new resource files in which the ISO language codes are part of the file name (for example, **en-us**, **fr-ca**, and **en-gb**).</span></span> <span data-ttu-id="0987a-492">Diese ISO-Codes werden zwischen dem Dateinamen und der Erweiterung *.resx* platziert, z.B. *Welcome.es-MX.resx* (Spanisch/Mexiko).</span><span class="sxs-lookup"><span data-stu-id="0987a-492">These ISO codes are placed between the file name and the *.resx* file extension, as in *Welcome.es-MX.resx* (Spanish/Mexico).</span></span>

## <a name="implement-a-strategy-to-select-the-languageculture-for-each-request"></a><span data-ttu-id="0987a-493">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-493">Implement a strategy to select the language/culture for each request</span></span>

### <a name="configure-localization"></a><span data-ttu-id="0987a-494">Konfigurieren der Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-494">Configure localization</span></span>

<span data-ttu-id="0987a-495">Die Lokalisierung wird über die Methode `Startup.ConfigureServices` konfiguriert:</span><span class="sxs-lookup"><span data-stu-id="0987a-495">Localization is configured in the `Startup.ConfigureServices` method:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet1)]

* <span data-ttu-id="0987a-496">`AddLocalization` fügt die Lokalisierungsdienste dem Dienstcontainer hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-496">`AddLocalization` adds the localization services to the services container.</span></span> <span data-ttu-id="0987a-497">Im obigen Codebeispiel wird der Ressourcenpfad auf „Resources“ festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-497">The code above also sets the resources path to "Resources".</span></span>

* <span data-ttu-id="0987a-498">`AddViewLocalization` fügt Unterstützung für lokalisierte Ansichtsdateien hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-498">`AddViewLocalization` adds support for localized view files.</span></span> <span data-ttu-id="0987a-499">In diesem Beispiel basiert die Lokalisierung der Ansicht auf dem Suffix der Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-499">In this sample view localization is based on the view file suffix.</span></span> <span data-ttu-id="0987a-500">Zum Beispiel „fr“ in der Datei *Index.fr.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0987a-500">For example "fr" in the *Index.fr.cshtml* file.</span></span>

* <span data-ttu-id="0987a-501">`AddDataAnnotationsLocalization` fügt Unterstützung für lokalisierte `DataAnnotations`-Validierungsmeldungen durch Abstraktionen von `IStringLocalizer` hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-501">`AddDataAnnotationsLocalization` adds support for localized `DataAnnotations` validation messages through `IStringLocalizer` abstractions.</span></span>

### <a name="localization-middleware"></a><span data-ttu-id="0987a-502">Lokalisierungsmiddleware</span><span class="sxs-lookup"><span data-stu-id="0987a-502">Localization middleware</span></span>

<span data-ttu-id="0987a-503">Die aktuell angefragte Kultur wird in der [Middleware](xref:fundamentals/middleware/index) für die Lokalisierung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-503">The current culture on a request is set in the localization [Middleware](xref:fundamentals/middleware/index).</span></span> <span data-ttu-id="0987a-504">Die Middleware für die Lokalisierung wird in der `Startup.Configure`-Methode aktiviert.</span><span class="sxs-lookup"><span data-stu-id="0987a-504">The localization middleware is enabled in the `Startup.Configure` method.</span></span> <span data-ttu-id="0987a-505">Die Lokalisierungsmiddleware muss vor Middleware konfiguriert werden, die möglicherweise die Anforderungskultur prüft (z.B. `app.UseMvcWithDefaultRoute()`).</span><span class="sxs-lookup"><span data-stu-id="0987a-505">The localization middleware must be configured before any middleware which might check the request culture (for example, `app.UseMvcWithDefaultRoute()`).</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet2)]

[!INCLUDE[about the series](~/includes/code-comments-loc.md)]

<span data-ttu-id="0987a-506">`UseRequestLocalization` initialisiert ein `RequestLocalizationOptions`-Objekt.</span><span class="sxs-lookup"><span data-stu-id="0987a-506">`UseRequestLocalization` initializes a `RequestLocalizationOptions` object.</span></span> <span data-ttu-id="0987a-507">Bei jeder Anforderung wird die Liste von `RequestCultureProvider` in `RequestLocalizationOptions` aufgelistet und der erste Anbieter, der erfolgreich die Anforderungskultur bestimmen kann, wird verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-507">On every request the list of `RequestCultureProvider` in the `RequestLocalizationOptions` is enumerated and the first provider that can successfully determine the request culture is used.</span></span> <span data-ttu-id="0987a-508">Die Standardanbieter stammen aus der Klasse `RequestLocalizationOptions`:</span><span class="sxs-lookup"><span data-stu-id="0987a-508">The default providers come from the `RequestLocalizationOptions` class:</span></span>

1. `QueryStringRequestCultureProvider`
1. `CookieRequestCultureProvider`
1. `AcceptLanguageHeaderRequestCultureProvider`

<span data-ttu-id="0987a-509">Die Reihenfolge der Standardliste fängt bei den spezifischsten Anbietern an und endet mit den allgemeinsten.</span><span class="sxs-lookup"><span data-stu-id="0987a-509">The default list goes from most specific to least specific.</span></span> <span data-ttu-id="0987a-510">Im Verlauf des Artikels erfahren Sie, wie Sie die Reihenfolge ändern und einen benutzerdefinierten Kulturanbieter hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-510">Later in the article we'll see how you can change the order and even add a custom culture provider.</span></span> <span data-ttu-id="0987a-511">Wenn kein Anbieter die Anforderungskultur bestimmen kann, wird `DefaultRequestCulture` verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-511">If none of the providers can determine the request culture, the `DefaultRequestCulture` is used.</span></span>

### <a name="querystringrequestcultureprovider"></a><span data-ttu-id="0987a-512">QueryStringRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-512">QueryStringRequestCultureProvider</span></span>

<span data-ttu-id="0987a-513">Einige Apps verwenden eine Abfragezeichenfolge, um die <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1> festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0987a-513">Some apps will use a query string to set the <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1>.</span></span> <span data-ttu-id="0987a-514">Bei Apps, die die Ansätze cookie oder Accept-Language-Header verwenden, ist das Hinzufügen einer Abfragezeichenfolge zur URL für das Debuggen und Testen von Code nützlich.</span><span class="sxs-lookup"><span data-stu-id="0987a-514">For apps that use the cookie or Accept-Language header approach, adding a query string to the URL is useful for debugging and testing code.</span></span> <span data-ttu-id="0987a-515">Standardmäßig ist `QueryStringRequestCultureProvider` als erster Lokalisierungsanbieter in der Liste `RequestCultureProvider` registriert.</span><span class="sxs-lookup"><span data-stu-id="0987a-515">By default, the `QueryStringRequestCultureProvider` is registered as the first localization provider in the `RequestCultureProvider` list.</span></span> <span data-ttu-id="0987a-516">Sie übergeben die Abfragezeichenfolge-Parameter `culture` und `ui-culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-516">You pass the query string parameters `culture` and `ui-culture`.</span></span> <span data-ttu-id="0987a-517">Im folgenden Beispiel ist die spezifische Kultur (Sprache und Region) auf Spanisch/Mexiko festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-517">The following example sets the specific culture (language and region) to Spanish/Mexico:</span></span>

```
http://localhost:5000/?culture=es-MX&ui-culture=es-MX
```

<span data-ttu-id="0987a-518">Wenn Sie nur eine der beiden Abfragezeichenfolgen (`culture` oder `ui-culture`) übergeben, setzt der Anbieter für Abfragezeichenfolgen beide Werte entsprechend der übergebenen Abfrage fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-518">If you only pass in one of the two (`culture` or `ui-culture`), the query string provider will set both values using the one you passed in.</span></span> <span data-ttu-id="0987a-519">Wenn beispielsweise nur die Kultur festgelegt wird, werden sowohl `Culture` als auch `UICulture` wie folgt festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-519">For example, setting just the culture will set both the `Culture` and the `UICulture`:</span></span>

```
http://localhost:5000/?culture=es-MX
```

### <a name="no-loccookierequestcultureprovider"></a><span data-ttu-id="0987a-520">CookieRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-520">CookieRequestCultureProvider</span></span>

<span data-ttu-id="0987a-521">Produktions-Apps bieten oft einen Mechanismus zum Festlegen der Kultur mithilfe des ASP.NET Core-Kulturcookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-521">Production apps will often provide a mechanism to set the culture with the ASP.NET Core culture cookie.</span></span> <span data-ttu-id="0987a-522">Verwenden Sie die Methode `MakeCookieValue` zum Erstellen eines cookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-522">Use the `MakeCookieValue` method to create a cookie.</span></span>

<span data-ttu-id="0987a-523">`CookieRequestCultureProvider` `DefaultCookieName` gibt den Standardcookienamen zurück, mit dem ermittelt wird, welche Kulturinformationen der Benutzer bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="0987a-523">The `CookieRequestCultureProvider` `DefaultCookieName` returns the default cookie name used to track the user's preferred culture information.</span></span> <span data-ttu-id="0987a-524">Der Standardcookiename lautet `.AspNetCore.Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-524">The default cookie name is `.AspNetCore.Culture`.</span></span>

<span data-ttu-id="0987a-525">Das cookieformat ist `c=%LANGCODE%|uic=%LANGCODE%`, wobei `c` für `Culture` steht und `uic` für `UICulture`, zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="0987a-525">The cookie format is `c=%LANGCODE%|uic=%LANGCODE%`, where `c` is `Culture` and `uic` is `UICulture`, for example:</span></span>

```
c=en-UK|uic=en-US
```

<span data-ttu-id="0987a-526">Wenn Sie nur eine Kulturinformation und eine Benutzeroberflächenkultur angeben, wird die angegebene Kultur sowohl für die Kulturinformation als auch die Benutzeroberflächenkultur verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-526">If you only specify one of culture info and UI culture, the specified culture will be used for both culture info and UI culture.</span></span>

### <a name="the-accept-language-http-header"></a><span data-ttu-id="0987a-527">Der Accept-Language-HTTP-Header</span><span class="sxs-lookup"><span data-stu-id="0987a-527">The Accept-Language HTTP header</span></span>

<span data-ttu-id="0987a-528">Der [Accept-Language-Header](https://www.w3.org/International/questions/qa-accept-lang-locales) ist in den meisten Browsern konfigurierbar und war ursprünglich dafür gedacht, die Sprache des Benutzers anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-528">The [Accept-Language header](https://www.w3.org/International/questions/qa-accept-lang-locales) is settable in most browsers and was originally intended to specify the user's language.</span></span> <span data-ttu-id="0987a-529">Diese Einstellung gibt an, was im Browser zum Senden festgelegt ist oder vom zugrunde liegenden Betriebssystem geerbt wurde.</span><span class="sxs-lookup"><span data-stu-id="0987a-529">This setting indicates what the browser has been set to send or has inherited from the underlying operating system.</span></span> <span data-ttu-id="0987a-530">Der Accept-Language-HTTP-Header einer Browseranfrage ist keine unfehlbare Methode zum Erkennen der bevorzugten Sprache des Benutzers (siehe [Setting language preferences in a browser (Festlegen der bevorzugten Sprache in einem Browser)](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span><span class="sxs-lookup"><span data-stu-id="0987a-530">The Accept-Language HTTP header from a browser request isn't an infallible way to detect the user's preferred language (see [Setting language preferences in a browser](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span></span> <span data-ttu-id="0987a-531">In einer Produktions-App sollten Benutzer die Möglichkeit haben, ihre bevorzugte Kultur anzupassen.</span><span class="sxs-lookup"><span data-stu-id="0987a-531">A production app should include a way for a user to customize their choice of culture.</span></span>

### <a name="set-the-accept-language-http-header-in-ie"></a><span data-ttu-id="0987a-532">Festlegen des Accept-Language-HTTP-Headers in Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="0987a-532">Set the Accept-Language HTTP header in IE</span></span>

1. <span data-ttu-id="0987a-533">Klicken Sie auf das Zahnradsymbol und dann auf **Internetoptionen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-533">From the gear icon, tap **Internet Options**.</span></span>

1. <span data-ttu-id="0987a-534">Klicken Sie auf **Sprachen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-534">Tap **Languages**.</span></span>

   ![Internetoptionen](localization/_static/lang.png)

1. <span data-ttu-id="0987a-536">Klicken Sie auf **Spracheinstellungen festlegen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-536">Tap **Set Language Preferences**.</span></span>

1. <span data-ttu-id="0987a-537">Klicken Sie auf **Sprache hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-537">Tap **Add a language**.</span></span>

1. <span data-ttu-id="0987a-538">Fügen Sie die Sprache hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-538">Add the language.</span></span>

1. <span data-ttu-id="0987a-539">Klicken Sie auf die Sprache und dann auf **Nach oben**.</span><span class="sxs-lookup"><span data-stu-id="0987a-539">Tap the language, then tap **Move Up**.</span></span>

### <a name="use-a-custom-provider"></a><span data-ttu-id="0987a-540">Verwenden eines benutzerdefinierten Anbieters</span><span class="sxs-lookup"><span data-stu-id="0987a-540">Use a custom provider</span></span>

<span data-ttu-id="0987a-541">Angenommen, Sie möchten Ihren Kunden das Speichern ihrer Sprache und Kultur in Ihren Datenbanken ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-541">Suppose you want to let your customers store their language and culture in your databases.</span></span> <span data-ttu-id="0987a-542">In diesem Fall können Sie einen Anbieter codieren, der diese Werte für den Benutzer abruft.</span><span class="sxs-lookup"><span data-stu-id="0987a-542">You could write a provider to look up these values for the user.</span></span> <span data-ttu-id="0987a-543">Im folgenden Codebeispiel wird veranschaulicht, wie Sie einen benutzerdefinierten Anbieter hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="0987a-543">The following code shows how to add a custom provider:</span></span>

```csharp
private const string enUSCulture = "en-US";

services.Configure<RequestLocalizationOptions>(options =>
{
    var supportedCultures = new[]
    {
        new CultureInfo(enUSCulture),
        new CultureInfo("fr")
    };

    options.DefaultRequestCulture = new RequestCulture(culture: enUSCulture, uiCulture: enUSCulture);
    options.SupportedCultures = supportedCultures;
    options.SupportedUICultures = supportedCultures;

    options.RequestCultureProviders.Insert(0, new CustomRequestCultureProvider(async context =>
    {
        // My custom request culture logic
        return new ProviderCultureResult("en");
    }));
});
```

<span data-ttu-id="0987a-544">Verwenden Sie `RequestLocalizationOptions`, um Lokalisierungsanbieter hinzuzufügen oder zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="0987a-544">Use `RequestLocalizationOptions` to add or remove localization providers.</span></span>

### <a name="set-the-culture-programmatically"></a><span data-ttu-id="0987a-545">Programmgesteuertes Festlegen der Kultur</span><span class="sxs-lookup"><span data-stu-id="0987a-545">Set the culture programmatically</span></span>

<span data-ttu-id="0987a-546">Das Beispielprojekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält eine Benutzeroberfläche zum Festlegen von `Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-546">This sample **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) contains UI to set the `Culture`.</span></span> <span data-ttu-id="0987a-547">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* ermöglicht Ihnen das Auswählen der Kultur aus der Liste von unterstützten Kulturen:</span><span class="sxs-lookup"><span data-stu-id="0987a-547">The *Views/Shared/_SelectLanguagePartial.cshtml* file allows you to select the culture from the list of supported cultures:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_SelectLanguagePartial.cshtml)]

<span data-ttu-id="0987a-548">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* wird dem Abschnitt `footer` der Layoutdatei hinzugefügt, damit sie für alle Ansichten verfügbar ist:</span><span class="sxs-lookup"><span data-stu-id="0987a-548">The *Views/Shared/_SelectLanguagePartial.cshtml* file is added to the `footer` section of the layout file so it will be available to all views:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_Layout.cshtml?range=43-56&highlight=10)]

<span data-ttu-id="0987a-549">Die Methode `SetLanguage` legt das Kulturcookie fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-549">The `SetLanguage` method sets the culture cookie.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/HomeController.cs?range=57-67)]

<span data-ttu-id="0987a-550">Sie können *_SelectLanguagePartial.cshtml* dem Beispielcode für dieses Projekt nicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-550">You can't plug in the *_SelectLanguagePartial.cshtml* to sample code for this project.</span></span> <span data-ttu-id="0987a-551">Das Projekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält Code, der `RequestLocalizationOptions` durch den Container von [Dependency Injection](dependency-injection.md) an eineRazor-Teilansicht übermittelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-551">The **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) has code to flow the `RequestLocalizationOptions` to a Razor partial through the [Dependency Injection](dependency-injection.md) container.</span></span>

## <a name="model-binding-route-data-and-query-strings"></a><span data-ttu-id="0987a-552">Routendaten und Abfragezeichenfolgen für die Modellbindung</span><span class="sxs-lookup"><span data-stu-id="0987a-552">Model binding route data and query strings</span></span>

<span data-ttu-id="0987a-553">Weitere Informationen finden Sie unter [Globalisierungsverhalten der Routendaten und Abfragezeichenfolgen für die Modellbindung](xref:mvc/models/model-binding#glob).</span><span class="sxs-lookup"><span data-stu-id="0987a-553">See [Globalization behavior of model binding route data and query strings](xref:mvc/models/model-binding#glob).</span></span>

## <a name="globalization-and-localization-terms"></a><span data-ttu-id="0987a-554">Begriffe für die Globalisierung und Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-554">Globalization and localization terms</span></span>

<span data-ttu-id="0987a-555">Der Lokalisierungsprozess für Ihre App erfordert ein grundlegendes Verständnis von relevanten Zeichensätzen, die häufig in der modernen Softwareentwicklung verwendet werden, und von den Problemen, die mit ihnen zusammenhängen.</span><span class="sxs-lookup"><span data-stu-id="0987a-555">The process of localizing your app also requires a basic understanding of relevant character sets commonly used in modern software development and an understanding of the issues associated with them.</span></span> <span data-ttu-id="0987a-556">Obwohl alle Computer Text als Zahlen (Codes) speichern, speichern verschiedene Systeme denselben Text mit anderen Zahlen.</span><span class="sxs-lookup"><span data-stu-id="0987a-556">Although all computers store text as numbers (codes), different systems store the same text using different numbers.</span></span> <span data-ttu-id="0987a-557">Der Lokalisierungsprozess bezieht sich auf das Übersetzen der Benutzeroberfläche (UI) der App für eine spezifische Kultur bzw. ein bestimmtes Gebietsschema.</span><span class="sxs-lookup"><span data-stu-id="0987a-557">The localization process refers to translating the app user interface (UI) for a specific culture/locale.</span></span>

<span data-ttu-id="0987a-558">[Lokalisierbarkeit](/dotnet/standard/globalization-localization/localizability-review) ist ein Zwischenschritt zum Überprüfen, ob eine globalisierte App bereit für die Lokalisierung ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-558">[Localizability](/dotnet/standard/globalization-localization/localizability-review) is an intermediate process for verifying that a globalized app is ready for localization.</span></span>

<span data-ttu-id="0987a-559">Das Format [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) für den Kulturnamen ist `<languagecode2>-<country/regioncode2>`, wobei `<languagecode2>` der Sprachcode und `<country/regioncode2>` der Unterkulturcode.</span><span class="sxs-lookup"><span data-stu-id="0987a-559">The [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format for the culture name is `<languagecode2>-<country/regioncode2>`, where `<languagecode2>` is the language code and `<country/regioncode2>` is the subculture code.</span></span> <span data-ttu-id="0987a-560">Zum Beispiel steht `es-CL` für Spanisch (Chile), `en-US` für Englisch (USA) und `en-AU` für Englisch (Australien).</span><span class="sxs-lookup"><span data-stu-id="0987a-560">For example, `es-CL` for Spanish (Chile), `en-US` for English (United States), and `en-AU` for English (Australia).</span></span> <span data-ttu-id="0987a-561">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) ist eine Kombination der ISO 639, bei der zwei Kleinbuchstaben den Kulturcode beschreiben, der einer Sprache zugeordnet ist, und der ISO 3166, bei der zwei Großbuchstaben den Unterkulturcode beschreiben, der einem Land oder einer Region zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-561">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) is a combination of an ISO 639 two-letter lowercase culture code associated with a language and an ISO 3166 two-letter uppercase subculture code associated with a country or region.</span></span> <span data-ttu-id="0987a-562">Siehe <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span><span class="sxs-lookup"><span data-stu-id="0987a-562">See <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span></span>

<span data-ttu-id="0987a-563">Die Internationalisierung (Internationalization) wird oft mit „I18N“ abgekürzt.</span><span class="sxs-lookup"><span data-stu-id="0987a-563">Internationalization is often abbreviated to "I18N".</span></span> <span data-ttu-id="0987a-564">Diese Abkürzung verwendet den ersten und den letzten Buchstaben und die Anzahl der dazwischen liegenden Buchstaben, 18 steht also für die Menge der Buchstaben zwischen dem ersten „I“ und dem letzten „N“.</span><span class="sxs-lookup"><span data-stu-id="0987a-564">The abbreviation takes the first and last letters and the number of letters between them, so 18 stands for the number of letters between the first "I" and the last "N".</span></span> <span data-ttu-id="0987a-565">Das gleiche gilt für Globalisierung (Globalization, G11N) und Lokalisierung (Localization, L10N).</span><span class="sxs-lookup"><span data-stu-id="0987a-565">The same applies to Globalization (G11N), and Localization (L10N).</span></span>

<span data-ttu-id="0987a-566">Begriffe:</span><span class="sxs-lookup"><span data-stu-id="0987a-566">Terms:</span></span>

* <span data-ttu-id="0987a-567">Globalisierung (G11N): Der Prozess, durch den eine App mehrere Sprachen und Regionen unterstützen soll.</span><span class="sxs-lookup"><span data-stu-id="0987a-567">Globalization (G11N): The process of making an app support different languages and regions.</span></span>
* <span data-ttu-id="0987a-568">Lokalisierung (L10N): Der Prozess, durch den eine App auf eine Sprache und Region angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-568">Localization (L10N): The process of customizing an app for a given language and region.</span></span>
* <span data-ttu-id="0987a-569">Internationalisierung (I18N): Beschreibt sowohl Globalisierung als auch Lokalisierung.</span><span class="sxs-lookup"><span data-stu-id="0987a-569">Internationalization (I18N): Describes both globalization and localization.</span></span>
* <span data-ttu-id="0987a-570">Kultur: Beschreibt eine Sprache und optional auch eine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-570">Culture: It's a language and, optionally, a region.</span></span>
* <span data-ttu-id="0987a-571">Neutrale Kultur: Eine Kultur, die eine bestimmte Sprache beschreibt, aber keine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-571">Neutral culture: A culture that has a specified language, but not a region.</span></span> <span data-ttu-id="0987a-572">(Zum Beispiel „en“, „es“)</span><span class="sxs-lookup"><span data-stu-id="0987a-572">(for example "en", "es")</span></span>
* <span data-ttu-id="0987a-573">Spezifische Kultur: Eine Kultur, die eine bestimmte Sprache und Region beschreibt.</span><span class="sxs-lookup"><span data-stu-id="0987a-573">Specific culture: A culture that has a specified language and region.</span></span> <span data-ttu-id="0987a-574">(Zum Beispiel „en-US“, „en-GB“, „es-CL“)</span><span class="sxs-lookup"><span data-stu-id="0987a-574">(for example "en-US", "en-GB", "es-CL")</span></span>
* <span data-ttu-id="0987a-575">Übergeordnete Kultur: Eine neutrale Kultur, die eine spezifische Kultur enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-575">Parent culture: The neutral culture that contains a specific culture.</span></span> <span data-ttu-id="0987a-576">(„en“ ist z.B. die übergeordnete Kultur von „en-US“ und „en-GB“)</span><span class="sxs-lookup"><span data-stu-id="0987a-576">(for example, "en" is the parent culture of "en-US" and "en-GB")</span></span>
* <span data-ttu-id="0987a-577">Gebietsschema: Ein Gebietsschema ist identisch mit einer Kultur.</span><span class="sxs-lookup"><span data-stu-id="0987a-577">Locale: A locale is the same as a culture.</span></span>

[!INCLUDE[](~/includes/localization/currency.md)]

## <a name="additional-resources"></a><span data-ttu-id="0987a-578">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="0987a-578">Additional resources</span></span>

* <xref:fundamentals/troubleshoot-aspnet-core-localization>
* <span data-ttu-id="0987a-579">[Localization.StarterWeb-Projekt](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) wird im Artikel verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-579">[Localization.StarterWeb project](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) used in the article.</span></span>
* [<span data-ttu-id="0987a-580">Globalisieren und Lokalisieren von .NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="0987a-580">Globalizing and localizing .NET applications</span></span>](/dotnet/standard/globalization-localization/index)
* [<span data-ttu-id="0987a-581">Ressourcen in RESX-Dateien</span><span class="sxs-lookup"><span data-stu-id="0987a-581">Resources in .resx Files</span></span>](/dotnet/framework/resources/working-with-resx-files-programmatically)
* [<span data-ttu-id="0987a-582">Microsoft Multilingual App Toolkit</span><span class="sxs-lookup"><span data-stu-id="0987a-582">Microsoft Multilingual App Toolkit</span></span>](https://marketplace.visualstudio.com/items?itemName=MultilingualAppToolkit.MultilingualAppToolkit-18308)
* [<span data-ttu-id="0987a-583">Lokalisierung und Generics</span><span class="sxs-lookup"><span data-stu-id="0987a-583">Localization & Generics</span></span>](http://hishambinateya.com/localization-and-generics)

::: moniker-end

<!-- ASP.NET Core 5.x starts here -->
::: moniker range="> aspnetcore-3.1"

<span data-ttu-id="0987a-584">Von [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), und [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span><span class="sxs-lookup"><span data-stu-id="0987a-584">By [Rick Anderson](https://twitter.com/RickAndMSFT), [Damien Bowden](https://twitter.com/damien_bod), [Bart Calixto](https://twitter.com/bartmax), [Nadeem Afana](https://afana.me/), and [Hisham Bin Ateya](https://twitter.com/hishambinateya)</span></span>

<span data-ttu-id="0987a-585">Eine mehrsprachige Website ermöglicht es, eine größere Zielgruppe zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-585">A multilingual website allows the site to reach a wider audience.</span></span> <span data-ttu-id="0987a-586">ASP.NET Core bietet Dienste und Middleware zur Lokalisierung in verschiedene Sprachen und Kulturen.</span><span class="sxs-lookup"><span data-stu-id="0987a-586">ASP.NET Core provides services and middleware for localizing into different languages and cultures.</span></span>

<span data-ttu-id="0987a-587">Die Internationalisierung umfasst die[Globalisierung](/dotnet/api/system.globalization) und die [Lokalisierung](/dotnet/standard/globalization-localization/localization).</span><span class="sxs-lookup"><span data-stu-id="0987a-587">Internationalization involves [Globalization](/dotnet/api/system.globalization) and [Localization](/dotnet/standard/globalization-localization/localization).</span></span> <span data-ttu-id="0987a-588">Globalisierung bezeichnet das Entwerfen von Anwendungen, die verschiedene Kulturen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0987a-588">Globalization is the process of designing apps that support different cultures.</span></span> <span data-ttu-id="0987a-589">Durch die Globalisierung wird die Unterstützung von Eingabe, Anzeige und Ausgabe mehrerer definierter Sprachskripts hinzugefügt, die zu bestimmten geografischen Bereichen gehören.</span><span class="sxs-lookup"><span data-stu-id="0987a-589">Globalization adds support for input, display, and output of a defined set of language scripts that relate to specific geographic areas.</span></span>

<span data-ttu-id="0987a-590">Durch die Lokalisierung wird eine globalisierte App, die bereits auf Lokalisierbarkeit vorbereitet wurde, auf eine bestimmte Kultur bzw. ein bestimmtes Gebietsschema angepasst.</span><span class="sxs-lookup"><span data-stu-id="0987a-590">Localization is the process of adapting a globalized app, which you have already processed for localizability, to a particular culture/locale.</span></span> <span data-ttu-id="0987a-591">Weitere Informationen finden Sie unter **Begriffe für die Globalisierung und Lokalisierung** am Ende dieses Dokuments.</span><span class="sxs-lookup"><span data-stu-id="0987a-591">For more information see **Globalization and localization terms** near the end of this document.</span></span>

<span data-ttu-id="0987a-592">Die Lokalisierung von Apps umfasst die folgenden Aufgaben:</span><span class="sxs-lookup"><span data-stu-id="0987a-592">App localization involves the following:</span></span>

1. <span data-ttu-id="0987a-593">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-593">Make the app's content localizable</span></span>
1. <span data-ttu-id="0987a-594">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-594">Provide localized resources for the languages and cultures you support</span></span>
1. <span data-ttu-id="0987a-595">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-595">Implement a strategy to select the language/culture for each request</span></span>

<span data-ttu-id="0987a-596">[Anzeigen oder Herunterladen von Beispielcode](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/2.x/) ([Vorgehensweise zum Herunterladen](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="0987a-596">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/localization/sample/2.x/) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="make-the-apps-content-localizable"></a><span data-ttu-id="0987a-597">Stellen Sie sicher, dass der Inhalt der App lokalisierbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-597">Make the app's content localizable</span></span>

<span data-ttu-id="0987a-598"><xref:Microsoft.Extensions.Localization.IStringLocalizer> und <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> wurden zur Förderung der Produktivität bei der Entwicklung von lokalisierten Apps entwickelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-598"><xref:Microsoft.Extensions.Localization.IStringLocalizer> and <xref:Microsoft.Extensions.Localization.IStringLocalizer%601> were architected to improve productivity when developing localized apps.</span></span> <span data-ttu-id="0987a-599">`IStringLocalizer` verwendet <xref:System.Resources.ResourceManager> und <xref:System.Resources.ResourceReader>, um kulturspezifische Ressourcen zur Laufzeit bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-599">`IStringLocalizer` uses the <xref:System.Resources.ResourceManager> and <xref:System.Resources.ResourceReader> to provide culture-specific resources at run time.</span></span> <span data-ttu-id="0987a-600">Die Schnittstelle besitzt einen Indexer und `IEnumerable` für die Rückgabe von lokalisierten Zeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-600">The interface has an indexer and an `IEnumerable` for returning localized strings.</span></span> <span data-ttu-id="0987a-601">`IStringLocalizer` erfordert nicht, dass die Zeichenfolgen der Standardsprache in einer Ressourcendatei gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-601">`IStringLocalizer` doesn't require storing the default language strings in a resource file.</span></span> <span data-ttu-id="0987a-602">Sie können eine App entwickeln, die für die Lokalisierung ausgelegt ist, und müssen in den frühen Entwicklungsphasen keine Ressourcendateien erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-602">You can develop an app targeted for localization and not need to create resource files early in development.</span></span> <span data-ttu-id="0987a-603">Im folgenden Codebeispiel wird dargestellt, wie die Zeichenfolge „About Title“ für die Lokalisierung umschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-603">The code below shows how to wrap the string "About Title" for localization.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/AboutController.cs)]

<span data-ttu-id="0987a-604">Im vorangehenden Codebeispiel stammt die Implementierung von `IStringLocalizer<T>` aus [Dependency Injection](dependency-injection.md).</span><span class="sxs-lookup"><span data-stu-id="0987a-604">In the preceding code, the `IStringLocalizer<T>` implementation comes from [Dependency Injection](dependency-injection.md).</span></span> <span data-ttu-id="0987a-605">Wenn kein lokalisierter Wert von „About Title“ gefunden wird, wird der Indexerschlüssel zurückgegeben, d.h. die Zeichenfolge „About Title“.</span><span class="sxs-lookup"><span data-stu-id="0987a-605">If the localized value of "About Title" isn't found, then the indexer key is returned, that is, the string "About Title".</span></span> <span data-ttu-id="0987a-606">Sie können die Literalzeichenfolgen der App in der Standardsprache beibehalten und diese in der Lokalisierung umschließen, damit Sie sich auf die Entwicklung der App konzentrieren können.</span><span class="sxs-lookup"><span data-stu-id="0987a-606">You can leave the default language literal strings in the app and wrap them in the localizer, so that you can focus on developing the app.</span></span> <span data-ttu-id="0987a-607">Entwickeln Sie Ihre App mit Ihrer Standardsprache, und bereiten Sie sie auf die Lokalisierung vor, ohne zuerst eine Standardressourcendatei zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-607">You develop your app with your default language and prepare it for the localization step without first creating a default resource file.</span></span> <span data-ttu-id="0987a-608">Alternativ können Sie das herkömmliche Verfahren verwenden und einen Schlüssel zum Abrufen der Zeichenfolge in der Standardsprache angeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-608">Alternatively, you can use the traditional approach and provide a key to retrieve the default language string.</span></span> <span data-ttu-id="0987a-609">Der neue Workflow, der keine Standardsprache in der *RESX*-Datei verwendet und die Literalzeichenfolgen einfach umschließt, kann für viele Entwickler den Aufwand beim Lokalisieren einer App reduzieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-609">For many developers the new workflow of not having a default language *.resx* file and simply wrapping the string literals can reduce the overhead of localizing an app.</span></span> <span data-ttu-id="0987a-610">Andere Entwickler bevorzugen weiterhin den herkömmlichen Workflow, weil es dabei einfacher ist, mit längeren Literalzeichenfolgen zu arbeiten und lokalisierte Zeichenfolgen zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-610">Other developers will prefer the traditional work flow as it can make it easier to work with longer string literals and make it easier to update localized strings.</span></span>

<span data-ttu-id="0987a-611">Verwenden Sie die Implementierung von `IHtmlLocalizer<T>` für Ressourcen, die HTML enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-611">Use the `IHtmlLocalizer<T>` implementation for resources that contain HTML.</span></span> <span data-ttu-id="0987a-612">Mit `IHtmlLocalizer` werden Argumente HTML-codiert, die in der Ressourcenzeichenfolge formatiert sind. Die Ressourcenzeichenfolgen werden jedoch nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-612">`IHtmlLocalizer` HTML encodes arguments that are formatted in the resource string, but doesn't HTML encode the resource string itself.</span></span> <span data-ttu-id="0987a-613">Im folgenden Beispiel wird hervorgehoben, dass nur der Wert des Parameters `name` HTML-codiert ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-613">In the sample highlighted below, only the value of `name` parameter is HTML encoded.</span></span>

[!code-csharp[](~/fundamentals/localization/sample/3.x/Localization/Controllers/BookController.cs?highlight=3,5,20&start=1&end=24)]

> [!NOTE]
> <span data-ttu-id="0987a-614">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-614">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-615">Auf der untersten Ebene können Sie `IStringLocalizerFactory` aus [Dependency Injection](dependency-injection.md) abrufen:</span><span class="sxs-lookup"><span data-stu-id="0987a-615">At the lowest level, you can get `IStringLocalizerFactory` out of [Dependency Injection](dependency-injection.md):</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/TestController.cs?start=9&end=26&highlight=7-13)]

<span data-ttu-id="0987a-616">Im obigen Codebeispiel werden beide factory.Create-Methoden veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-616">The code above demonstrates each of the two factory create methods.</span></span>

<span data-ttu-id="0987a-617">Sie können Ihre lokalisierten Zeichenfolgen in Steuerelemente und Bereiche aufteilen oder nur einen Container verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-617">You can partition your localized strings by controller, area, or have just one container.</span></span> <span data-ttu-id="0987a-618">In der Beispiel-App wird eine Dummyklasse namens `SharedResource` für freigegebene Ressourcen verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-618">In the sample app, a dummy class named `SharedResource` is used for shared resources.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Resources/SharedResource.cs)]

<span data-ttu-id="0987a-619">Einige Entwickler verwenden die Klasse `Startup`, damit globale oder freigegebene Zeichenfolgen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-619">Some developers use the `Startup` class to contain global or shared strings.</span></span> <span data-ttu-id="0987a-620">Im folgenden Beispiel werden die Lokalisierer `InfoController` und `SharedResource` verwendet:</span><span class="sxs-lookup"><span data-stu-id="0987a-620">In the sample below, the `InfoController` and the `SharedResource` localizers are used:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/InfoController.cs?range=9-26)]

## <a name="view-localization"></a><span data-ttu-id="0987a-621">Lokalisierung der Ansicht</span><span class="sxs-lookup"><span data-stu-id="0987a-621">View localization</span></span>

<span data-ttu-id="0987a-622">Der Dienst `IViewLocalizer` gibt lokalisierte Zeichenfolgen für eine [Ansicht](xref:mvc/views/overview) an.</span><span class="sxs-lookup"><span data-stu-id="0987a-622">The `IViewLocalizer` service provides localized strings for a [view](xref:mvc/views/overview).</span></span> <span data-ttu-id="0987a-623">Die Klasse `ViewLocalizer` implementiert diese Schnittstelle und sucht den Speicherort der Ressource über den Dateipfad der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-623">The `ViewLocalizer` class implements this interface and finds the resource location from the view file path.</span></span> <span data-ttu-id="0987a-624">Im folgenden Codebeispiel wird die Verwendung der Standardimplementierung von `IViewLocalizer` veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="0987a-624">The following code shows how to use the default implementation of `IViewLocalizer`:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Home/About.cshtml)]

<span data-ttu-id="0987a-625">Die Standardimplementierung von `IViewLocalizer` sucht die Ressourcendatei über den Dateinamen der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-625">The default implementation of `IViewLocalizer` finds the resource file based on the view's file name.</span></span> <span data-ttu-id="0987a-626">Es gibt keine Option zur Nutzung einer globalen freigegebenen Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-626">There's no option to use a global shared resource file.</span></span> <span data-ttu-id="0987a-627">`ViewLocalizer` implementiert den Lokalisierer mithilfe von `IHtmlLocalizer`, damit Razor die lokalisierte Zeichenfolge nicht HTML-codiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-627">`ViewLocalizer` implements the localizer using `IHtmlLocalizer`, so Razor doesn't HTML encode the localized string.</span></span> <span data-ttu-id="0987a-628">Sie können Ressourcenzeichenfolgen parametrisieren, und `IViewLocalizer` codiert die Parameter mit HTML, aber nicht die Ressourcenzeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="0987a-628">You can parameterize resource strings and `IViewLocalizer` will HTML encode the parameters, but not the resource string.</span></span> <span data-ttu-id="0987a-629">Sehen Sie sich das folgende Razor-Markup an:</span><span class="sxs-lookup"><span data-stu-id="0987a-629">Consider the following Razor markup:</span></span>

```cshtml
@Localizer["<i>Hello</i> <b>{0}!</b>", UserManager.GetUserName(User)]
```

<span data-ttu-id="0987a-630">Eine französische Ressourcendatei könnte Folgendes beinhalten:</span><span class="sxs-lookup"><span data-stu-id="0987a-630">A French resource file could contain the following:</span></span>

| <span data-ttu-id="0987a-631">Key</span><span class="sxs-lookup"><span data-stu-id="0987a-631">Key</span></span> | <span data-ttu-id="0987a-632">Wert</span><span class="sxs-lookup"><span data-stu-id="0987a-632">Value</span></span> |
| --- | ----- |
| `<i>Hello</i> <b>{0}!</b>` | `<i>Bonjour</i> <b>{0} !</b>` |

<span data-ttu-id="0987a-633">Die gerenderte Ansicht würde das HTML-Markup der Ressourcendatei enthalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-633">The rendered view would contain the HTML markup from the resource file.</span></span>

> [!NOTE]
> <span data-ttu-id="0987a-634">Im Allgemeinen wird nur Text lokalisiert, nicht HTML.</span><span class="sxs-lookup"><span data-stu-id="0987a-634">Generally, only localize text, not HTML.</span></span>

<span data-ttu-id="0987a-635">Fügen Sie `IHtmlLocalizer<T>` ein, um eine freigegebene Ressourcendatei in einer Ansicht zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="0987a-635">To use a shared resource file in a view, inject `IHtmlLocalizer<T>`:</span></span>

[!code-cshtml[](~/fundamentals/localization/sample/3.x/Localization/Views/Test/About.cshtml?highlight=5,12)]

## <a name="dataannotations-localization"></a><span data-ttu-id="0987a-636">Lokalisierung von DataAnnotations</span><span class="sxs-lookup"><span data-stu-id="0987a-636">DataAnnotations localization</span></span>

<span data-ttu-id="0987a-637">Fehlermeldungen über DataAnnotations werden mit `IStringLocalizer<T>` lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-637">DataAnnotations error messages are localized with `IStringLocalizer<T>`.</span></span> <span data-ttu-id="0987a-638">Durch Verwendung der Option `ResourcesPath = "Resources"` können die Fehlermeldungen in `RegisterViewModel` unter einem der folgenden Pfade gespeichert werden:</span><span class="sxs-lookup"><span data-stu-id="0987a-638">Using the option `ResourcesPath = "Resources"`, the error messages in `RegisterViewModel` can be stored in either of the following paths:</span></span>

* <span data-ttu-id="0987a-639">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-639">*Resources/ViewModels.Account.RegisterViewModel.fr.resx*</span></span>
* <span data-ttu-id="0987a-640">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-640">*Resources/ViewModels/Account/RegisterViewModel.fr.resx*</span></span>

[!code-csharp[](localization/sample/3.x/Localization/ViewModels/Account/RegisterViewModel.cs?start=9&end=26)]

<span data-ttu-id="0987a-641">In ASP.NET Core MVC 1.1.0 und höher werden Attribute lokalisiert, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-641">In ASP.NET Core MVC 1.1.0 and higher, non-validation attributes are localized.</span></span> <span data-ttu-id="0987a-642">ASP.NET Core MVC 1.0 sucht **nicht** nach lokalisierten Zeichenfolgen für Attribute, die keine Validierungsattribute darstellen.</span><span class="sxs-lookup"><span data-stu-id="0987a-642">ASP.NET Core MVC 1.0 does **not** look up localized strings for non-validation attributes.</span></span>

<a name="one-resource-string-multiple-classes"></a>

### <a name="using-one-resource-string-for-multiple-classes"></a><span data-ttu-id="0987a-643">Verwenden einer Ressourcenzeichenfolge für mehrere Klassen</span><span class="sxs-lookup"><span data-stu-id="0987a-643">Using one resource string for multiple classes</span></span>

<span data-ttu-id="0987a-644">Das folgende Codebeispiel zeigt, wie eine Ressourcenzeichenfolge für Validierungsattribute mit mehreren Klassen verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="0987a-644">The following code shows how to use one resource string for validation attributes with multiple classes:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddDataAnnotationsLocalization(options => {
            options.DataAnnotationLocalizerProvider = (type, factory) =>
                factory.Create(typeof(SharedResource));
        });
}
```

<span data-ttu-id="0987a-645">Im obigen Codebeispiel bezeichnet `SharedResource` die Klasse, die der RESX-Datei entspricht, in der Ihre Validierungsmeldungen gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="0987a-645">In the preceding code, `SharedResource` is the class corresponding to the resx where your validation messages are stored.</span></span> <span data-ttu-id="0987a-646">DataAnnotations verwendet bei diesem Ansatz nur `SharedResource` anstelle der Ressource für jede Klasse.</span><span class="sxs-lookup"><span data-stu-id="0987a-646">With this approach, DataAnnotations will only use `SharedResource`, rather than the resource for each class.</span></span>

## <a name="provide-localized-resources-for-the-languages-and-cultures-you-support"></a><span data-ttu-id="0987a-647">Stellen Sie die lokalisierten Ressourcen für die unterstützten Sprachen und Kulturen bereit.</span><span class="sxs-lookup"><span data-stu-id="0987a-647">Provide localized resources for the languages and cultures you support</span></span>

### <a name="supportedcultures-and-supporteduicultures"></a><span data-ttu-id="0987a-648">SupportedCultures und SupportedUICultures</span><span class="sxs-lookup"><span data-stu-id="0987a-648">SupportedCultures and SupportedUICultures</span></span>

<span data-ttu-id="0987a-649">ASP.NET Core ermöglicht Ihnen, zwei Werte für die Kultur anzugeben: `SupportedCultures` und `SupportedUICultures`.</span><span class="sxs-lookup"><span data-stu-id="0987a-649">ASP.NET Core allows you to specify two culture values, `SupportedCultures` and `SupportedUICultures`.</span></span> <span data-ttu-id="0987a-650">Das Objekt [CultureInfo](/dotnet/api/system.globalization.cultureinfo) für `SupportedCultures` bestimmt die Ergebnisse von kulturabhängigen Funktionen, wie z.B. das Format von Datumswerten, Uhrzeiten, Zahlen und Währungen.</span><span class="sxs-lookup"><span data-stu-id="0987a-650">The [CultureInfo](/dotnet/api/system.globalization.cultureinfo) object for `SupportedCultures` determines the results of culture-dependent functions, such as date, time, number, and currency formatting.</span></span> <span data-ttu-id="0987a-651">`SupportedCultures` bestimmt auch die Sortierreihenfolge von Texten, Groß-/Kleinschreibungskonventionen und Zeichenfolgenvergleichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-651">`SupportedCultures` also determines the sorting order of text, casing conventions, and string comparisons.</span></span> <span data-ttu-id="0987a-652">Weitere Informationen darüber, wie der Server die Kultur abruft, finden Sie unter [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture).</span><span class="sxs-lookup"><span data-stu-id="0987a-652">See [CultureInfo.CurrentCulture](/dotnet/api/system.stringcomparer.currentculture#System_StringComparer_CurrentCulture) for more info on how the server gets the Culture.</span></span> <span data-ttu-id="0987a-653">`SupportedUICultures` bestimmt, welche übersetzten Zeichenfolgen (aus den *RESX*-Dateien) von [ResourceManager](/dotnet/api/system.resources.resourcemanager) abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-653">The `SupportedUICultures` determines which translated strings (from *.resx* files) are looked up by the [ResourceManager](/dotnet/api/system.resources.resourcemanager).</span></span> <span data-ttu-id="0987a-654">Die `ResourceManager`-Klasse sucht nach kulturspezifischen Zeichenfolgen, die durch `CurrentUICulture` bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-654">The `ResourceManager` simply looks up culture-specific strings that's determined by `CurrentUICulture`.</span></span> <span data-ttu-id="0987a-655">Jeder Thread in .NET enthält die Objekte `CurrentCulture` und `CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-655">Every thread in .NET has `CurrentCulture` and `CurrentUICulture` objects.</span></span> <span data-ttu-id="0987a-656">ASP.NET Core überprüft diese Werte beim Rendern von kulturspezifischen Funktionen.</span><span class="sxs-lookup"><span data-stu-id="0987a-656">ASP.NET Core inspects these values when rendering culture-dependent functions.</span></span> <span data-ttu-id="0987a-657">Wenn die Kultur des aktuellen Threads zum Beispiel auf „en-US“ (Englisch, USA) festgelegt ist, gibt `DateTime.Now.ToLongDateString()` „Thursday, February 18, 2016“ aus, wenn `CurrentCulture` jedoch auf „es-ES“ (Spanisch, Spanien) festgelegt ist, wird „jueves, 18 de febrero de 2016“ ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-657">For example, if the current thread's culture is set to "en-US" (English, United States), `DateTime.Now.ToLongDateString()` displays "Thursday, February 18, 2016", but if `CurrentCulture` is set to "es-ES" (Spanish, Spain) the output will be "jueves, 18 de febrero de 2016".</span></span>

## <a name="resource-files"></a><span data-ttu-id="0987a-658">Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-658">Resource files</span></span>

<span data-ttu-id="0987a-659">Eine Ressourcendatei ist ein nützlicher Mechanismus für das Trennen von lokalisierbaren Zeichenfolgen von Code.</span><span class="sxs-lookup"><span data-stu-id="0987a-659">A resource file is a useful mechanism for separating localizable strings from code.</span></span> <span data-ttu-id="0987a-660">Übersetzte Zeichenfolgen für die Sprache, die nicht die Standardsprache darstellt, werden in *RESX*-Ressourcendateien isoliert.</span><span class="sxs-lookup"><span data-stu-id="0987a-660">Translated strings for the non-default language are isolated in *.resx* resource files.</span></span> <span data-ttu-id="0987a-661">Möglicherweise möchten Sie z.B. eine spanische Ressourcendatei namens *Welcome.es.resx* erstellen, die übersetzte Zeichenfolgen enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-661">For example, you might want to create Spanish resource file named *Welcome.es.resx* containing translated strings.</span></span> <span data-ttu-id="0987a-662">„es“ ist der Sprachcode für Spanisch.</span><span class="sxs-lookup"><span data-stu-id="0987a-662">"es" is the language code for Spanish.</span></span> <span data-ttu-id="0987a-663">Erstellen dieser Ressourcendatei in Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="0987a-663">To create this resource file in Visual Studio:</span></span>

1. <span data-ttu-id="0987a-664">Führen Sie im **Projektmappen-Explorer** einen Rechtsklick auf den Ordner aus, der die Ressourcendatei enthalten soll, und klicken Sie dann auf **Hinzufügen** > **Neues Element**.</span><span class="sxs-lookup"><span data-stu-id="0987a-664">In **Solution Explorer**, right click on the folder which will contain the resource file > **Add** > **New Item**.</span></span>

   ![Geschachteltes Kontextmenü: Im Projektmappen-Explorer ist ein Kontextmenü für Ressourcen geöffnet.](localization/_static/newi.png)

1. <span data-ttu-id="0987a-667">Geben Sie „resource“ (Ressource) im Feld **Search installed templates** (Installierte Vorlagen durchsuchen) ein, und benennen Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="0987a-667">In the **Search installed templates** box, enter "resource" and name the file.</span></span>

   ![Dialogfeld „Neues Element hinzufügen“](localization/_static/res.png)

1. <span data-ttu-id="0987a-669">Geben Sie den Schlüsselwert (native Zeichenfolge) in der Spalte **Name** und die übersetzte Zeichenfolge in der Spalte **Wert** ein.</span><span class="sxs-lookup"><span data-stu-id="0987a-669">Enter the key value (native string) in the **Name** column and the translated string in the **Value** column.</span></span>

   ![Welcome.es.resx-Datei (die Willkommensressourcendatei für Spanisch) mit dem Wort „Hello“ in der Spalte „Name“ und dem Wort „Hola“ (Hallo in Spanisch) in der Spalte „Wert“](localization/_static/hola.png)

   <span data-ttu-id="0987a-671">Die Datei *Welcome.es.resx* wird in Visual Studio angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0987a-671">Visual Studio shows the *Welcome.es.resx* file.</span></span>

   ![Die Ressourcendatei „Welcome Spanish (es)“ im Projektmappen-Explorer](localization/_static/se.png)

## <a name="resource-file-naming"></a><span data-ttu-id="0987a-673">Benennung von Ressourcendateien</span><span class="sxs-lookup"><span data-stu-id="0987a-673">Resource file naming</span></span>

<span data-ttu-id="0987a-674">Ressourcen werden nach dem vollständigen Typnamen ihrer Klasse, abzüglich des Assemblynamens, benannt.</span><span class="sxs-lookup"><span data-stu-id="0987a-674">Resources are named for the full type name of their class minus the assembly name.</span></span> <span data-ttu-id="0987a-675">Eine französische Ressourcendatei, deren Hauptassembly für die Klasse `LocalizationWebsite.Web.Startup``LocalizationWebsite.Web.dll` ist, würde zum Beispiel den Namen *Startup.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-675">For example, a French resource in a project whose main assembly is `LocalizationWebsite.Web.dll` for the class `LocalizationWebsite.Web.Startup` would be named *Startup.fr.resx*.</span></span> <span data-ttu-id="0987a-676">Eine Ressource für die Klasse `LocalizationWebsite.Web.Controllers.HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-676">A resource for the class `LocalizationWebsite.Web.Controllers.HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-677">Wenn der Namespace Ihrer Zielklasse nicht dem Assemblynamen entspricht, benötigen Sie den vollständigen Typnamen.</span><span class="sxs-lookup"><span data-stu-id="0987a-677">If your targeted class's namespace isn't the same as the assembly name you will need the full type name.</span></span> <span data-ttu-id="0987a-678">Eine Ressource für den Typ `ExtraNamespace.Tools` im Beispielprojekt würde z.B. den Namen *ExtraNamespace.Tools.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-678">For example, in the sample project a resource for the type `ExtraNamespace.Tools` would be named *ExtraNamespace.Tools.fr.resx*.</span></span>

<span data-ttu-id="0987a-679">Im Beispielprojekt legt die Methode `ConfigureServices` die `ResourcesPath`-Eigenschaft auf „Resources“ fest. Der relative Projektpfad für den Controller „Home“ der französischen Ressourcendatei ist also *Resources/Controllers.HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-679">In the sample project, the `ConfigureServices` method sets the `ResourcesPath` to "Resources", so the project relative path for the home controller's French resource file is *Resources/Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-680">Alternativ können Sie Ordner zum Organisieren von Ressourcendateien verwenden.</span><span class="sxs-lookup"><span data-stu-id="0987a-680">Alternatively, you can use folders to organize resource files.</span></span> <span data-ttu-id="0987a-681">Für den Controller „Home“ wäre der Pfad *Resources/Controllers/HomeController.fr.resx*.</span><span class="sxs-lookup"><span data-stu-id="0987a-681">For the home controller, the path would be *Resources/Controllers/HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-682">Wenn Sie die Option `ResourcesPath` nicht verwenden, würde sich die *RESX*-Datei im Basisprojektverzeichnis befinden.</span><span class="sxs-lookup"><span data-stu-id="0987a-682">If you don't use the `ResourcesPath` option, the *.resx* file would go in the project base directory.</span></span> <span data-ttu-id="0987a-683">Die Ressourcendatei für `HomeController` würde den Namen *Controllers.HomeController.fr.resx* erhalten.</span><span class="sxs-lookup"><span data-stu-id="0987a-683">The resource file for `HomeController` would be named *Controllers.HomeController.fr.resx*.</span></span> <span data-ttu-id="0987a-684">Ob Sie die Benennungskonventionen mit Punkten oder wie Pfade verwenden, hängt davon ab, wie Sie Ihre Ressourcendateien organisieren möchten.</span><span class="sxs-lookup"><span data-stu-id="0987a-684">The choice of using the dot or path naming convention depends on how you want to organize your resource files.</span></span>

| <span data-ttu-id="0987a-685">Ressourcenname</span><span class="sxs-lookup"><span data-stu-id="0987a-685">Resource name</span></span> | <span data-ttu-id="0987a-686">Punkt- oder Pfadbenennung</span><span class="sxs-lookup"><span data-stu-id="0987a-686">Dot or path naming</span></span> |
| ------------   | ------------- |
| <span data-ttu-id="0987a-687">Resources/Controllers.HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-687">Resources/Controllers.HomeController.fr.resx</span></span> | <span data-ttu-id="0987a-688">Punkt</span><span class="sxs-lookup"><span data-stu-id="0987a-688">Dot</span></span>  |
| <span data-ttu-id="0987a-689">Resources/Controllers/HomeController.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-689">Resources/Controllers/HomeController.fr.resx</span></span>  | <span data-ttu-id="0987a-690">Pfad</span><span class="sxs-lookup"><span data-stu-id="0987a-690">Path</span></span> |

<span data-ttu-id="0987a-691">Ressourcendateien, die `@inject IViewLocalizer` in Razor-Ansichten verwenden, folgen einem ähnlichen Muster.</span><span class="sxs-lookup"><span data-stu-id="0987a-691">Resource files using `@inject IViewLocalizer` in Razor views follow a similar pattern.</span></span> <span data-ttu-id="0987a-692">Die Ressourcendatei für eine Ansicht kann mit der Punkt- oder Pfadbenennung benannt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-692">The resource file for a view can be named using either dot naming or path naming.</span></span> <span data-ttu-id="0987a-693">Ressourcendateien der Razor-Ansicht imitieren den Pfad ihrer zugehörigen Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-693">Razor view resource files mimic the path of their associated view file.</span></span> <span data-ttu-id="0987a-694">Wenn `ResourcesPath` zum Beispiel auf „Resources“ festgelegt wird, ist die französische Ressourcendatei, die der Ansicht *Views/Home/About.cshtml* zugeordnet ist, eine der folgenden zwei:</span><span class="sxs-lookup"><span data-stu-id="0987a-694">Assuming we set the `ResourcesPath` to "Resources", the French resource file associated with the *Views/Home/About.cshtml* view could be either of the following:</span></span>

* <span data-ttu-id="0987a-695">Resources/Views/Home/About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-695">Resources/Views/Home/About.fr.resx</span></span>

* <span data-ttu-id="0987a-696">Resources/Views.Home.About.fr.resx</span><span class="sxs-lookup"><span data-stu-id="0987a-696">Resources/Views.Home.About.fr.resx</span></span>

<span data-ttu-id="0987a-697">Wenn Sie nicht die Option `ResourcesPath` verwenden, befindet sich die *RESX*-Datei für eine Ansicht im selben Ordner wie die Ansicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-697">If you don't use the `ResourcesPath` option, the *.resx* file for a view would be located in the same folder as the view.</span></span>

### <a name="rootnamespaceattribute"></a><span data-ttu-id="0987a-698">RootNamespaceAttribute</span><span class="sxs-lookup"><span data-stu-id="0987a-698">RootNamespaceAttribute</span></span> 

<span data-ttu-id="0987a-699">Das [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1)-Attribut stellt den Stammnamespace einer Assembly bereit, wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="0987a-699">The [RootNamespace](/dotnet/api/microsoft.extensions.localization.rootnamespaceattribute?view=aspnetcore-2.1) attribute provides the root namespace of an assembly when the root namespace of an assembly is different than the assembly name.</span></span> 

> [!WARNING]
> <span data-ttu-id="0987a-700">Dies kann vorkommen, wenn der Name eines Projekts kein gültiger .NET-Bezeichner ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-700">This can occur when a project's name is not a valid .NET identifier.</span></span> <span data-ttu-id="0987a-701">Beispielsweise verwendet `my-project-name.csproj` den Stammnamespace `my_project_name` und den Assemblynamen `my-project-name`, der zu diesem Fehler führt.</span><span class="sxs-lookup"><span data-stu-id="0987a-701">For instance `my-project-name.csproj` will use the root namespace `my_project_name` and the assembly name `my-project-name` leading to this error.</span></span> 

<span data-ttu-id="0987a-702">Wenn der Stammnamespace einer Assembly sich vom Assemblynamen unterscheidet, dann geschieht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="0987a-702">If the root namespace of an assembly is different than the assembly name:</span></span>

* <span data-ttu-id="0987a-703">Die Lokalisierung funktioniert standardmäßig nicht.</span><span class="sxs-lookup"><span data-stu-id="0987a-703">Localization does not work by default.</span></span>
* <span data-ttu-id="0987a-704">Die Lokalisierung schlägt aufgrund der Art und Weise, wie nach Ressourcen innerhalb der Assembly gesucht wird, fehl.</span><span class="sxs-lookup"><span data-stu-id="0987a-704">Localization fails due to the way resources are searched for within the assembly.</span></span> <span data-ttu-id="0987a-705">`RootNamespace` ist ein Buildzeitwert, der für den ausgeführten Prozess nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-705">`RootNamespace` is a build-time value which is not available to the executing process.</span></span> 

<span data-ttu-id="0987a-706">Wenn sich `RootNamespace` vom `AssemblyName` unterscheidet, schließen Sie Folgendes in *AssemblyInfo.cs* ein (mit den durch die aktuellen Werte ersetzten Parameterwerten):</span><span class="sxs-lookup"><span data-stu-id="0987a-706">If the `RootNamespace` is different from the `AssemblyName`, include the following in *AssemblyInfo.cs* (with parameter values replaced with the actual values):</span></span>

```csharp
using System.Reflection;
using Microsoft.Extensions.Localization;

[assembly: ResourceLocation("Resource Folder Name")]
[assembly: RootNamespace("App Root Namespace")]
```

<span data-ttu-id="0987a-707">Der vorangehende Code ermöglicht die erfolgreiche Auflösung von RESX-Dateien.</span><span class="sxs-lookup"><span data-stu-id="0987a-707">The preceding code enables the successful resolution of resx files.</span></span>

## <a name="culture-fallback-behavior"></a><span data-ttu-id="0987a-708">Kulturfallbackverhalten</span><span class="sxs-lookup"><span data-stu-id="0987a-708">Culture fallback behavior</span></span>

<span data-ttu-id="0987a-709">Bei der Suche nach einer Ressource initiiert die Lokalisierung „Kulturfallbackverhalten“.</span><span class="sxs-lookup"><span data-stu-id="0987a-709">When searching for a resource, localization engages in "culture fallback".</span></span> <span data-ttu-id="0987a-710">Wenn die angeforderte Kultur nicht gefunden wird, setzt sie diese Kultur auf die übergeordnete Kultur zurück.</span><span class="sxs-lookup"><span data-stu-id="0987a-710">Starting from the requested culture, if not found, it reverts to the parent culture of that culture.</span></span> <span data-ttu-id="0987a-711">Die Eigenschaft [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) stellt übrigens die übergeordnete Kultur dar.</span><span class="sxs-lookup"><span data-stu-id="0987a-711">As an aside, the [CultureInfo.Parent](/dotnet/api/system.globalization.cultureinfo.parent) property represents the parent culture.</span></span> <span data-ttu-id="0987a-712">Das bedeutet in der Regel (aber nicht immer), dass der nationale Bezeichner aus der ISO entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-712">This usually (but not always) means removing the national signifier from the ISO.</span></span> <span data-ttu-id="0987a-713">Beispielsweise ist der in Mexiko gesprochene spanische Sprache „es-MX“.</span><span class="sxs-lookup"><span data-stu-id="0987a-713">For example, the dialect of Spanish spoken in Mexico is "es-MX".</span></span> <span data-ttu-id="0987a-714">„es“&mdash;Spanisch ist das übergeordnete Element und bezieht sich nicht auf ein einzelnes Land.</span><span class="sxs-lookup"><span data-stu-id="0987a-714">It has the parent "es"&mdash;Spanish non-specific to any country.</span></span>

<span data-ttu-id="0987a-715">Nehmen Sie an, dass Ihre Website eine Anforderung für eine Willkommensressource mit der Kultur „fr-CA“ erhält.</span><span class="sxs-lookup"><span data-stu-id="0987a-715">Imagine your site receives a request for a "Welcome" resource using culture "fr-CA".</span></span> <span data-ttu-id="0987a-716">Das Lokalisierungssystem sucht der Reihenfolge nach nach der folgenden Ressource und wählt die erste Übereinstimmung aus:</span><span class="sxs-lookup"><span data-stu-id="0987a-716">The localization system looks for the following resources, in order, and selects the first match:</span></span>

* <span data-ttu-id="0987a-717">*Welcome.fr-CA.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-717">*Welcome.fr-CA.resx*</span></span>
* <span data-ttu-id="0987a-718">*Welcome.fr.resx*</span><span class="sxs-lookup"><span data-stu-id="0987a-718">*Welcome.fr.resx*</span></span>
* <span data-ttu-id="0987a-719">*Welcome.resx* (wenn `NeutralResourcesLanguage` „fr-CA“ ist)</span><span class="sxs-lookup"><span data-stu-id="0987a-719">*Welcome.resx* (if the `NeutralResourcesLanguage` is "fr-CA")</span></span>

<span data-ttu-id="0987a-720">Wenn Sie beispielsweise den Kulturkennzeichner „.fr“ entfernen und die Kultur auf „Französisch“ festgelegt ist, wird die Standardressourcendatei gelesen, und Zeichenfolgen werden lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="0987a-720">As an example, if you remove the ".fr" culture designator and you have the culture set to French, the default resource file is read and strings are localized.</span></span> <span data-ttu-id="0987a-721">Der Ressourcen-Manager kennzeichnet eine Standard- oder Fallbackressource, wenn keine Entsprechung für die angeforderte Kultur gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-721">The Resource manager designates a default or fallback resource for when nothing meets your requested culture.</span></span> <span data-ttu-id="0987a-722">Wenn Sie nur den Schlüssel zurückgeben möchten, während eine Ressource für die angefragte Kultur fehlt, darf keine Standardressourcendatei festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="0987a-722">If you want to just return the key when missing a resource for the requested culture you must not have a default resource file.</span></span>

### <a name="generate-resource-files-with-visual-studio"></a><span data-ttu-id="0987a-723">Erstellen von Ressourcendateien mit Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0987a-723">Generate resource files with Visual Studio</span></span>

<span data-ttu-id="0987a-724">Wenn Sie eine Ressourcendatei in Visual Studio erstellen, ohne eine Kultur im Dateinamen (z.B. *Welcome.resx*) festzulegen, erstellt Visual Studio eine C#-Klasse mit einer Eigenschaft für jede Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="0987a-724">If you create a resource file in Visual Studio without a culture in the file name (for example, *Welcome.resx*), Visual Studio will create a C# class with a property for each string.</span></span> <span data-ttu-id="0987a-725">Das ist in der Regel nicht das, was Sie mit ASP.NET Core erreichen wollen.</span><span class="sxs-lookup"><span data-stu-id="0987a-725">That's usually not what you want with ASP.NET Core.</span></span> <span data-ttu-id="0987a-726">In der Regel gibt es keine Standard-*RESX*-Ressourcendatei (eine *RESX*-Datei ohne den Kulturnamen).</span><span class="sxs-lookup"><span data-stu-id="0987a-726">You typically don't have a default *.resx* resource file (a *.resx* file without the culture name).</span></span> <span data-ttu-id="0987a-727">Es wird empfohlen, dass Sie eine *RESX*-Datei mit einem Kulturnamen erstellen (z.B. *Welcome.fr.resx*).</span><span class="sxs-lookup"><span data-stu-id="0987a-727">We suggest you create the *.resx* file with a culture name (for example *Welcome.fr.resx*).</span></span> <span data-ttu-id="0987a-728">Wenn Sie eine *RESX*-Datei mit einem Kulturnamen erstellen, erstellt Visual Studio keine Klassendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-728">When you create a *.resx* file with a culture name, Visual Studio won't generate the class file.</span></span>

### <a name="add-other-cultures"></a><span data-ttu-id="0987a-729">Hinzufügen von anderen Kulturen</span><span class="sxs-lookup"><span data-stu-id="0987a-729">Add other cultures</span></span>

<span data-ttu-id="0987a-730">Jede Kombination von Sprache und Kultur (mit Ausnahme der Standardsprache) erfordert eine eindeutige Ressourcendatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-730">Each language and culture combination (other than the default language) requires a unique resource file.</span></span> <span data-ttu-id="0987a-731">Sie erstellen Ressourcendateien für verschiedene Kulturen und Gebietsschemas, indem Sie neue Ressourcendateien erstellen, in denen ISO-Sprachcodes im Dateinamen enthalten sind (z.B. **en-us** **fr-ca**, und **en-gb**).</span><span class="sxs-lookup"><span data-stu-id="0987a-731">You create resource files for different cultures and locales by creating new resource files in which the ISO language codes are part of the file name (for example, **en-us**, **fr-ca**, and **en-gb**).</span></span> <span data-ttu-id="0987a-732">Diese ISO-Codes werden zwischen dem Dateinamen und der Erweiterung *.resx* platziert, z.B. *Welcome.es-MX.resx* (Spanisch/Mexiko).</span><span class="sxs-lookup"><span data-stu-id="0987a-732">These ISO codes are placed between the file name and the *.resx* file extension, as in *Welcome.es-MX.resx* (Spanish/Mexico).</span></span>

## <a name="implement-a-strategy-to-select-the-languageculture-for-each-request"></a><span data-ttu-id="0987a-733">Implementieren Sie eine Strategie zum Auswählen der Sprache bzw. Kultur für jede Anforderung.</span><span class="sxs-lookup"><span data-stu-id="0987a-733">Implement a strategy to select the language/culture for each request</span></span>

### <a name="configure-localization"></a><span data-ttu-id="0987a-734">Konfigurieren der Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-734">Configure localization</span></span>

<span data-ttu-id="0987a-735">Die Lokalisierung wird über die Methode `Startup.ConfigureServices` konfiguriert:</span><span class="sxs-lookup"><span data-stu-id="0987a-735">Localization is configured in the `Startup.ConfigureServices` method:</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet1)]

* <span data-ttu-id="0987a-736">`AddLocalization` fügt die Lokalisierungsdienste dem Dienstcontainer hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-736">`AddLocalization` adds the localization services to the services container.</span></span> <span data-ttu-id="0987a-737">Im obigen Codebeispiel wird der Ressourcenpfad auf „Resources“ festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-737">The code above also sets the resources path to "Resources".</span></span>

* <span data-ttu-id="0987a-738">`AddViewLocalization` fügt Unterstützung für lokalisierte Ansichtsdateien hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-738">`AddViewLocalization` adds support for localized view files.</span></span> <span data-ttu-id="0987a-739">In diesem Beispiel basiert die Lokalisierung der Ansicht auf dem Suffix der Ansichtsdatei.</span><span class="sxs-lookup"><span data-stu-id="0987a-739">In this sample view localization is based on the view file suffix.</span></span> <span data-ttu-id="0987a-740">Zum Beispiel „fr“ in der Datei *Index.fr.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="0987a-740">For example "fr" in the *Index.fr.cshtml* file.</span></span>

* <span data-ttu-id="0987a-741">`AddDataAnnotationsLocalization` fügt Unterstützung für lokalisierte `DataAnnotations`-Validierungsmeldungen durch Abstraktionen von `IStringLocalizer` hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-741">`AddDataAnnotationsLocalization` adds support for localized `DataAnnotations` validation messages through `IStringLocalizer` abstractions.</span></span>

### <a name="localization-middleware"></a><span data-ttu-id="0987a-742">Lokalisierungsmiddleware</span><span class="sxs-lookup"><span data-stu-id="0987a-742">Localization middleware</span></span>

<span data-ttu-id="0987a-743">Die aktuell angefragte Kultur wird in der [Middleware](xref:fundamentals/middleware/index) für die Lokalisierung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0987a-743">The current culture on a request is set in the localization [Middleware](xref:fundamentals/middleware/index).</span></span> <span data-ttu-id="0987a-744">Die Middleware für die Lokalisierung wird in der `Startup.Configure`-Methode aktiviert.</span><span class="sxs-lookup"><span data-stu-id="0987a-744">The localization middleware is enabled in the `Startup.Configure` method.</span></span> <span data-ttu-id="0987a-745">Die Lokalisierungsmiddleware muss vor Middleware konfiguriert werden, die möglicherweise die Anforderungskultur prüft (z.B. `app.UseMvcWithDefaultRoute()`).</span><span class="sxs-lookup"><span data-stu-id="0987a-745">The localization middleware must be configured before any middleware which might check the request culture (for example, `app.UseMvcWithDefaultRoute()`).</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Startup.cs?name=snippet2)]

[!INCLUDE[about the series](~/includes/code-comments-loc.md)]

<span data-ttu-id="0987a-746">`UseRequestLocalization` initialisiert ein `RequestLocalizationOptions`-Objekt.</span><span class="sxs-lookup"><span data-stu-id="0987a-746">`UseRequestLocalization` initializes a `RequestLocalizationOptions` object.</span></span> <span data-ttu-id="0987a-747">Bei jeder Anforderung wird die Liste von `RequestCultureProvider` in `RequestLocalizationOptions` aufgelistet und der erste Anbieter, der erfolgreich die Anforderungskultur bestimmen kann, wird verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-747">On every request the list of `RequestCultureProvider` in the `RequestLocalizationOptions` is enumerated and the first provider that can successfully determine the request culture is used.</span></span> <span data-ttu-id="0987a-748">Die Standardanbieter stammen aus der Klasse `RequestLocalizationOptions`:</span><span class="sxs-lookup"><span data-stu-id="0987a-748">The default providers come from the `RequestLocalizationOptions` class:</span></span>

1. `QueryStringRequestCultureProvider`
1. `CookieRequestCultureProvider`
1. `AcceptLanguageHeaderRequestCultureProvider`

<span data-ttu-id="0987a-749">Die Reihenfolge der Standardliste fängt bei den spezifischsten Anbietern an und endet mit den allgemeinsten.</span><span class="sxs-lookup"><span data-stu-id="0987a-749">The default list goes from most specific to least specific.</span></span> <span data-ttu-id="0987a-750">Im Verlauf des Artikels erfahren Sie, wie Sie die Reihenfolge ändern und einen benutzerdefinierten Kulturanbieter hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-750">Later in the article we'll see how you can change the order and even add a custom culture provider.</span></span> <span data-ttu-id="0987a-751">Wenn kein Anbieter die Anforderungskultur bestimmen kann, wird `DefaultRequestCulture` verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-751">If none of the providers can determine the request culture, the `DefaultRequestCulture` is used.</span></span>

### <a name="querystringrequestcultureprovider"></a><span data-ttu-id="0987a-752">QueryStringRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-752">QueryStringRequestCultureProvider</span></span>

<span data-ttu-id="0987a-753">Einige Apps verwenden eine Abfragezeichenfolge, um die <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1> festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0987a-753">Some apps will use a query string to set the <https://docs.microsoft.com/dotnet/api/system.globalization.cultureinfo?view=netcore-3.1>.</span></span> <span data-ttu-id="0987a-754">Bei Apps, die die Ansätze cookie oder Accept-Language-Header verwenden, ist das Hinzufügen einer Abfragezeichenfolge zur URL für das Debuggen und Testen von Code nützlich.</span><span class="sxs-lookup"><span data-stu-id="0987a-754">For apps that use the cookie or Accept-Language header approach, adding a query string to the URL is useful for debugging and testing code.</span></span> <span data-ttu-id="0987a-755">Standardmäßig ist `QueryStringRequestCultureProvider` als erster Lokalisierungsanbieter in der Liste `RequestCultureProvider` registriert.</span><span class="sxs-lookup"><span data-stu-id="0987a-755">By default, the `QueryStringRequestCultureProvider` is registered as the first localization provider in the `RequestCultureProvider` list.</span></span> <span data-ttu-id="0987a-756">Sie übergeben die Abfragezeichenfolge-Parameter `culture` und `ui-culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-756">You pass the query string parameters `culture` and `ui-culture`.</span></span> <span data-ttu-id="0987a-757">Im folgenden Beispiel ist die spezifische Kultur (Sprache und Region) auf Spanisch/Mexiko festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-757">The following example sets the specific culture (language and region) to Spanish/Mexico:</span></span>

```
http://localhost:5000/?culture=es-MX&ui-culture=es-MX
```

<span data-ttu-id="0987a-758">Wenn Sie nur eine der beiden Abfragezeichenfolgen (`culture` oder `ui-culture`) übergeben, setzt der Anbieter für Abfragezeichenfolgen beide Werte entsprechend der übergebenen Abfrage fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-758">If you only pass in one of the two (`culture` or `ui-culture`), the query string provider will set both values using the one you passed in.</span></span> <span data-ttu-id="0987a-759">Wenn beispielsweise nur die Kultur festgelegt wird, werden sowohl `Culture` als auch `UICulture` wie folgt festgelegt:</span><span class="sxs-lookup"><span data-stu-id="0987a-759">For example, setting just the culture will set both the `Culture` and the `UICulture`:</span></span>

```
http://localhost:5000/?culture=es-MX
```

### <a name="no-loccookierequestcultureprovider"></a><span data-ttu-id="0987a-760">CookieRequestCultureProvider</span><span class="sxs-lookup"><span data-stu-id="0987a-760">CookieRequestCultureProvider</span></span>

<span data-ttu-id="0987a-761">Produktions-Apps bieten oft einen Mechanismus zum Festlegen der Kultur mithilfe des ASP.NET Core-Kulturcookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-761">Production apps will often provide a mechanism to set the culture with the ASP.NET Core culture cookie.</span></span> <span data-ttu-id="0987a-762">Verwenden Sie die Methode `MakeCookieValue` zum Erstellen eines cookies.</span><span class="sxs-lookup"><span data-stu-id="0987a-762">Use the `MakeCookieValue` method to create a cookie.</span></span>

<span data-ttu-id="0987a-763">`CookieRequestCultureProvider` `DefaultCookieName` gibt den Standardcookienamen zurück, mit dem ermittelt wird, welche Kulturinformationen der Benutzer bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="0987a-763">The `CookieRequestCultureProvider` `DefaultCookieName` returns the default cookie name used to track the user's preferred culture information.</span></span> <span data-ttu-id="0987a-764">Der Standardcookiename lautet `.AspNetCore.Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-764">The default cookie name is `.AspNetCore.Culture`.</span></span>

<span data-ttu-id="0987a-765">Das cookieformat ist `c=%LANGCODE%|uic=%LANGCODE%`, wobei `c` für `Culture` steht und `uic` für `UICulture`, zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="0987a-765">The cookie format is `c=%LANGCODE%|uic=%LANGCODE%`, where `c` is `Culture` and `uic` is `UICulture`, for example:</span></span>

```
c=en-UK|uic=en-US
```

<span data-ttu-id="0987a-766">Wenn Sie nur eine Kulturinformation und eine Benutzeroberflächenkultur angeben, wird die angegebene Kultur sowohl für die Kulturinformation als auch die Benutzeroberflächenkultur verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-766">If you only specify one of culture info and UI culture, the specified culture will be used for both culture info and UI culture.</span></span>

### <a name="the-accept-language-http-header"></a><span data-ttu-id="0987a-767">Der Accept-Language-HTTP-Header</span><span class="sxs-lookup"><span data-stu-id="0987a-767">The Accept-Language HTTP header</span></span>

<span data-ttu-id="0987a-768">Der [Accept-Language-Header](https://www.w3.org/International/questions/qa-accept-lang-locales) ist in den meisten Browsern konfigurierbar und war ursprünglich dafür gedacht, die Sprache des Benutzers anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0987a-768">The [Accept-Language header](https://www.w3.org/International/questions/qa-accept-lang-locales) is settable in most browsers and was originally intended to specify the user's language.</span></span> <span data-ttu-id="0987a-769">Diese Einstellung gibt an, was im Browser zum Senden festgelegt ist oder vom zugrunde liegenden Betriebssystem geerbt wurde.</span><span class="sxs-lookup"><span data-stu-id="0987a-769">This setting indicates what the browser has been set to send or has inherited from the underlying operating system.</span></span> <span data-ttu-id="0987a-770">Der Accept-Language-HTTP-Header einer Browseranfrage ist keine unfehlbare Methode zum Erkennen der bevorzugten Sprache des Benutzers (siehe [Setting language preferences in a browser (Festlegen der bevorzugten Sprache in einem Browser)](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span><span class="sxs-lookup"><span data-stu-id="0987a-770">The Accept-Language HTTP header from a browser request isn't an infallible way to detect the user's preferred language (see [Setting language preferences in a browser](https://www.w3.org/International/questions/qa-lang-priorities.en.php)).</span></span> <span data-ttu-id="0987a-771">In einer Produktions-App sollten Benutzer die Möglichkeit haben, ihre bevorzugte Kultur anzupassen.</span><span class="sxs-lookup"><span data-stu-id="0987a-771">A production app should include a way for a user to customize their choice of culture.</span></span>

### <a name="set-the-accept-language-http-header-in-ie"></a><span data-ttu-id="0987a-772">Festlegen des Accept-Language-HTTP-Headers in Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="0987a-772">Set the Accept-Language HTTP header in IE</span></span>

1. <span data-ttu-id="0987a-773">Klicken Sie auf das Zahnradsymbol und dann auf **Internetoptionen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-773">From the gear icon, tap **Internet Options**.</span></span>

1. <span data-ttu-id="0987a-774">Klicken Sie auf **Sprachen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-774">Tap **Languages**.</span></span>

   ![Internetoptionen](localization/_static/lang.png)

1. <span data-ttu-id="0987a-776">Klicken Sie auf **Spracheinstellungen festlegen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-776">Tap **Set Language Preferences**.</span></span>

1. <span data-ttu-id="0987a-777">Klicken Sie auf **Sprache hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="0987a-777">Tap **Add a language**.</span></span>

1. <span data-ttu-id="0987a-778">Fügen Sie die Sprache hinzu.</span><span class="sxs-lookup"><span data-stu-id="0987a-778">Add the language.</span></span>

1. <span data-ttu-id="0987a-779">Klicken Sie auf die Sprache und dann auf **Nach oben**.</span><span class="sxs-lookup"><span data-stu-id="0987a-779">Tap the language, then tap **Move Up**.</span></span>

### <a name="the-content-language-http-header"></a><span data-ttu-id="0987a-780">Der Content-Language-HTTP-Header</span><span class="sxs-lookup"><span data-stu-id="0987a-780">The Content-Language HTTP header</span></span>

<span data-ttu-id="0987a-781">Der [Content-Language](https://developer.mozilla.org/docs/Web/HTTP/Headers/Content-Language)-Entitätsheader:</span><span class="sxs-lookup"><span data-stu-id="0987a-781">The [Content-Language](https://developer.mozilla.org/docs/Web/HTTP/Headers/Content-Language) entity header:</span></span>

* <span data-ttu-id="0987a-782">Wird verwendet, um die für die Zielgruppe vorgesehenen Sprachen zu beschreiben.</span><span class="sxs-lookup"><span data-stu-id="0987a-782">Is used to describe the language(s) intended for the audience.</span></span>
* <span data-ttu-id="0987a-783">Ermöglicht einem Benutzer, gemäß seiner bevorzugten Sprache zu differenzieren.</span><span class="sxs-lookup"><span data-stu-id="0987a-783">Allows a user to differentiate according to the users' own preferred language.</span></span>

<span data-ttu-id="0987a-784">Entitätsheader werden in HTTP-Anforderungen und -Antworten verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-784">Entity headers are used in both HTTP requests and responses.</span></span>

<span data-ttu-id="0987a-785">Der `Content-Language`-Header kann durch Festlegen der Eigenschaft `ApplyCurrentCultureToResponseHeaders` hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="0987a-785">The `Content-Language` header can be added by setting the property `ApplyCurrentCultureToResponseHeaders`.</span></span>

<span data-ttu-id="0987a-786">Hinzufügen des `Content-Language`-Headers:</span><span class="sxs-lookup"><span data-stu-id="0987a-786">Adding the `Content-Language` header:</span></span>

* <span data-ttu-id="0987a-787">Ermöglicht RequestLocalizationMiddleware, den `Content-Language`-Header mit der `CurrentUICulture` festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0987a-787">Allows the RequestLocalizationMiddleware to set the `Content-Language` header with the `CurrentUICulture`.</span></span>
* <span data-ttu-id="0987a-788">Macht das explizite Festlegen des `Content-Language`-Antwortheaders überflüssig.</span><span class="sxs-lookup"><span data-stu-id="0987a-788">Eliminates the need to set the response header `Content-Language` explicitly.</span></span>

```csharp
app.UseRequestLocalization(new RequestLocalizationOptions
{
    ApplyCurrentCultureToResponseHeaders = true
});
```

### <a name="use-a-custom-provider"></a><span data-ttu-id="0987a-789">Verwenden eines benutzerdefinierten Anbieters</span><span class="sxs-lookup"><span data-stu-id="0987a-789">Use a custom provider</span></span>

<span data-ttu-id="0987a-790">Angenommen, Sie möchten Ihren Kunden das Speichern ihrer Sprache und Kultur in Ihren Datenbanken ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="0987a-790">Suppose you want to let your customers store their language and culture in your databases.</span></span> <span data-ttu-id="0987a-791">In diesem Fall können Sie einen Anbieter codieren, der diese Werte für den Benutzer abruft.</span><span class="sxs-lookup"><span data-stu-id="0987a-791">You could write a provider to look up these values for the user.</span></span> <span data-ttu-id="0987a-792">Im folgenden Codebeispiel wird veranschaulicht, wie Sie einen benutzerdefinierten Anbieter hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="0987a-792">The following code shows how to add a custom provider:</span></span>

```csharp
private const string enUSCulture = "en-US";

services.Configure<RequestLocalizationOptions>(options =>
{
    var supportedCultures = new[]
    {
        new CultureInfo(enUSCulture),
        new CultureInfo("fr")
    };

    options.DefaultRequestCulture = new RequestCulture(culture: enUSCulture, uiCulture: enUSCulture);
    options.SupportedCultures = supportedCultures;
    options.SupportedUICultures = supportedCultures;

    options.AddInitialRequestCultureProvider(new CustomRequestCultureProvider(async context =>
    {
        // My custom request culture logic
        return new ProviderCultureResult("en");
    }));
});
```

<span data-ttu-id="0987a-793">Verwenden Sie `RequestLocalizationOptions`, um Lokalisierungsanbieter hinzuzufügen oder zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="0987a-793">Use `RequestLocalizationOptions` to add or remove localization providers.</span></span>

### <a name="set-the-culture-programmatically"></a><span data-ttu-id="0987a-794">Programmgesteuertes Festlegen der Kultur</span><span class="sxs-lookup"><span data-stu-id="0987a-794">Set the culture programmatically</span></span>

<span data-ttu-id="0987a-795">Das Beispielprojekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält eine Benutzeroberfläche zum Festlegen von `Culture`.</span><span class="sxs-lookup"><span data-stu-id="0987a-795">This sample **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) contains UI to set the `Culture`.</span></span> <span data-ttu-id="0987a-796">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* ermöglicht Ihnen das Auswählen der Kultur aus der Liste von unterstützten Kulturen:</span><span class="sxs-lookup"><span data-stu-id="0987a-796">The *Views/Shared/_SelectLanguagePartial.cshtml* file allows you to select the culture from the list of supported cultures:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_SelectLanguagePartial.cshtml)]

<span data-ttu-id="0987a-797">Die Datei *Views/Shared/_SelectLanguagePartial.cshtml* wird dem Abschnitt `footer` der Layoutdatei hinzugefügt, damit sie für alle Ansichten verfügbar ist:</span><span class="sxs-lookup"><span data-stu-id="0987a-797">The *Views/Shared/_SelectLanguagePartial.cshtml* file is added to the `footer` section of the layout file so it will be available to all views:</span></span>

[!code-cshtml[](localization/sample/3.x/Localization/Views/Shared/_Layout.cshtml?range=43-56&highlight=10)]

<span data-ttu-id="0987a-798">Die Methode `SetLanguage` legt das Kulturcookie fest.</span><span class="sxs-lookup"><span data-stu-id="0987a-798">The `SetLanguage` method sets the culture cookie.</span></span>

[!code-csharp[](localization/sample/3.x/Localization/Controllers/HomeController.cs?range=57-67)]

<span data-ttu-id="0987a-799">Sie können *_SelectLanguagePartial.cshtml* dem Beispielcode für dieses Projekt nicht hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0987a-799">You can't plug in the *_SelectLanguagePartial.cshtml* to sample code for this project.</span></span> <span data-ttu-id="0987a-800">Das Projekt **Localization.StarterWeb** auf [GitHub](https://github.com/aspnet/entropy) enthält Code, der `RequestLocalizationOptions` durch den Container von [Dependency Injection](dependency-injection.md) an eineRazor-Teilansicht übermittelt.</span><span class="sxs-lookup"><span data-stu-id="0987a-800">The **Localization.StarterWeb** project on [GitHub](https://github.com/aspnet/entropy) has code to flow the `RequestLocalizationOptions` to a Razor partial through the [Dependency Injection](dependency-injection.md) container.</span></span>

## <a name="model-binding-route-data-and-query-strings"></a><span data-ttu-id="0987a-801">Routendaten und Abfragezeichenfolgen für die Modellbindung</span><span class="sxs-lookup"><span data-stu-id="0987a-801">Model binding route data and query strings</span></span>

<span data-ttu-id="0987a-802">Weitere Informationen finden Sie unter [Globalisierungsverhalten der Routendaten und Abfragezeichenfolgen für die Modellbindung](xref:mvc/models/model-binding#glob).</span><span class="sxs-lookup"><span data-stu-id="0987a-802">See [Globalization behavior of model binding route data and query strings](xref:mvc/models/model-binding#glob).</span></span>

## <a name="globalization-and-localization-terms"></a><span data-ttu-id="0987a-803">Begriffe für die Globalisierung und Lokalisierung</span><span class="sxs-lookup"><span data-stu-id="0987a-803">Globalization and localization terms</span></span>

<span data-ttu-id="0987a-804">Der Lokalisierungsprozess für Ihre App erfordert ein grundlegendes Verständnis von relevanten Zeichensätzen, die häufig in der modernen Softwareentwicklung verwendet werden, und von den Problemen, die mit ihnen zusammenhängen.</span><span class="sxs-lookup"><span data-stu-id="0987a-804">The process of localizing your app also requires a basic understanding of relevant character sets commonly used in modern software development and an understanding of the issues associated with them.</span></span> <span data-ttu-id="0987a-805">Obwohl alle Computer Text als Zahlen (Codes) speichern, speichern verschiedene Systeme denselben Text mit anderen Zahlen.</span><span class="sxs-lookup"><span data-stu-id="0987a-805">Although all computers store text as numbers (codes), different systems store the same text using different numbers.</span></span> <span data-ttu-id="0987a-806">Der Lokalisierungsprozess bezieht sich auf das Übersetzen der Benutzeroberfläche (UI) der App für eine spezifische Kultur bzw. ein bestimmtes Gebietsschema.</span><span class="sxs-lookup"><span data-stu-id="0987a-806">The localization process refers to translating the app user interface (UI) for a specific culture/locale.</span></span>

<span data-ttu-id="0987a-807">[Lokalisierbarkeit](/dotnet/standard/globalization-localization/localizability-review) ist ein Zwischenschritt zum Überprüfen, ob eine globalisierte App bereit für die Lokalisierung ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-807">[Localizability](/dotnet/standard/globalization-localization/localizability-review) is an intermediate process for verifying that a globalized app is ready for localization.</span></span>

<span data-ttu-id="0987a-808">Das Format [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) für den Kulturnamen ist `<languagecode2>-<country/regioncode2>`, wobei `<languagecode2>` der Sprachcode und `<country/regioncode2>` der Unterkulturcode.</span><span class="sxs-lookup"><span data-stu-id="0987a-808">The [RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) format for the culture name is `<languagecode2>-<country/regioncode2>`, where `<languagecode2>` is the language code and `<country/regioncode2>` is the subculture code.</span></span> <span data-ttu-id="0987a-809">Zum Beispiel steht `es-CL` für Spanisch (Chile), `en-US` für Englisch (USA) und `en-AU` für Englisch (Australien).</span><span class="sxs-lookup"><span data-stu-id="0987a-809">For example, `es-CL` for Spanish (Chile), `en-US` for English (United States), and `en-AU` for English (Australia).</span></span> <span data-ttu-id="0987a-810">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) ist eine Kombination der ISO 639, bei der zwei Kleinbuchstaben den Kulturcode beschreiben, der einer Sprache zugeordnet ist, und der ISO 3166, bei der zwei Großbuchstaben den Unterkulturcode beschreiben, der einem Land oder einer Region zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="0987a-810">[RFC 4646](https://www.ietf.org/rfc/rfc4646.txt) is a combination of an ISO 639 two-letter lowercase culture code associated with a language and an ISO 3166 two-letter uppercase subculture code associated with a country or region.</span></span> <span data-ttu-id="0987a-811">Siehe <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span><span class="sxs-lookup"><span data-stu-id="0987a-811">See <https://docs.microsoft.com/previous-versions/commerce-server/ee825488(v=cs.20)>.</span></span>

<span data-ttu-id="0987a-812">Die Internationalisierung (Internationalization) wird oft mit „I18N“ abgekürzt.</span><span class="sxs-lookup"><span data-stu-id="0987a-812">Internationalization is often abbreviated to "I18N".</span></span> <span data-ttu-id="0987a-813">Diese Abkürzung verwendet den ersten und den letzten Buchstaben und die Anzahl der dazwischen liegenden Buchstaben, 18 steht also für die Menge der Buchstaben zwischen dem ersten „I“ und dem letzten „N“.</span><span class="sxs-lookup"><span data-stu-id="0987a-813">The abbreviation takes the first and last letters and the number of letters between them, so 18 stands for the number of letters between the first "I" and the last "N".</span></span> <span data-ttu-id="0987a-814">Das gleiche gilt für Globalisierung (Globalization, G11N) und Lokalisierung (Localization, L10N).</span><span class="sxs-lookup"><span data-stu-id="0987a-814">The same applies to Globalization (G11N), and Localization (L10N).</span></span>

<span data-ttu-id="0987a-815">Begriffe:</span><span class="sxs-lookup"><span data-stu-id="0987a-815">Terms:</span></span>

* <span data-ttu-id="0987a-816">Globalisierung (G11N): Der Prozess, durch den eine App mehrere Sprachen und Regionen unterstützen soll.</span><span class="sxs-lookup"><span data-stu-id="0987a-816">Globalization (G11N): The process of making an app support different languages and regions.</span></span>
* <span data-ttu-id="0987a-817">Lokalisierung (L10N): Der Prozess, durch den eine App auf eine Sprache und Region angepasst wird.</span><span class="sxs-lookup"><span data-stu-id="0987a-817">Localization (L10N): The process of customizing an app for a given language and region.</span></span>
* <span data-ttu-id="0987a-818">Internationalisierung (I18N): Beschreibt sowohl Globalisierung als auch Lokalisierung.</span><span class="sxs-lookup"><span data-stu-id="0987a-818">Internationalization (I18N): Describes both globalization and localization.</span></span>
* <span data-ttu-id="0987a-819">Kultur: Beschreibt eine Sprache und optional auch eine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-819">Culture: It's a language and, optionally, a region.</span></span>
* <span data-ttu-id="0987a-820">Neutrale Kultur: Eine Kultur, die eine bestimmte Sprache beschreibt, aber keine Region.</span><span class="sxs-lookup"><span data-stu-id="0987a-820">Neutral culture: A culture that has a specified language, but not a region.</span></span> <span data-ttu-id="0987a-821">(Zum Beispiel „en“, „es“)</span><span class="sxs-lookup"><span data-stu-id="0987a-821">(for example "en", "es")</span></span>
* <span data-ttu-id="0987a-822">Spezifische Kultur: Eine Kultur, die eine bestimmte Sprache und Region beschreibt.</span><span class="sxs-lookup"><span data-stu-id="0987a-822">Specific culture: A culture that has a specified language and region.</span></span> <span data-ttu-id="0987a-823">(Zum Beispiel „en-US“, „en-GB“, „es-CL“)</span><span class="sxs-lookup"><span data-stu-id="0987a-823">(for example "en-US", "en-GB", "es-CL")</span></span>
* <span data-ttu-id="0987a-824">Übergeordnete Kultur: Eine neutrale Kultur, die eine spezifische Kultur enthält.</span><span class="sxs-lookup"><span data-stu-id="0987a-824">Parent culture: The neutral culture that contains a specific culture.</span></span> <span data-ttu-id="0987a-825">(„en“ ist z.B. die übergeordnete Kultur von „en-US“ und „en-GB“)</span><span class="sxs-lookup"><span data-stu-id="0987a-825">(for example, "en" is the parent culture of "en-US" and "en-GB")</span></span>
* <span data-ttu-id="0987a-826">Gebietsschema: Ein Gebietsschema ist identisch mit einer Kultur.</span><span class="sxs-lookup"><span data-stu-id="0987a-826">Locale: A locale is the same as a culture.</span></span>

[!INCLUDE[](~/includes/localization/currency.md)]

[!INCLUDE[](~/includes/localization/unsupported-culture-log-level.md)]

## <a name="additional-resources"></a><span data-ttu-id="0987a-827">Zusätzliche Ressourcen</span><span class="sxs-lookup"><span data-stu-id="0987a-827">Additional resources</span></span>

* <xref:fundamentals/troubleshoot-aspnet-core-localization>
* <span data-ttu-id="0987a-828">[Localization.StarterWeb-Projekt](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) wird im Artikel verwendet.</span><span class="sxs-lookup"><span data-stu-id="0987a-828">[Localization.StarterWeb project](https://github.com/aspnet/Entropy/tree/master/samples/Localization.StarterWeb) used in the article.</span></span>
* [<span data-ttu-id="0987a-829">Globalisieren und Lokalisieren von .NET-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="0987a-829">Globalizing and localizing .NET applications</span></span>](/dotnet/standard/globalization-localization/index)
* [<span data-ttu-id="0987a-830">Ressourcen in RESX-Dateien</span><span class="sxs-lookup"><span data-stu-id="0987a-830">Resources in .resx Files</span></span>](/dotnet/framework/resources/working-with-resx-files-programmatically)
* [<span data-ttu-id="0987a-831">Microsoft Multilingual App Toolkit</span><span class="sxs-lookup"><span data-stu-id="0987a-831">Microsoft Multilingual App Toolkit</span></span>](https://marketplace.visualstudio.com/items?itemName=MultilingualAppToolkit.MultilingualAppToolkit-18308)
* [<span data-ttu-id="0987a-832">Lokalisierung und Generics</span><span class="sxs-lookup"><span data-stu-id="0987a-832">Localization & Generics</span></span>](http://hishambinateya.com/localization-and-generics)

::: moniker-end
