---
title: Behandeln von Fehlern in ASP.net Core blazor-apps
author: guardrex
description: Erfahren Sie, wie ASP.net Core blazor, wie von blazor nicht behandelte Ausnahmen verwaltet werden, und wie Sie apps entwickeln, die Fehler erkennen und behandeln.
monikerRange: '>= aspnetcore-3.0'
ms.author: riande
ms.custom: mvc
ms.date: 09/23/2019
uid: blazor/handle-errors
ms.openlocfilehash: de0a2f74df84f41581ac93dbeec7a5c5e90c6fa2
ms.sourcegitcommit: 79eeb17604b536e8f34641d1e6b697fb9a2ee21f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/24/2019
ms.locfileid: "71207193"
---
# <a name="handle-errors-in-aspnet-core-blazor-apps"></a><span data-ttu-id="4318f-103">Behandeln von Fehlern in ASP.net Core blazor-apps</span><span class="sxs-lookup"><span data-stu-id="4318f-103">Handle errors in ASP.NET Core Blazor apps</span></span>

<span data-ttu-id="4318f-104">Von [Steve Sanderson](https://github.com/SteveSandersonMS)</span><span class="sxs-lookup"><span data-stu-id="4318f-104">By [Steve Sanderson](https://github.com/SteveSandersonMS)</span></span>

<span data-ttu-id="4318f-105">In diesem Artikel wird beschrieben, wie blazor nicht behandelte Ausnahmen verwaltet und wie Sie apps entwickeln, die Fehler erkennen und behandeln.</span><span class="sxs-lookup"><span data-stu-id="4318f-105">This article describes how Blazor manages unhandled exceptions and how to develop apps that detect and handle errors.</span></span>

## <a name="how-the-blazor-framework-reacts-to-unhandled-exceptions"></a><span data-ttu-id="4318f-106">Reagieren des blazor-Frameworks auf nicht behandelte Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="4318f-106">How the Blazor framework reacts to unhandled exceptions</span></span>

<span data-ttu-id="4318f-107">Der blazor-Server ist ein Zustands behaftetes Framework.</span><span class="sxs-lookup"><span data-stu-id="4318f-107">Blazor Server is a stateful framework.</span></span> <span data-ttu-id="4318f-108">Während Benutzer mit einer APP interagieren, behalten *Sie eine Verbindung*mit dem Server bei, der als Verbindung bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="4318f-108">While users interact with an app, they maintain a connection to the server known as a *circuit*.</span></span> <span data-ttu-id="4318f-109">Die Verbindung enthält aktive Komponenten Instanzen sowie viele andere Aspekte des Zustands, wie z. b.:</span><span class="sxs-lookup"><span data-stu-id="4318f-109">The circuit holds active component instances, plus many other aspects of state, such as:</span></span>

* <span data-ttu-id="4318f-110">Die letzte gerenderte Ausgabe von-Komponenten.</span><span class="sxs-lookup"><span data-stu-id="4318f-110">The most recent rendered output of components.</span></span>
* <span data-ttu-id="4318f-111">Die aktuelle Gruppe von Delegaten zur Ereignis Behandlung, die von Client seitigen Ereignissen ausgelöst werden könnten.</span><span class="sxs-lookup"><span data-stu-id="4318f-111">The current set of event-handling delegates that could be triggered by client-side events.</span></span>

<span data-ttu-id="4318f-112">Wenn ein Benutzer die APP auf mehreren Browser Registerkarten öffnet, sind mehrere unabhängige Verbindungen vorhanden.</span><span class="sxs-lookup"><span data-stu-id="4318f-112">If a user opens the app in multiple browser tabs, they have multiple independent circuits.</span></span>

<span data-ttu-id="4318f-113">Blazor behandelt die meisten nicht behandelten Ausnahmen als schwerwiegend an der Verbindung, in der Sie auftreten.</span><span class="sxs-lookup"><span data-stu-id="4318f-113">Blazor treats most unhandled exceptions as fatal to the circuit where they occur.</span></span> <span data-ttu-id="4318f-114">Wenn eine Verbindung aufgrund einer nicht behandelten Ausnahme beendet wird, kann der Benutzer die Interaktion mit der app nur fortsetzen, indem er die Seite erneut lädt, um eine neue Verbindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="4318f-114">If a circuit is terminated due to an unhandled exception, the user can only continue to interact with the app by reloading the page to create a new circuit.</span></span> <span data-ttu-id="4318f-115">Verbindungen außerhalb der Beendigungs Seite, bei der es sich um Verbindungen für andere Benutzer oder andere Browser Registerkarten handelt, sind nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="4318f-115">Circuits outside of the one that's terminated, which are circuits for other users or other browser tabs, aren't affected.</span></span> <span data-ttu-id="4318f-116">Dieses Szenario ähnelt einer Desktop-App, die abstürzt&mdash;, dass die abstürzte APP neu gestartet werden muss, aber andere apps sind nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="4318f-116">This scenario is similar to a desktop app that crashes&mdash;the crashed app must be restarted, but other apps aren't affected.</span></span>

<span data-ttu-id="4318f-117">Eine Verbindung wird beendet, wenn eine nicht behandelte Ausnahme aus den folgenden Gründen auftritt:</span><span class="sxs-lookup"><span data-stu-id="4318f-117">A circuit is terminated when an unhandled exception occurs for the following reasons:</span></span>

* <span data-ttu-id="4318f-118">Eine nicht behandelte Ausnahme verlässt die Verbindung häufig in einem nicht definierten Zustand.</span><span class="sxs-lookup"><span data-stu-id="4318f-118">An unhandled exception often leaves the circuit in an undefined state.</span></span>
* <span data-ttu-id="4318f-119">Der normale Vorgang der APP kann nach einer nicht behandelten Ausnahme nicht garantiert werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-119">The app's normal operation can't be guaranteed after an unhandled exception.</span></span>
* <span data-ttu-id="4318f-120">Sicherheitsrisiken werden möglicherweise in der App angezeigt, wenn die Verbindung fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="4318f-120">Security vulnerabilities may appear in the app if the circuit continues.</span></span>

## <a name="manage-unhandled-exceptions-in-developer-code"></a><span data-ttu-id="4318f-121">Verwalten von nicht behandelten Ausnahmen in Entwickler Code</span><span class="sxs-lookup"><span data-stu-id="4318f-121">Manage unhandled exceptions in developer code</span></span>

<span data-ttu-id="4318f-122">Damit eine APP nach einem Fehler fortgesetzt werden kann, muss die APP über eine Fehler Behandlungs Logik verfügen.</span><span class="sxs-lookup"><span data-stu-id="4318f-122">For an app to continue after an error, the app must have error handling logic.</span></span> <span data-ttu-id="4318f-123">In späteren Abschnitten dieses Artikels werden mögliche Quellen für nicht behandelte Ausnahmen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="4318f-123">Later sections of this article describe potential sources of unhandled exceptions.</span></span>

<span data-ttu-id="4318f-124">In der Produktionsumgebung müssen Sie keine Framework-Ausnahme Meldungen oder Stapel Überwachungen in der Benutzeroberfläche erstellen.</span><span class="sxs-lookup"><span data-stu-id="4318f-124">In production, don't render framework exception messages or stack traces in the UI.</span></span> <span data-ttu-id="4318f-125">Das Rendern von Ausnahme Meldungen oder Stapel Überwachungen könnte:</span><span class="sxs-lookup"><span data-stu-id="4318f-125">Rendering exception messages or stack traces could:</span></span>

* <span data-ttu-id="4318f-126">Geben Sie den Endbenutzern vertrauliche Informationen offen.</span><span class="sxs-lookup"><span data-stu-id="4318f-126">Disclose sensitive information to end users.</span></span>
* <span data-ttu-id="4318f-127">Helfen Sie einem böswilligen Benutzer dabei, Schwachstellen in einer APP zu erkennen, die die Sicherheit der APP, des Servers oder des Netzwerks beeinträchtigen können.</span><span class="sxs-lookup"><span data-stu-id="4318f-127">Help a malicious user discover weaknesses in an app that can compromise the security of the app, server, or network.</span></span>

## <a name="log-errors-with-a-persistent-provider"></a><span data-ttu-id="4318f-128">Protokollieren von Fehlern mit einem permanenten Anbieter</span><span class="sxs-lookup"><span data-stu-id="4318f-128">Log errors with a persistent provider</span></span>

<span data-ttu-id="4318f-129">Wenn eine nicht behandelte Ausnahme auftritt, wird die Ausnahme an <xref:Microsoft.Extensions.Logging.ILogger> Instanzen protokolliert, die im Dienst Container konfiguriert sind.</span><span class="sxs-lookup"><span data-stu-id="4318f-129">If an unhandled exception occurs, the exception is logged to <xref:Microsoft.Extensions.Logging.ILogger> instances configured in the service container.</span></span> <span data-ttu-id="4318f-130">Standardmäßig melden sich blazor-apps mit dem Konsolen Protokollierungs Anbieter an der Konsolenausgabe an.</span><span class="sxs-lookup"><span data-stu-id="4318f-130">By default, Blazor apps log to console output with the Console Logging Provider.</span></span> <span data-ttu-id="4318f-131">Melden Sie sich bei einem Anbieter, der die Protokoll Größe und die Protokoll Rotation verwaltet, an einem permanenten Speicherort an.</span><span class="sxs-lookup"><span data-stu-id="4318f-131">Consider logging to a more permanent location with a provider that manages log size and log rotation.</span></span> <span data-ttu-id="4318f-132">Weitere Informationen finden Sie unter <xref:fundamentals/logging/index>.</span><span class="sxs-lookup"><span data-stu-id="4318f-132">For more information, see <xref:fundamentals/logging/index>.</span></span>

<span data-ttu-id="4318f-133">Während der Entwicklung sendet blazor in der Regel die vollständigen Details der Ausnahmen an die Konsole des Browsers, um das Debuggen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="4318f-133">During development, Blazor usually sends the full details of exceptions to the browser's console to aid in debugging.</span></span> <span data-ttu-id="4318f-134">In der Produktionsumgebung sind ausführliche Fehler in der Browser Konsole standardmäßig deaktiviert. Dies bedeutet, dass Fehler nicht an Clients gesendet werden, sondern dass die vollständigen Details der Ausnahme weiterhin serverseitig protokolliert werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-134">In production, detailed errors in the browser's console are disabled by default, which means that errors aren't sent to clients but the exception's full details are still logged server-side.</span></span> <span data-ttu-id="4318f-135">Weitere Informationen finden Sie unter <xref:fundamentals/error-handling>.</span><span class="sxs-lookup"><span data-stu-id="4318f-135">For more information, see <xref:fundamentals/error-handling>.</span></span>

<span data-ttu-id="4318f-136">Sie müssen entscheiden, welche Vorfälle protokolliert werden sollen, und den Schweregrad protokollierter Vorfälle.</span><span class="sxs-lookup"><span data-stu-id="4318f-136">You must decide which incidents to log and the level of severity of logged incidents.</span></span> <span data-ttu-id="4318f-137">Feindliche Benutzer können möglicherweise Fehler absichtlich auslöst.</span><span class="sxs-lookup"><span data-stu-id="4318f-137">Hostile users might be able to trigger errors deliberately.</span></span> <span data-ttu-id="4318f-138">Protokollieren Sie z. b. keinen Incident von einem Fehler, `ProductId` bei dem ein unbekannter in der URL einer Komponente angegeben ist, in der Produktdetails angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-138">For example, don't log an incident from an error where an unknown `ProductId` is supplied in the URL of a component that displays product details.</span></span> <span data-ttu-id="4318f-139">Nicht alle Fehler sollten als Vorfälle mit hohem Schweregrad für die Protokollierung behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-139">Not all errors should be treated as high-severity incidents for logging.</span></span>

## <a name="places-where-errors-may-occur"></a><span data-ttu-id="4318f-140">Orte, an denen Fehler auftreten können</span><span class="sxs-lookup"><span data-stu-id="4318f-140">Places where errors may occur</span></span>

<span data-ttu-id="4318f-141">Framework-und app-Code können nicht behandelte Ausnahmen an einem der folgenden Speicherorte auslöst:</span><span class="sxs-lookup"><span data-stu-id="4318f-141">Framework and app code may trigger unhandled exceptions in any of the following locations:</span></span>

* [<span data-ttu-id="4318f-142">Komponenten Instanziierung</span><span class="sxs-lookup"><span data-stu-id="4318f-142">Component instantiation</span></span>](#component-instantiation)
* [<span data-ttu-id="4318f-143">Lebenszyklus Methoden</span><span class="sxs-lookup"><span data-stu-id="4318f-143">Lifecycle methods</span></span>](#lifecycle-methods)
* [<span data-ttu-id="4318f-144">Renderinglogik</span><span class="sxs-lookup"><span data-stu-id="4318f-144">Rendering logic</span></span>](#rendering-logic)
* [<span data-ttu-id="4318f-145">Ereignishandler</span><span class="sxs-lookup"><span data-stu-id="4318f-145">Event handlers</span></span>](#event-handlers)
* [<span data-ttu-id="4318f-146">Komponenten Beseitigung</span><span class="sxs-lookup"><span data-stu-id="4318f-146">Component disposal</span></span>](#component-disposal)
* [<span data-ttu-id="4318f-147">JavaScript-Interop</span><span class="sxs-lookup"><span data-stu-id="4318f-147">JavaScript interop</span></span>](#javascript-interop)
* [<span data-ttu-id="4318f-148">Verbindungs Handler</span><span class="sxs-lookup"><span data-stu-id="4318f-148">Circuit handlers</span></span>](#circuit-handlers)
* [<span data-ttu-id="4318f-149">Freigabe Entfernung</span><span class="sxs-lookup"><span data-stu-id="4318f-149">Circuit disposal</span></span>](#circuit-disposal)
* [<span data-ttu-id="4318f-150">Wird vorab durchgeführt</span><span class="sxs-lookup"><span data-stu-id="4318f-150">Prerendering</span></span>](#prerendering)

<span data-ttu-id="4318f-151">Die vorangegangenen nicht behandelten Ausnahmen werden in den folgenden Abschnitten dieses Artikels beschrieben.</span><span class="sxs-lookup"><span data-stu-id="4318f-151">The preceding unhandled exceptions are described in the following sections of this article.</span></span>

### <a name="component-instantiation"></a><span data-ttu-id="4318f-152">Komponenten Instanziierung</span><span class="sxs-lookup"><span data-stu-id="4318f-152">Component instantiation</span></span>

<span data-ttu-id="4318f-153">Wenn blazor eine Instanz einer Komponente erstellt:</span><span class="sxs-lookup"><span data-stu-id="4318f-153">When Blazor creates an instance of a component:</span></span>

* <span data-ttu-id="4318f-154">Der Konstruktor der Komponente wird aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="4318f-154">The component's constructor is invoked.</span></span>
* <span data-ttu-id="4318f-155">Die Konstruktoren aller nicht-Singleton-di-Dienste, die über die [@inject](xref:blazor/dependency-injection#request-a-service-in-a-component) -Direktive oder das [[einschleusen]](xref:blazor/dependency-injection#request-a-service-in-a-component) -Attribut für den Konstruktor der Komponente bereitgestellt werden, werden aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="4318f-155">The constructors of any non-singleton DI services supplied to the component's constructor via the [@inject](xref:blazor/dependency-injection#request-a-service-in-a-component) directive or the [[Inject]](xref:blazor/dependency-injection#request-a-service-in-a-component) attribute are invoked.</span></span> 

<span data-ttu-id="4318f-156">Eine Verbindung kann nicht hergestellt werden, wenn ein ausgeführter Konstruktor oder ein Setter für `[Inject]` eine Eigenschaft eine nicht behandelte Ausnahme auslöst.</span><span class="sxs-lookup"><span data-stu-id="4318f-156">A circuit fails when any executed constructor or a setter for any `[Inject]` property throws an unhandled exception.</span></span> <span data-ttu-id="4318f-157">Die Ausnahme ist schwerwiegend, da das Framework die Komponente nicht instanziieren kann.</span><span class="sxs-lookup"><span data-stu-id="4318f-157">The exception is fatal because the framework can't instantiate the component.</span></span> <span data-ttu-id="4318f-158">Wenn die Konstruktorlogik Ausnahmen auslösen kann, sollte die APP die Ausnahmen mithilfe einer [try-catch-](/dotnet/csharp/language-reference/keywords/try-catch) Anweisung mit Fehlerbehandlung und Protokollierung abfangen.</span><span class="sxs-lookup"><span data-stu-id="4318f-158">If constructor logic may throw exceptions, the app should trap the exceptions using a [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

### <a name="lifecycle-methods"></a><span data-ttu-id="4318f-159">Lebenszyklusmethoden</span><span class="sxs-lookup"><span data-stu-id="4318f-159">Lifecycle methods</span></span>

<span data-ttu-id="4318f-160">Während der Lebensdauer einer Komponente ruft blazor Lebenszyklus Methoden auf:</span><span class="sxs-lookup"><span data-stu-id="4318f-160">During the lifetime of a component, Blazor invokes lifecycle methods:</span></span>

* `OnInitialized` / `OnInitializedAsync`
* `OnParametersSet` / `OnParametersSetAsync`
* `ShouldRender` / `ShouldRenderAsync`
* `OnAfterRender` / `OnAfterRenderAsync`

<span data-ttu-id="4318f-161">Wenn eine Lebenszyklus Methode eine Ausnahme synchron oder asynchron auslöst, ist die Ausnahme für die Verbindung schwerwiegend.</span><span class="sxs-lookup"><span data-stu-id="4318f-161">If any lifecycle method throws an exception, synchronously or asynchronously, the exception is fatal to the circuit.</span></span> <span data-ttu-id="4318f-162">Fügen Sie Fehler Behandlungs Logik hinzu, damit Komponenten Fehler in Lebenszyklus Methoden behandeln können.</span><span class="sxs-lookup"><span data-stu-id="4318f-162">For components to deal with errors in lifecycle methods, add error handling logic.</span></span>

<span data-ttu-id="4318f-163">Im folgenden Beispiel, in `OnParametersSetAsync` dem eine Methode zum Abrufen eines Produkts aufruft:</span><span class="sxs-lookup"><span data-stu-id="4318f-163">In the following example where `OnParametersSetAsync` calls a method to obtain a product:</span></span>

* <span data-ttu-id="4318f-164">Eine Ausnahme, die in `ProductRepository.GetProductByIdAsync` der-Methode ausgelöst wird `try-catch` , wird von einer-Anweisung behandelt.</span><span class="sxs-lookup"><span data-stu-id="4318f-164">An exception thrown in the `ProductRepository.GetProductByIdAsync` method is handled by a `try-catch` statement.</span></span>
* <span data-ttu-id="4318f-165">Wenn der `catch` -Block ausgeführt wird:</span><span class="sxs-lookup"><span data-stu-id="4318f-165">When the `catch` block is executed:</span></span>
  * <span data-ttu-id="4318f-166">`loadFailed`ist auf `true`festgelegt, das verwendet wird, um dem Benutzer eine Fehlermeldung anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="4318f-166">`loadFailed` is set to `true`, which is used to display an error message to the user.</span></span>
  * <span data-ttu-id="4318f-167">Der Fehler wird protokolliert.</span><span class="sxs-lookup"><span data-stu-id="4318f-167">The error is logged.</span></span>

[!code-cshtml[](handle-errors/samples_snapshot/3.x/product-details.razor?highlight=11,27-39)]

### <a name="rendering-logic"></a><span data-ttu-id="4318f-168">Renderinglogik</span><span class="sxs-lookup"><span data-stu-id="4318f-168">Rendering logic</span></span>

<span data-ttu-id="4318f-169">Das deklarative Markup in einer `.razor` Komponenten Datei wird in eine C# Methode namens `BuildRenderTree`kompiliert.</span><span class="sxs-lookup"><span data-stu-id="4318f-169">The declarative markup in a `.razor` component file is compiled into a C# method called `BuildRenderTree`.</span></span> <span data-ttu-id="4318f-170">Wenn eine Komponente gerendert wird, wird `BuildRenderTree` eine Datenstruktur ausgeführt und erstellt, die die Elemente, den Text und die untergeordneten Komponenten der gerenderten Komponente beschreibt.</span><span class="sxs-lookup"><span data-stu-id="4318f-170">When a component renders, `BuildRenderTree` executes and builds up a data structure describing the elements, text, and child components of the rendered component.</span></span>

<span data-ttu-id="4318f-171">Die Renderinglogik kann eine Ausnahme auslösen.</span><span class="sxs-lookup"><span data-stu-id="4318f-171">Rendering logic can throw an exception.</span></span> <span data-ttu-id="4318f-172">Ein Beispiel für dieses Szenario tritt auf `@someObject.PropertyName` , wenn ausgewertet `@someObject` wird `null`, aber ist.</span><span class="sxs-lookup"><span data-stu-id="4318f-172">An example of this scenario occurs when `@someObject.PropertyName` is evaluated but `@someObject` is `null`.</span></span> <span data-ttu-id="4318f-173">Eine nicht behandelte Ausnahme, die von der Renderinglogik ausgelöst wird, ist schwerwiegend auf die</span><span class="sxs-lookup"><span data-stu-id="4318f-173">An unhandled exception thrown by rendering logic is fatal to the circuit.</span></span>

<span data-ttu-id="4318f-174">Um eine NULL-Verweis Ausnahme in Renderinglogik zu verhindern `null` , überprüfen Sie vor dem Zugriff auf die Member auf ein-Objekt</span><span class="sxs-lookup"><span data-stu-id="4318f-174">To prevent a null reference exception in rendering logic, check for a `null` object before accessing its members.</span></span> <span data-ttu-id="4318f-175">Im folgenden Beispiel wird nicht `person.Address` auf Eigenschaften zugegriffen, `person.Address` Wenn `null`Folgendes ist:</span><span class="sxs-lookup"><span data-stu-id="4318f-175">In the following example, `person.Address` properties aren't accessed if `person.Address` is `null`:</span></span>

[!code-cshtml[](handle-errors/samples_snapshot/3.x/person-example.razor?highlight=1)]

<span data-ttu-id="4318f-176">Der vorangehende Code geht `person` davon `null`aus, dass nicht ist.</span><span class="sxs-lookup"><span data-stu-id="4318f-176">The preceding code assumes that `person` isn't `null`.</span></span> <span data-ttu-id="4318f-177">Häufig gewährleistet die Struktur des Codes, dass ein Objekt vorhanden ist, wenn die Komponente gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="4318f-177">Often, the structure of the code guarantees that an object exists at the time the component is rendered.</span></span> <span data-ttu-id="4318f-178">In diesen Fällen ist es nicht erforderlich, `null` in Renderinglogik zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="4318f-178">In those cases, it isn't necessary to check for `null` in rendering logic.</span></span> <span data-ttu-id="4318f-179">Im vorherigen Beispiel ist möglich `person` erweise vorhanden, da `person` erstellt wird, wenn die Komponente instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="4318f-179">In the prior example, `person` might be guaranteed to exist because `person` is created when the component is instantiated.</span></span>

### <a name="event-handlers"></a><span data-ttu-id="4318f-180">Ereignishandler</span><span class="sxs-lookup"><span data-stu-id="4318f-180">Event handlers</span></span>

<span data-ttu-id="4318f-181">Client seitiger Code löst Aufrufe von Code aus C# , wenn Ereignishandler mit erstellt werden:</span><span class="sxs-lookup"><span data-stu-id="4318f-181">Client-side code triggers invocations of C# code when event handlers are created using:</span></span>

* `@onclick`
* `@onchange`
* <span data-ttu-id="4318f-182">Andere `@on...` Attribute</span><span class="sxs-lookup"><span data-stu-id="4318f-182">Other `@on...` attributes</span></span>
* `@bind`

<span data-ttu-id="4318f-183">Der Ereignishandlercode löst in diesen Szenarien möglicherweise eine nicht behandelte Ausnahme aus.</span><span class="sxs-lookup"><span data-stu-id="4318f-183">Event handler code might throw an unhandled exception in these scenarios.</span></span>

<span data-ttu-id="4318f-184">Wenn ein Ereignishandler eine nicht behandelte Ausnahme auslöst (z. b. Wenn eine Datenbankabfrage fehlschlägt), ist die Ausnahme für die Verbindung schwerwiegend.</span><span class="sxs-lookup"><span data-stu-id="4318f-184">If an event handler throws an unhandled exception (for example, a database query fails), the exception is fatal to the circuit.</span></span> <span data-ttu-id="4318f-185">Wenn die app Code aufruft, der aus externen Gründen fehlschlagen könnte, fangen Sie Ausnahmen mithilfe einer [try-catch-](/dotnet/csharp/language-reference/keywords/try-catch) Anweisung mit Fehlerbehandlung und Protokollierung ab.</span><span class="sxs-lookup"><span data-stu-id="4318f-185">If the app calls code that could fail for external reasons, trap exceptions using a [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

<span data-ttu-id="4318f-186">Wenn Benutzercode die Ausnahme nicht abfängt und behandelt, protokolliert das Framework die Ausnahme und beendet die Verbindung.</span><span class="sxs-lookup"><span data-stu-id="4318f-186">If user code doesn't trap and handle the exception, the framework logs the exception and terminates the circuit.</span></span>

### <a name="component-disposal"></a><span data-ttu-id="4318f-187">Komponenten Beseitigung</span><span class="sxs-lookup"><span data-stu-id="4318f-187">Component disposal</span></span>

<span data-ttu-id="4318f-188">Eine Komponente kann z. b. aus der Benutzeroberfläche entfernt werden, weil der Benutzer zu einer anderen Seite navigiert ist.</span><span class="sxs-lookup"><span data-stu-id="4318f-188">A component may be removed from the UI, for example, because the user has navigated to another page.</span></span> <span data-ttu-id="4318f-189">Wenn eine Komponente, die <xref:System.IDisposable?displayProperty=fullName> implementiert, von der Benutzeroberfläche entfernt wird, ruft das Framework <xref:System.IDisposable.Dispose*> die-Methode der Komponente auf.</span><span class="sxs-lookup"><span data-stu-id="4318f-189">When a component that implements <xref:System.IDisposable?displayProperty=fullName> is removed from the UI, the framework calls the component's <xref:System.IDisposable.Dispose*> method.</span></span> 

<span data-ttu-id="4318f-190">Wenn die- `Dispose` Methode der Komponente eine nicht behandelte Ausnahme auslöst, ist die Ausnahme für die Verbindung schwerwiegend.</span><span class="sxs-lookup"><span data-stu-id="4318f-190">If the component's `Dispose` method throws an unhandled exception, the exception is fatal to the circuit.</span></span> <span data-ttu-id="4318f-191">Wenn die Entsorgungs Logik Ausnahmen auslösen kann, sollte die APP die Ausnahmen mithilfe einer [try-catch-](/dotnet/csharp/language-reference/keywords/try-catch) Anweisung mit Fehlerbehandlung und Protokollierung abfangen.</span><span class="sxs-lookup"><span data-stu-id="4318f-191">If disposal logic may throw exceptions, the app should trap the exceptions using a [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span>

<span data-ttu-id="4318f-192">Weitere Informationen zur Komponenten Beseitigung finden <xref:blazor/components#component-disposal-with-idisposable>Sie unter.</span><span class="sxs-lookup"><span data-stu-id="4318f-192">For more information on component disposal, see <xref:blazor/components#component-disposal-with-idisposable>.</span></span>

### <a name="javascript-interop"></a><span data-ttu-id="4318f-193">JavaScript-Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="4318f-193">JavaScript interop</span></span>

<span data-ttu-id="4318f-194">`IJSRuntime.InvokeAsync<T>`ermöglicht .NET-Code das Ausführen von asynchronen Aufrufen der JavaScript-Laufzeit im Browser des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="4318f-194">`IJSRuntime.InvokeAsync<T>` allows .NET code to make asynchronous calls to the JavaScript runtime in the user's browser.</span></span>

<span data-ttu-id="4318f-195">Die folgenden Bedingungen gelten für die Fehlerbehandlung `InvokeAsync<T>`mit:</span><span class="sxs-lookup"><span data-stu-id="4318f-195">The following conditions apply to error handling with `InvokeAsync<T>`:</span></span>

* <span data-ttu-id="4318f-196">Wenn ein Rückruf von `InvokeAsync<T>` synchron fehlschlägt, tritt eine .NET-Ausnahme auf.</span><span class="sxs-lookup"><span data-stu-id="4318f-196">If a call to `InvokeAsync<T>` fails synchronously, a .NET exception occurs.</span></span> <span data-ttu-id="4318f-197">`InvokeAsync<T>` Ein Beispiel für einen Fehler tritt beispielsweise auf, weil die angegebenen Argumente nicht serialisiert werden können.</span><span class="sxs-lookup"><span data-stu-id="4318f-197">A call to `InvokeAsync<T>` my fail, for example, because the supplied arguments can't be serialized.</span></span> <span data-ttu-id="4318f-198">Der Entwickler Code muss die Ausnahme abfangen.</span><span class="sxs-lookup"><span data-stu-id="4318f-198">Developer code must catch the exception.</span></span> <span data-ttu-id="4318f-199">Wenn der app-Code in einem Ereignishandler oder einer Komponenten Lebenszyklus-Methode keine Ausnahme behandelt, ist die resultierende Ausnahme schwerwiegend auf die Verbindung.</span><span class="sxs-lookup"><span data-stu-id="4318f-199">If app code in an event handler or component lifecycle method doesn't handle an exception, the resulting exception is fatal to the circuit.</span></span>
* <span data-ttu-id="4318f-200">Wenn ein Rückruf von `InvokeAsync<T>` asynchron fehlschlägt, schlägt <xref:System.Threading.Tasks.Task> .net fehl.</span><span class="sxs-lookup"><span data-stu-id="4318f-200">If a call to `InvokeAsync<T>` fails asynchronously, the .NET <xref:System.Threading.Tasks.Task> fails.</span></span> <span data-ttu-id="4318f-201">Ein-Vorgang `Promise` `rejected`kann z. b. fehlschlagen, weil der JavaScript-seitige Code eine Ausnahme auslöst oder einen zurückgibt, der als `InvokeAsync<T>` abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="4318f-201">A call to `InvokeAsync<T>` may fail, for example, because the JavaScript-side code throws an exception or returns a `Promise` that completed as `rejected`.</span></span> <span data-ttu-id="4318f-202">Der Entwickler Code muss die Ausnahme abfangen.</span><span class="sxs-lookup"><span data-stu-id="4318f-202">Developer code must catch the exception.</span></span> <span data-ttu-id="4318f-203">Wenn Sie den [await](/dotnet/csharp/language-reference/keywords/await)-Operator verwenden, umschließen Sie den Methodenaufruf am besten in einer [try-catch](/dotnet/csharp/language-reference/keywords/try-catch)-Anweisung mit der Fehlerbehandlung und der Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="4318f-203">If using the [await](/dotnet/csharp/language-reference/keywords/await) operator, consider wrapping the method call in a [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statement with error handling and logging.</span></span> <span data-ttu-id="4318f-204">Andernfalls führt der fehlgeschlagene Code zu einer nicht behandelten Ausnahme, die für die Verbindung schwerwiegend ist.</span><span class="sxs-lookup"><span data-stu-id="4318f-204">Otherwise, the failing code results in an unhandled exception that's fatal to the circuit.</span></span>
* <span data-ttu-id="4318f-205">Standardmäßig `InvokeAsync<T>` müssen Aufrufe von innerhalb eines bestimmten Zeitraums durchgeführt werden, oder für den Aufruf wird ein Timeout festgestellt. Der Standard Timeout Zeitraum beträgt eine Minute.</span><span class="sxs-lookup"><span data-stu-id="4318f-205">By default, calls to `InvokeAsync<T>` must complete within a certain period or else the call times out. The default timeout period is one minute.</span></span> <span data-ttu-id="4318f-206">Das Timeout schützt den Code vor einem Verlust in Netzwerk Konnektivität oder JavaScript-Code, der niemals eine Abschluss Nachricht zurücksendet.</span><span class="sxs-lookup"><span data-stu-id="4318f-206">The timeout protects the code against a loss in network connectivity or JavaScript code that never sends back a completion message.</span></span> <span data-ttu-id="4318f-207">Wenn für den-Rückruf ein Timeout auftritt `Task` , schlägt die <xref:System.OperationCanceledException>resultierende mit einem fehl.</span><span class="sxs-lookup"><span data-stu-id="4318f-207">If the call times out, the resulting `Task` fails with an <xref:System.OperationCanceledException>.</span></span> <span data-ttu-id="4318f-208">Trap und verarbeitet die Ausnahme mit der Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="4318f-208">Trap and process the exception with logging.</span></span>

<span data-ttu-id="4318f-209">Ebenso kann JavaScript-Code Aufrufe von .NET-Methoden initiieren, die durch das [[jsinvokable]-Attribut](xref:blazor/javascript-interop#invoke-net-methods-from-javascript-functions)angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-209">Similarly, JavaScript code may initiate calls to .NET methods indicated by the [[JSInvokable] attribute](xref:blazor/javascript-interop#invoke-net-methods-from-javascript-functions).</span></span> <span data-ttu-id="4318f-210">Wenn diese .NET-Methoden eine nicht behandelte Ausnahme auslösen:</span><span class="sxs-lookup"><span data-stu-id="4318f-210">If these .NET methods throw an unhandled exception:</span></span>

* <span data-ttu-id="4318f-211">Die Ausnahme wird nicht als schwerwiegender Fehler für die Verbindung behandelt.</span><span class="sxs-lookup"><span data-stu-id="4318f-211">The exception isn't treated as fatal to the circuit.</span></span>
* <span data-ttu-id="4318f-212">Die JavaScript-Seite `Promise` wird zurückgewiesen.</span><span class="sxs-lookup"><span data-stu-id="4318f-212">The JavaScript-side `Promise` is rejected.</span></span>

<span data-ttu-id="4318f-213">Sie haben die Möglichkeit, Fehler Behandlungs Code entweder auf der .NET-Seite oder auf der JavaScript-Seite des Methoden Aufrufes zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="4318f-213">You have the option of using error handling code on either the .NET side or the JavaScript side of the method call.</span></span>

<span data-ttu-id="4318f-214">Weitere Informationen finden Sie unter <xref:blazor/javascript-interop>.</span><span class="sxs-lookup"><span data-stu-id="4318f-214">For more information, see <xref:blazor/javascript-interop>.</span></span>

### <a name="circuit-handlers"></a><span data-ttu-id="4318f-215">Verbindungs Handler</span><span class="sxs-lookup"><span data-stu-id="4318f-215">Circuit handlers</span></span>

<span data-ttu-id="4318f-216">Mit blazor kann Code einen Verbindungs *Handler*definieren, der Benachrichtigungen empfängt, wenn sich der Status der Verbindung eines Benutzers ändert.</span><span class="sxs-lookup"><span data-stu-id="4318f-216">Blazor allows code to define a *circuit handler*, which receives notifications when the state of a user's circuit changes.</span></span> <span data-ttu-id="4318f-217">Die folgenden Zustände werden verwendet:</span><span class="sxs-lookup"><span data-stu-id="4318f-217">The following states are used:</span></span>

* `initialized`
* `connected`
* `disconnected`
* `disposed`

<span data-ttu-id="4318f-218">Benachrichtigungen werden durch Registrieren eines di-Dienstanbieter verwaltet, der `CircuitHandler` von der abstrakten Basisklasse erbt.</span><span class="sxs-lookup"><span data-stu-id="4318f-218">Notifications are managed by registering a DI service that inherits from the `CircuitHandler` abstract base class.</span></span>

<span data-ttu-id="4318f-219">Wenn die Methoden eines benutzerdefinierten Verbindungs Handlers eine nicht behandelte Ausnahme auslösen, ist die Ausnahme für die Verbindung schwerwiegend.</span><span class="sxs-lookup"><span data-stu-id="4318f-219">If a custom circuit handler's methods throw an unhandled exception, the exception is fatal to the circuit.</span></span> <span data-ttu-id="4318f-220">Um Ausnahmen im Code eines Handlers zu tolerieren oder Methoden aufzurufen, packen Sie den Code in einer oder mehreren [try-catch-](/dotnet/csharp/language-reference/keywords/try-catch) Anweisungen mit Fehlerbehandlung und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="4318f-220">To tolerate exceptions in a handler's code or called methods, wrap the code in one or more [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statements with error handling and logging.</span></span>

### <a name="circuit-disposal"></a><span data-ttu-id="4318f-221">Freigabe Entfernung</span><span class="sxs-lookup"><span data-stu-id="4318f-221">Circuit disposal</span></span>

<span data-ttu-id="4318f-222">Wenn eine Verbindung beendet wird, weil ein Benutzer die Verbindung getrennt hat und das Framework den Verbindungsstatus bereinigt, gibt das Framework den di-Bereich der Verbindung frei.</span><span class="sxs-lookup"><span data-stu-id="4318f-222">When a circuit ends because a user has disconnected and the framework is cleaning up the circuit state, the framework disposes of the circuit's DI scope.</span></span> <span data-ttu-id="4318f-223">Durch die Freigabe des Bereichs werden alle di-Dienste, die von implementiert <xref:System.IDisposable?displayProperty=fullName>werden, freigegeben.</span><span class="sxs-lookup"><span data-stu-id="4318f-223">Disposing the scope disposes any circuit-scoped DI services that implement <xref:System.IDisposable?displayProperty=fullName>.</span></span> <span data-ttu-id="4318f-224">Wenn ein di-Dienst während der Entfernung eine nicht behandelte Ausnahme auslöst, protokolliert das Framework die Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="4318f-224">If any DI service throws an unhandled exception during disposal, the framework logs the exception.</span></span>

### <a name="prerendering"></a><span data-ttu-id="4318f-225">Wird vorab durchgeführt</span><span class="sxs-lookup"><span data-stu-id="4318f-225">Prerendering</span></span>

<span data-ttu-id="4318f-226">Blazor-Komponenten können mithilfe von vorab verwendet `Html.RenderComponentAsync` werden, damit das gerenderte HTML-Markup als Teil der ursprünglichen HTTP-Anforderung des Benutzers zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4318f-226">Blazor components can be prerendered using `Html.RenderComponentAsync` so that their rendered HTML markup is returned as part of the user's initial HTTP request.</span></span> <span data-ttu-id="4318f-227">Dies funktioniert wie folgt:</span><span class="sxs-lookup"><span data-stu-id="4318f-227">This works by:</span></span>

* <span data-ttu-id="4318f-228">Erstellen einer neuen Verbindung mit allen vorab erstellten Komponenten, die Teil der gleichen Seite sind.</span><span class="sxs-lookup"><span data-stu-id="4318f-228">Creating a new circuit containing all of the prerendered components that are part of the same page.</span></span>
* <span data-ttu-id="4318f-229">Das anfängliche HTML wird erzeugt.</span><span class="sxs-lookup"><span data-stu-id="4318f-229">Generating the initial HTML.</span></span>
* <span data-ttu-id="4318f-230">Die Verbindung wird so `disconnected` lange behandelt, bis der Browser des Benutzers eine signalr-Verbindung zum gleichen Server herstellt, um die Interaktivität auf der Verbindung fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="4318f-230">Treating the circuit as `disconnected` until the user's browser establishes a SignalR connection back to the same server to resume interactivity on the circuit.</span></span>

<span data-ttu-id="4318f-231">Wenn eine Komponente während der vorab Generierung eine nicht behandelte Ausnahme auslöst, z. b. während einer Lebenszyklus Methode oder in Renderinglogik:</span><span class="sxs-lookup"><span data-stu-id="4318f-231">If any component throws an unhandled exception during prerendering, for example, during a lifecycle method or in rendering logic:</span></span>

* <span data-ttu-id="4318f-232">Die Ausnahme ist für die Verbindung schwerwiegend.</span><span class="sxs-lookup"><span data-stu-id="4318f-232">The exception is fatal to the circuit.</span></span>
* <span data-ttu-id="4318f-233">Die Ausnahme wird aus `Html.RenderComponentAsync` dem-Befehl in der aufrufsstapel ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="4318f-233">The exception is thrown up the call stack from the `Html.RenderComponentAsync` call.</span></span> <span data-ttu-id="4318f-234">Daher schlägt die gesamte HTTP-Anforderung fehl, es sei denn, die Ausnahme wird explizit durch den Entwickler Code abgefangen.</span><span class="sxs-lookup"><span data-stu-id="4318f-234">Therefore, the entire HTTP request fails unless the exception is explicitly caught by developer code.</span></span>

<span data-ttu-id="4318f-235">Unter normalen Umständen ist es nicht sinnvoll, die Komponente zu erstellen und zu rendern, da eine funktionierende Komponente nicht gerendert werden kann.</span><span class="sxs-lookup"><span data-stu-id="4318f-235">Under normal circumstances when prerendering fails, continuing to build and render the component doesn't make sense because a working component can't be rendered.</span></span>

<span data-ttu-id="4318f-236">Um Fehler zu tolerieren, die möglicherweise während der vorab Generierung auftreten, muss die Fehler Behandlungs Logik in einer Komponente platziert werden, die Ausnahmen auslösen kann.</span><span class="sxs-lookup"><span data-stu-id="4318f-236">To tolerate errors that may occur during prerendering, error handling logic must be placed inside a component that may throw exceptions.</span></span> <span data-ttu-id="4318f-237">Verwenden [Sie try-catch-](/dotnet/csharp/language-reference/keywords/try-catch) Anweisungen mit Fehlerbehandlung und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="4318f-237">Use [try-catch](/dotnet/csharp/language-reference/keywords/try-catch) statements with error handling and logging.</span></span> <span data-ttu-id="4318f-238">Anstatt den-Befehl in einer `RenderComponentAsync` `try-catch` -Anweisung zu umwickeln, platzieren Sie die Fehler Behandlungs Logik in `RenderComponentAsync`der von gerenderten Komponente.</span><span class="sxs-lookup"><span data-stu-id="4318f-238">Instead of wrapping the call to `RenderComponentAsync` in a `try-catch` statement, place error handling logic in the component rendered by `RenderComponentAsync`.</span></span>

## <a name="advanced-scenarios"></a><span data-ttu-id="4318f-239">Erweiterte Szenarien</span><span class="sxs-lookup"><span data-stu-id="4318f-239">Advanced scenarios</span></span>

### <a name="recursive-rendering"></a><span data-ttu-id="4318f-240">Rekursives Rendering</span><span class="sxs-lookup"><span data-stu-id="4318f-240">Recursive rendering</span></span>

<span data-ttu-id="4318f-241">Komponenten können rekursiv eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="4318f-241">Components can be nested recursively.</span></span> <span data-ttu-id="4318f-242">Dies ist nützlich, um rekursive Datenstrukturen darzustellen.</span><span class="sxs-lookup"><span data-stu-id="4318f-242">This is useful for representing recursive data structures.</span></span> <span data-ttu-id="4318f-243">Beispielsweise kann eine `TreeNode` Komponente weitere `TreeNode` Komponenten für die untergeordneten Knoten des Knotens Rendering.</span><span class="sxs-lookup"><span data-stu-id="4318f-243">For example, a `TreeNode` component can render more `TreeNode` components for each of the node's children.</span></span>

<span data-ttu-id="4318f-244">Vermeiden Sie beim rekursiv Rendering das Codieren von Mustern, die zu einer unendlichen Rekursion führen:</span><span class="sxs-lookup"><span data-stu-id="4318f-244">When rendering recursively, avoid coding patterns that result in infinite recursion:</span></span>

* <span data-ttu-id="4318f-245">Renweder eine Datenstruktur, die einen Cycle enthält, rekursiv.</span><span class="sxs-lookup"><span data-stu-id="4318f-245">Don't recursively render a data structure that contains a cycle.</span></span> <span data-ttu-id="4318f-246">Erstellen Sie beispielsweise keinen Struktur Knoten, dessen untergeordnete Elemente sich selbst enthalten.</span><span class="sxs-lookup"><span data-stu-id="4318f-246">For example, don't render a tree node whose children includes itself.</span></span>
* <span data-ttu-id="4318f-247">Erstellen Sie keine Kette von Layouts, die einen Kreis enthalten.</span><span class="sxs-lookup"><span data-stu-id="4318f-247">Don't create a chain of layouts that contain a cycle.</span></span> <span data-ttu-id="4318f-248">Erstellen Sie z. b. kein Layout, dessen Layout sich selbst ist.</span><span class="sxs-lookup"><span data-stu-id="4318f-248">For example, don't create a layout whose layout is itself.</span></span>
* <span data-ttu-id="4318f-249">Erlauben Sie einem Endbenutzer nicht, mithilfe von böswilligen Daten Einträgen oder JavaScript-Interop-aufrufen gegen revarianten der Rekursion (Regeln) zu verstoßen.</span><span class="sxs-lookup"><span data-stu-id="4318f-249">Don't allow an end user to violate recursion invariants (rules) through malicious data entry or JavaScript interop calls.</span></span>

<span data-ttu-id="4318f-250">Unendliche Schleifen beim Rendern:</span><span class="sxs-lookup"><span data-stu-id="4318f-250">Infinite loops during rendering:</span></span>

* <span data-ttu-id="4318f-251">Bewirkt, dass der Renderingprozess immer fortgesetzt wird</span><span class="sxs-lookup"><span data-stu-id="4318f-251">Causes the rendering process to continue forever.</span></span>
* <span data-ttu-id="4318f-252">Entspricht dem Erstellen einer nicht abgeschlossenen Schleife.</span><span class="sxs-lookup"><span data-stu-id="4318f-252">Is equivalent to creating an unterminated loop.</span></span>

<span data-ttu-id="4318f-253">In diesen Szenarien wird die betroffene Verbindung nicht mehr angezeigt, und der Thread versucht normalerweise Folgendes:</span><span class="sxs-lookup"><span data-stu-id="4318f-253">In these scenarios, the affected circuit hangs, and the thread usually attempts to:</span></span>

* <span data-ttu-id="4318f-254">Beanspruchen Sie beliebig viele CPU-Zeit, die das Betriebssystem unbegrenzt zulässt.</span><span class="sxs-lookup"><span data-stu-id="4318f-254">Consume as much CPU time as permitted by the operating system, indefinitely.</span></span>
* <span data-ttu-id="4318f-255">Nutzen Sie eine unbegrenzte Menge an Server Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="4318f-255">Consume an unlimited amount of server memory.</span></span> <span data-ttu-id="4318f-256">Die Verwendung von unbegrenztem Arbeitsspeicher entspricht dem Szenario, in dem eine nicht abgeschlossene Schleife einer Auflistung bei jeder Iterationen Einträge hinzufügt.</span><span class="sxs-lookup"><span data-stu-id="4318f-256">Consuming unlimited memory is equivalent to the scenario where an unterminated loop adds entries to a collection on every iteration.</span></span>

<span data-ttu-id="4318f-257">Um unendliche Rekursions Muster zu vermeiden, stellen Sie sicher, dass der rekursive Renderingcode geeignete Stopp Bedingungen</span><span class="sxs-lookup"><span data-stu-id="4318f-257">To avoid infinite recursion patterns, ensure that recursive rendering code contains suitable stopping conditions.</span></span>

### <a name="custom-render-tree-logic"></a><span data-ttu-id="4318f-258">Benutzerdefinierte renderstrukturlogik</span><span class="sxs-lookup"><span data-stu-id="4318f-258">Custom render tree logic</span></span>

<span data-ttu-id="4318f-259">Die meisten blazor-Komponenten werden als *Razor* -Dateien implementiert und kompiliert, um Logik zu erzeugen, `RenderTreeBuilder` die auf einem zum Renderingergebnis von arbeitet.</span><span class="sxs-lookup"><span data-stu-id="4318f-259">Most Blazor components are implemented as *.razor* files and are compiled to produce logic that operates on a `RenderTreeBuilder` to render their output.</span></span> <span data-ttu-id="4318f-260">Ein Entwickler kann Logik mithilfe `RenderTreeBuilder` von prozeduralem C# Code manuell implementieren.</span><span class="sxs-lookup"><span data-stu-id="4318f-260">A developer may manually implement `RenderTreeBuilder` logic using procedural C# code.</span></span> <span data-ttu-id="4318f-261">Weitere Informationen finden Sie unter <xref:blazor/components#manual-rendertreebuilder-logic>.</span><span class="sxs-lookup"><span data-stu-id="4318f-261">For more information, see <xref:blazor/components#manual-rendertreebuilder-logic>.</span></span>

> [!WARNING]
> <span data-ttu-id="4318f-262">Die Verwendung der Logik des manuellen renderbaum-Generators wird als erweitertes und unsichere Szenario angesehen und wird für die allgemeine Komponentenentwicklung nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="4318f-262">Use of manual render tree builder logic is considered an advanced and unsafe scenario, not recommended for general component development.</span></span>

<span data-ttu-id="4318f-263">Wenn `RenderTreeBuilder` Code geschrieben wird, muss der Entwickler die Richtigkeit des Codes sicherstellen.</span><span class="sxs-lookup"><span data-stu-id="4318f-263">If `RenderTreeBuilder` code is written, the developer must guarantee the correctness of the code.</span></span> <span data-ttu-id="4318f-264">Der Entwickler muss beispielsweise Folgendes sicherstellen:</span><span class="sxs-lookup"><span data-stu-id="4318f-264">For example, the developer must ensure that:</span></span>

* <span data-ttu-id="4318f-265">Aufrufe von `OpenElement` und `CloseElement` sind ordnungsgemäß ausgeglichen.</span><span class="sxs-lookup"><span data-stu-id="4318f-265">Calls to `OpenElement` and `CloseElement` are correctly balanced.</span></span>
* <span data-ttu-id="4318f-266">Attribute werden nur an den richtigen Stellen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="4318f-266">Attributes are only added in the correct places.</span></span>

<span data-ttu-id="4318f-267">Falsche manuelle Renderstruktur-Generator-Logik kann willkürlich nicht definiertes Verhalten verursachen, z. b. Abstürze, Serverabstürze und Sicherheitsrisiken.</span><span class="sxs-lookup"><span data-stu-id="4318f-267">Incorrect manual render tree builder logic can cause arbitrary undefined behavior, including crashes, server hangs, and security vulnerabilities.</span></span>

<span data-ttu-id="4318f-268">Beachten Sie die manuelle renderbaum-Generator-Logik auf der gleichen Ebene der Komplexität und mit dem gleichen Maß an *Gefahr* wie das Schreiben von Assemblycode oder MSIL-Anweisungen per Hand.</span><span class="sxs-lookup"><span data-stu-id="4318f-268">Consider manual render tree builder logic on the same level of complexity and with the same level of *danger* as writing assembly code or MSIL instructions by hand.</span></span>
